<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hexo环境搭建-6</title>
      <link href="/post/6b3e4ca3.html"/>
      <url>/post/6b3e4ca3.html</url>
      
        <content type="html"><![CDATA[<h2 id="文章置顶"><a href="#文章置顶" class="headerlink" title="文章置顶"></a>文章置顶</h2><pre><code>【推荐】`hexo-generator-index`从 v2.0.0 开始，已经支持文章置顶功能。你可以直接在文章的`front-matter`区域里添加`sticky: 1`属性来把这篇文章置顶。数值越大，置顶的优先级越大</code></pre><h2 id="文章封面"><a href="#文章封面" class="headerlink" title="文章封面"></a>文章封面</h2><blockquote><ul><li>文章的 markdown 文档上，在 Front-matter 添加 cover，并填上要显示的图片地址。如果不配置 cover，<br>可以设置显示默认的 cover</li><li>如果不想在首页显示 cover，可以设置为 false</li><li>修改主题配置文件_config.butterfly.yml</li></ul></blockquote><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># 是否显示文章封面</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 封面显示的位置</span></span><br><span class="line">  <span class="comment"># 三个值可配置 left , right , both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># 当没有设置cover时，默认的封面显示</span></span><br><span class="line">  <span class="attr">default_cover:</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>用法</th></tr></thead><tbody><tr><td>index_enable</td><td>主页是否显示文章封面图</td></tr><tr><td>aside_enable</td><td>侧栏是否显示文章封面图</td></tr><tr><td>archives_enable</td><td>归档页面是否显示文章封面图</td></tr><tr><td>position</td><td>主页卡片文章封面的显示位置 - left：全部显示在左边 - right：全部显示在右边 - both：封面位置以左右左右轮流显示</td></tr><tr><td>default_cover</td><td>默认的 cover, 可配置图片链接&#x2F;顔色&#x2F;渐变色等</td></tr></tbody></table><h2 id="文章页相关配置"><a href="#文章页相关配置" class="headerlink" title="文章页相关配置"></a>文章页相关配置</h2><h3 id="文章-meta-显示"><a href="#文章-meta-显示" class="headerlink" title="文章 meta 显示"></a>文章 meta 显示</h3><pre><code>post_meta这个属性用于显示文章的相关信息的，修改主题配置文件`_config.butterfly.yml`</code></pre><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">page:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 主页文章日期是创建日或者更新日或都显示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">relative</span> <span class="comment"># date/relative 显示日期还是相对日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 主页是否显示分类</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 主页是否显示标签</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 显示描述性文字</span></span><br><span class="line">  <span class="attr">post:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 文章页日期是创建日或者更新日或都显示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">relative</span> <span class="comment"># date/relative 显示日期还是相对日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 文章页是否显示分类</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 文章页是否显示标签</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 显示描述性文字</span></span><br></pre></td></tr></table></figure><h3 id="文章版权和协议许可"><a href="#文章版权和协议许可" class="headerlink" title="文章版权和协议许可"></a>文章版权和协议许可</h3><pre><code>修改主题配置文件`_config.butterfly.yml`</code></pre><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">author_href:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure><pre><code>由于Hexo 4.1开始，默认对网址进行解码，以至于如果是中文网址，会被解码，可设置decode: true来显示中文网址。如果有文章（例如：转载文章）不需要显示版权，可以在文章页Front-matter中单独设置。</code></pre><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">copyright:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><pre><code>从v3.0.0 开始，支持对单独文章设置版权信息，可以在文章Front-matter单独设置</code></pre><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line"><span class="attr">copyright_author:</span> <span class="string">xxxx</span></span><br><span class="line"><span class="attr">copyright_author_href:</span> <span class="string">https://xxxxxx.com</span></span><br><span class="line"><span class="attr">copyright_url:</span> <span class="string">https://xxxxxx.com</span></span><br><span class="line"><span class="attr">copyright_info:</span> <span class="string">此文章版权归xxxxx所有，如有转载，请註明来自原作者</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo搭建步骤 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo环境搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo环境搭建-5</title>
      <link href="/post/f2371d19.html"/>
      <url>/post/f2371d19.html</url>
      
        <content type="html"><![CDATA[<h2 id="语言"><a href="#语言" class="headerlink" title="语言"></a>语言</h2><blockquote><ul><li>修改站点配置文件<code>_config.yml</code>，如果使用的 butterfly 主题，请修改<code>_config-butterfly.yml</code>文件</li></ul><p>主题支持三种语言</p><ul><li>default(en)</li><li>zh-CN(简体中文)</li><li>zh-TW(繁体中文)</li></ul></blockquote><h2 id="网站资料"><a href="#网站资料" class="headerlink" title="网站资料"></a>网站资料</h2><p>修改网站各种资料，例如标题、副标题和邮箱等个人资料，请修改站点配置文件_config.yml。部分参数如下，详细参数可参考官方的<a href="https://hexo.io/zh-cn/docs/configuration">配置</a></p><table><thead><tr><th>属性</th><th>用法</th></tr></thead><tbody><tr><td>title</td><td>网站标题</td></tr><tr><td>subtitle</td><td>描述</td></tr><tr><td>description</td><td>网站描述</td></tr><tr><td>keywords</td><td>网站的关键词。支持多个关键词</td></tr><tr><td>author</td><td>您的名字</td></tr><tr><td>language</td><td>网站使用的语言。对于简体中文用户来说，使用不同的主题可能需要设置成不同的值，请参考你的主题的文档自行设置，常见的有 zh-Hans 和 zh-CN</td></tr><tr><td>timezone</td><td>网站时区。Hexo 默认使用您电脑的时区。请参考 时区列表 进行设置，如 America&#x2F;New_York, Japan, 和 UTC 。一般的，对于中国大陆地区可以使用 Asia&#x2F;Shanghai</td></tr></tbody></table><h2 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h2><pre><code>修改主题配置文件`_config.butterfly.yml`</code></pre><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">Archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="attr">Tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">Categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">List||fas</span> <span class="attr">fa-list:</span></span><br><span class="line">    <span class="attr">Music:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="attr">Movie:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="attr">Link:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="attr">About:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><p><strong>必须是 &#x2F;xxx&#x2F;，后面||分开，然后写图标名</strong></p><h2 id="导航栏设置"><a href="#导航栏设置" class="headerlink" title="导航栏设置"></a>导航栏设置</h2><pre><code>修改主题配置文件`_config.butterfly.yml`</code></pre><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">nav:</span></span><br><span class="line">  <span class="attr">logo:</span> <span class="comment">#image</span></span><br><span class="line">  <span class="attr">display_title:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">fixed:</span> <span class="literal">false</span> <span class="comment"># fixed navigation bar</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>用法</th></tr></thead><tbody><tr><td>logo</td><td>网站的 logo，支持图片，直接填入图片链接</td></tr><tr><td>display_title</td><td>是否显示网站标题，填写 true 或者 false</td></tr><tr><td>fixed</td><td>是否固定状态栏，填写 true 或者 false</td></tr></tbody></table><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="代码高亮主题"><a href="#代码高亮主题" class="headerlink" title="代码高亮主题"></a>代码高亮主题</h3><blockquote><p><code>Butterfly</code>支持 6 种代码高亮样式</p><ul><li>dark</li><li>pale night</li><li>light</li><li>ocean</li><li>mac</li><li>mac light</li></ul></blockquote><p>修改的位置：主题配置文件<code>_config.butterfly.yml</code>中的<code>highlight_theme</code>属性</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">light</span></span><br></pre></td></tr></table></figure><h3 id="代码复制"><a href="#代码复制" class="headerlink" title="代码复制"></a>代码复制</h3><p>修改的位置：主题配置文件<code>_config.butterfly.yml</code>中的<code>highlight_theme</code>属性</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="代码框展开-x2F-关闭"><a href="#代码框展开-x2F-关闭" class="headerlink" title="代码框展开&#x2F;关闭"></a>代码框展开&#x2F;关闭</h3><p>修改的位置：主题配置文件<code>_config.butterfly.yml</code>中的<code>highlight_shrink</code>属性</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 代码框不展开，需点击 &#x27;&gt;&#x27; 打开</span></span><br><span class="line"><span class="attr">highlight_shrink:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="代码换行"><a href="#代码换行" class="headerlink" title="代码换行"></a>代码换行</h3><pre><code>在默认情况下，Hexo 在编译的时候不会实现代码自动换行。如果你不希望在代码块的区域里有横向滚动条的话，那么你可以考虑开启这个功能</code></pre><p>修改的位置：主题配置文件<code>_config.butterfly.yml</code>中的<code>code_word_wrap</code>属性</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="代码高度限制"><a href="#代码高度限制" class="headerlink" title="代码高度限制"></a>代码高度限制</h3><p>修改的位置：主题配置文件<code>_config.butterfly.yml</code>中的<code>highlight_height_limit</code>属性</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># unit: px</span></span><br><span class="line"><span class="attr">highlight_height_limit:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="社交图标"><a href="#社交图标" class="headerlink" title="社交图标"></a>社交图标</h2><pre><code>Butterfly支持 [font-awesome v6](https://fontawesome.com/icons?from=io) 图标书写格式：图标名：url || 描述性文字</code></pre><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">fab fa-github:</span> <span class="string">https://github.com/xxxxx</span> <span class="string">||</span> <span class="string">Github</span></span><br><span class="line">  <span class="attr">fas fa-envelope:</span> <span class="string">mailto:xxxxxx@gmail.com</span> <span class="string">||</span> <span class="string">Email</span></span><br></pre></td></tr></table></figure><h2 id="主页文章节选-自动节选和文章页-description"><a href="#主页文章节选-自动节选和文章页-description" class="headerlink" title="主页文章节选(自动节选和文章页 description)"></a>主页文章节选(自动节选和文章页 description)</h2><pre><code>因为主题UI的关係，主页文章节选只支持自动节选和文章页description</code></pre><blockquote><p>在 butterfly 里，有四种可供选择</p><ul><li>description： 只显示 description</li><li>both： 优先选择 description，如果没有配置 description，则显示自动节选的内容</li><li>auto_excerpt：只显示自动节选</li><li>false： 不显示文章内容</li></ul></blockquote><p>修改的位置：主题配置文件<code>_config.butterfly.yml</code>中的<code>index_post_content</code>属性</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">index_post_content:</span></span><br><span class="line">  <span class="attr">method:</span> <span class="number">3</span></span><br><span class="line">  <span class="comment"># if you set method to 2 or 3, the length need to config</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">500</span></span><br></pre></td></tr></table></figure><p>description 在 front-matter 里添加</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">id:</span> <span class="string">blog32</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Hexo环境搭建-5</span></span><br><span class="line"><span class="attr">toc_number:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">categories:</span> <span class="string">hexo搭建步骤</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Hexo环境搭建</span></span><br><span class="line"><span class="attr">keywords:</span> <span class="string">hexo</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">最简单的记录一下hexo博客的搭建步骤</span></span><br><span class="line"><span class="attr">cover:</span> <span class="string">/config/img/top/t31.jpg</span></span><br><span class="line"><span class="attr">top_img:</span> <span class="string">/config/img/cover/c37.png</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><blockquote><ul><li>顶部图的获取顺序，如果都没有配置，则不显示顶部图</li><li>页面顶部图的获取顺序：</li><li>各自配置的 top_img &gt; 配置文件的 default_top_img</li><li>文章页顶部图的获取顺序：</li><li>各自配置的 top_img &gt; cover &gt; 配置文件的 default_top_img</li></ul></blockquote><table><thead><tr><th>属性</th><th>用法</th></tr></thead><tbody><tr><td>index_img</td><td>主页的 top_img</td></tr><tr><td>default_top_img</td><td>默认的 top_img，当页面的 top_img 没有配置时，会显示 default_top_img</td></tr><tr><td>archive_img</td><td>归档页面的 top_img</td></tr><tr><td>tag_img tag</td><td>子页面 的 默认 top_img</td></tr><tr><td>tag_per_img</td><td>tag 子页面的 top_img，可配置每个 tag 的 top_img</td></tr><tr><td>category_img</td><td>category 子页面 的 默认 top_img</td></tr><tr><td>category_per_img</td><td>category 子页面的 top_img，可配置每个 category 的 top_img</td></tr></tbody></table><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">index_img:</span> <span class="string">xxx.png</span></span><br></pre></td></tr></table></figure><p>其它页面 （tags&#x2F;categories&#x2F;自建页面）和文章页的 top_img，请到对应的 md 页面设置 front-matter 中的 top_img</p>]]></content>
      
      
      <categories>
          
          <category> hexo搭建步骤 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo环境搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo环境搭建-4</title>
      <link href="/post/85302d8f.html"/>
      <url>/post/85302d8f.html</url>
      
        <content type="html"><![CDATA[<h1 id="具体-type-的生成"><a href="#具体-type-的生成" class="headerlink" title="具体 type 的生成"></a>具体 type 的生成</h1><h2 id="标签页"><a href="#标签页" class="headerlink" title="标签页"></a>标签页</h2><blockquote><ul><li>前往自己的 Hexo 博客的根目录，打开 cmd 窗口执行<code>hexo new page tags</code></li><li>在根目录&#x2F;source&#x2F;下会生成一个含有 index.md 的 tags 文件夹</li><li>修改 index.md 文件，添加：<code>type: &quot;tags&quot;</code></li></ul></blockquote><p>具体的代码：<br>&#96;markdown</p><hr><p>title: tags<br>date: 2022-05-29 21:42:56<br>type: “tags”<br>orderby: random<br>order: 1</p><hr><p>&#96;</p><table><thead><tr><th>属性</th><th>用法</th></tr></thead><tbody><tr><td>type</td><td>【必须】页面类型，必须为 tags</td></tr><tr><td>orderby</td><td>【可选】排序方式 ：random&#x2F;name&#x2F;length</td></tr><tr><td>order</td><td>【可选】排序次序： 1, asc for ascending; -1, desc for descending</td></tr></tbody></table><h2 id="分类页"><a href="#分类页" class="headerlink" title="分类页"></a>分类页</h2><blockquote><ul><li>前往自己的 Hexo 博客的根目录，打开 cmd 窗口执行<code>hexo new page categories</code></li><li>在根目录&#x2F;source&#x2F;下会生成一个含有 index.md 的 categories 文件夹</li><li>修改 index.md 文件，添加：<code>type: &quot;categories&quot;</code></li></ul></blockquote><p>具体的代码：<br>&#96;markdown</p><hr><p>title: categories<br>date: 2022-05-29 21:42:56<br>type: “categories”<br>orderby: random<br>order: 1</p><hr><p>&#96;</p><h2 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h2><h3 id="创建友情链接页面"><a href="#创建友情链接页面" class="headerlink" title="创建友情链接页面"></a>创建友情链接页面</h3><blockquote><ul><li>前往你的 Hexo 博客根目录，打开 cmd 命令窗口执行<code>hexo new page link</code></li><li>在【BlogRoot&#x2F;source&#x2F;】会生成一个含有 index.md 文件的 link 文件夹</li><li>修改【BlogRoot&#x2F;source&#x2F;link&#x2F;index.md】，添加 type: “link”</li></ul></blockquote><h2 id="96-markdown"><a href="#96-markdown" class="headerlink" title="&#96;markdown"></a>&#96;markdown</h2><p>title: link<br>date: 2022-05-29 22:03:35<br>type: “link”</p><hr><p>&#96;</p><h3 id="友情链接页面添加友链信息"><a href="#友情链接页面添加友链信息" class="headerlink" title="友情链接页面添加友链信息"></a>友情链接页面添加友链信息</h3><pre><code>前往Hexo博客目录（【BlogRoot/source/_data】）创建一个文件link.yml（如果沒有 _data 文件夹，请自行创建），然后在_data目录下创建link.yml文件</code></pre><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">友情链接</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">那些人，那些事</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">唐志远の博客</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://fe32.top/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://bu.dusays.com/2022/01/14/cd5ffd485f867.jpg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">古今之成大事者，不惟有超世之才，亦必有坚忍不拔之志。</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">网站</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">值得推荐的网站</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Twitter</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://twitter.com/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">社交分享平台</span></span><br></pre></td></tr></table></figure><p><strong><code>class_name</code>和<code>class_desc</code>支持 html 格式，如不需要，也可以留空</strong></p><h2 id="图库"><a href="#图库" class="headerlink" title="图库"></a>图库</h2><pre><code>图库页面和普通的页面是一样的，只需要`hexo new page xxx`创建页面就行，然后使用标签外挂`galleryGroup`，具体用法看下面示例</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span><br><span class="line">&#123;% galleryGroup <span class="string">&#x27;cover&#x27;</span> <span class="string">&#x27;一些不错的封面图&#x27;</span> <span class="string">&#x27;/gallery/cover&#x27;</span> config/img/cover/c2.<span class="property">png</span> %&#125;</span><br><span class="line">&#123;% galleryGroup <span class="string">&#x27;avatar&#x27;</span> <span class="string">&#x27;好看的头像&#x27;</span> <span class="string">&#x27;/gallery/avatar&#x27;</span> config/img/top/t1.<span class="property">jpg</span> %&#125;</span><br><span class="line">&#123;% galleryGroup <span class="string">&#x27;taihangshan&#x27;</span> <span class="string">&#x27;太行山旅游&#x27;</span> <span class="string">&#x27;/gallery/taihangshan&#x27;</span> config/img/other/ths29.<span class="property">jpg</span> %&#125;</span><br><span class="line">&#123;% galleryGroup <span class="string">&#x27;gannan&#x27;</span> <span class="string">&#x27;甘南旅游&#x27;</span> <span class="string">&#x27;/gallery/gannan&#x27;</span> config/img/other/g1.<span class="property">jpg</span> %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p><strong>上述的<code>/gallery/cover</code>相当于对于不同的使用不同的文件夹（也就是子页面）</strong></p><h3 id="子页面"><a href="#子页面" class="headerlink" title="子页面"></a>子页面</h3><p>具体的目录结构：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 根目录/source/gallery/cover</span></span><br><span class="line"><span class="comment">// cover下面包含img文件夹，存放当前类别的文件，然后还有一个index.md</span></span><br><span class="line"><span class="comment">// index.md文件里面的写法：</span></span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"><span class="attr">title</span>: 头像图</span><br><span class="line"><span class="attr">date</span>: <span class="number">2023</span>-<span class="number">06</span>-<span class="number">25</span> <span class="number">17</span>:<span class="number">41</span>:<span class="number">39</span></span><br><span class="line"><span class="attr">type</span>: <span class="string">&quot;avatar&quot;</span></span><br><span class="line"><span class="attr">cover</span>: <span class="regexp">/config/img</span><span class="regexp">/top/</span>t11.<span class="property">jpg</span></span><br><span class="line"><span class="attr">top_img</span>: <span class="regexp">/config/img</span><span class="regexp">/cover/</span>c11.<span class="property">png</span></span><br><span class="line">---</span><br><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![](img/top/t1.<span class="property">jpg</span>)</span><br><span class="line">![](img/top/t2.<span class="property">jpg</span>)</span><br><span class="line">![](img/top/t3.<span class="property">jpg</span>)</span><br><span class="line">![](img/top/t4.<span class="property">jpg</span>)</span><br><span class="line">![](img/top/t5.<span class="property">jpg</span>)</span><br><span class="line">![](img/top/t6.<span class="property">png</span>)</span><br><span class="line">![](img/top/t7.<span class="property">jpg</span>)</span><br><span class="line">![](img/top/t8.<span class="property">jpg</span>)</span><br><span class="line">![](img/top/t9.<span class="property">jpg</span>)</span><br><span class="line">![](img/top/t10.<span class="property">jpg</span>)</span><br><span class="line">![](img/top/t11.<span class="property">jpg</span>)</span><br><span class="line">![](img/top/t12.<span class="property">jpg</span>)</span><br><span class="line">![](img/top/t13.<span class="property">jpg</span>)</span><br><span class="line">![](img/top/t14.<span class="property">jpg</span>)</span><br><span class="line">![](img/top/t15.<span class="property">png</span>)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><h2 id="404-页面"><a href="#404-页面" class="headerlink" title="404 页面"></a>404 页面</h2><pre><code>主题内置了一个简单的404页面，可以在设置中放开如果需要在本地预览404页面，打开浏览器，输入：`http://localhost:4000/404.html`</code></pre><p>具体的配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># A simple 404 page</span></span><br><span class="line"><span class="attr">error_404:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">subtitle:</span> <span class="string">&quot;页面沒有找到&quot;</span></span><br><span class="line">  <span class="attr">background:</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo搭建步骤 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo环境搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo环境搭建-3</title>
      <link href="/post/1b54b82c.html"/>
      <url>/post/1b54b82c.html</url>
      
        <content type="html"><![CDATA[<h3 id="主题安装"><a href="#主题安装" class="headerlink" title="主题安装"></a>主题安装</h3><pre><code>本站用的是hexo-theme-butterfly主题，使用的npm方式进行的安装，后续需要在根目录/node_modules/hexo-theme-butterfly文件夹下修改对应的文件</code></pre><blockquote><ul><li>安装需要执行的命令<code>npm i hexo-theme butterfly</code></li></ul></blockquote><h3 id="应用主题"><a href="#应用主题" class="headerlink" title="应用主题"></a>应用主题</h3><blockquote><ul><li>安装后，应用主题就要修改默认的配置文件，将_config.yml 文件中的主题修改为 butterfly</li><li>具体是：<code>theme: butterfly</code></li></ul></blockquote><h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><pre><code>如果没有pug以及stylus的渲染器，需要下载安装，具体的命令：`npm install hexo-renderer-pug hexo-renderer-stylus --save`</code></pre><h3 id="对于后续升级的建议"><a href="#对于后续升级的建议" class="headerlink" title="对于后续升级的建议"></a>对于后续升级的建议</h3><pre><code>为了减少升级主题后之后修改配置的不便，可以采用下述方法</code></pre><blockquote><ul><li>把对应主题的_config.yml 文件复制到 Hexo 的根目录里，同时重命名为_config_butterfly.yml</li><li>以后对应配置的修改就可以直接在_config_butterfly.yml 进行修改即可</li><li>Hexo 会自动合并主题中的_config.yml 和_config_butterfly.yml 里面的配置，同名的配置会使用_config_butterfly.yml 里面的配置，其优先级比较高</li></ul></blockquote><h2 id="Front-matter"><a href="#Front-matter" class="headerlink" title="Front-matter"></a>Front-matter</h2><blockquote><p>Front-matter 是 markdown 文件最上方以**—**分隔的区域，用于指定个别档案的变数</p><ul><li>Page Front-matter 用于页面的配置</li><li>Post Front-matter 用于文章页配置</li></ul></blockquote><h3 id="Page-Front-matter"><a href="#Page-Front-matter" class="headerlink" title="Page Front-matter"></a>Page Front-matter</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">type:</span><br><span class="line">categories:</span><br><span class="line">tags:</span><br><span class="line">comments:</span><br><span class="line">description:</span><br><span class="line">keywords:</span><br><span class="line">cover:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aside:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>用法</th></tr></thead><tbody><tr><td>title</td><td>【必须】页面标题</td></tr><tr><td>date</td><td>【必须】页面创建日期</td></tr><tr><td>type</td><td>【必须】标签、分类和友情链接三个页面需要配置</td></tr><tr><td>updated</td><td>【可选】页面更新日期</td></tr><tr><td>description</td><td>【可选】页面描述</td></tr><tr><td>keywords</td><td>【可选】页面关键字</td></tr><tr><td>comments</td><td>【可选】显示页面评论模块(默认为 true)</td></tr><tr><td>top_img</td><td>【可选】页面顶部图片</td></tr><tr><td>mathjax</td><td>【可选】显示 mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td>katex</td><td>【可选】显示 katex(当设置 katex 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td>aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr><tr><td>aplayer</td><td>【可选】在需要的页面加载 aplayer 的 js 和 css,请参考文章下面的音乐 配置</td></tr><tr><td>highlight_shrink</td><td>【可选】配置代码框是否展开(true&#x2F;false)(默认为设置中 highlight_shrink 的配置)</td></tr></tbody></table><h3 id="Post-Front-matter"><a href="#Post-Front-matter" class="headerlink" title="Post Front-matter"></a>Post Front-matter</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">comments:</span></span><br><span class="line"><span class="emphasis">cover:</span></span><br><span class="line"><span class="emphasis">toc:</span></span><br><span class="line"><span class="emphasis">toc_</span>number:</span><br><span class="line">toc<span class="emphasis">_style_</span>simple:</span><br><span class="line">copyright:</span><br><span class="line">copyright<span class="emphasis">_author:</span></span><br><span class="line"><span class="emphasis">copyright_</span>author<span class="emphasis">_href:</span></span><br><span class="line"><span class="emphasis">copyright_</span>url:</span><br><span class="line">copyright<span class="emphasis">_info:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line"><span class="section">aside:</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>用法</th></tr></thead><tbody><tr><td>title</td><td>【必需】文章标题</td></tr><tr><td>date</td><td>【必需】文章创建日期</td></tr><tr><td>updated</td><td>【可选】文章更新日期</td></tr><tr><td>tags</td><td>【可选】文章标籤</td></tr><tr><td>categories</td><td>【可选】文章分类</td></tr><tr><td>keywords</td><td>【可选】文章关键字</td></tr><tr><td>description</td><td>【可选】文章描述</td></tr><tr><td>top_img</td><td>【可选】文章顶部图片</td></tr><tr><td>cover</td><td>【可选】文章缩略图(如果没有设置 top_img,文章页顶部将显示缩略图，可设为 false&#x2F;图片地址&#x2F;留空)</td></tr><tr><td>comments</td><td>【可选】显示文章评论模块(默认 true)</td></tr><tr><td>toc</td><td>【可选】显示文章 TOC(默认为设置中 toc 的 enable 配置)</td></tr><tr><td>toc_number</td><td>【可选】显示 toc_number(默认为设置中 toc 的 number 配置)</td></tr><tr><td>toc_style_simple</td><td>【可选】显示 toc 简洁模式</td></tr><tr><td>copyright</td><td>【可选】显示文章版权模块(默认为设置中 post_copyright 的 enable 配置)</td></tr><tr><td>copyright_author</td><td>【可选】文章版权模块的文章作者</td></tr><tr><td>copyright_author_href</td><td>【可选】文章版权模块的文章作者链接</td></tr><tr><td>copyright_url</td><td>【可选】文章版权模块的文章连结链接</td></tr><tr><td>copyright_info</td><td>【可选】文章版权模块的版权声明文字</td></tr><tr><td>mathjax</td><td>【可选】显示 mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td>katex</td><td>【可选】显示 katex(当设置 katex 的 per_page: false 时，才需要配置，默认 false)</td></tr><tr><td>aplayer</td><td>【可选】在需要的页面加载 aplayer 的 js 和 css,请参考文章下面的音乐 配置</td></tr><tr><td>highlight_shrink</td><td>【可选】配置代码框是否展开(true&#x2F;false)(默认为设置中 highlight_shrink 的配置)</td></tr><tr><td>aside</td><td>【可选】显示侧边栏 (默认 true)</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> hexo搭建步骤 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo环境搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo环境搭建-2</title>
      <link href="/post/6c5388ba.html"/>
      <url>/post/6c5388ba.html</url>
      
        <content type="html"><![CDATA[<h2 id="初始化一个-Hexo-的项目"><a href="#初始化一个-Hexo-的项目" class="headerlink" title="初始化一个 Hexo 的项目"></a>初始化一个 Hexo 的项目</h2><blockquote><ul><li>在目标路径执行 hexo init blog-name（项目名称，自己随便命名）</li><li>进入 blog-name，输入 npm i 安装相关依赖</li></ul><p>依赖下载完成后，目录结构如下：</p><ul><li><p>node-modules：依赖包</p></li><li><p>scaffolds：生成文章的一些模板</p></li><li><p>source：用来存放你的文章</p></li><li><p>themes：主题</p></li><li><p>.npmignore：发布时忽略的文件</p></li><li><p>_config.landscape.yml：主题的配置文件</p></li><li><p>_config.yml：博客的配置文件</p></li><li><p>package.json：项目名称、描述、版本、运行和开发信息</p></li><li><p>输入 hexo server 或者 hexo s</p></li><li><p>打开浏览器，输入地址：<a href="http://localhost:4000/">http://localhost:4000/</a></p></li></ul></blockquote><h2 id="如何将静态的博客推送到-github-上"><a href="#如何将静态的博客推送到-github-上" class="headerlink" title="如何将静态的博客推送到 github 上"></a>如何将静态的博客推送到 github 上</h2><pre><code>这个推送到github上指的是将静态的博客页面推送到github创建的博客仓库上</code></pre><h3 id="安装-hexo-deployer-git"><a href="#安装-hexo-deployer-git" class="headerlink" title="安装 hexo-deployer-git"></a>安装 hexo-deployer-git</h3><pre><code>执行命令：npm install hexo-deployer-git --save</code></pre><h3 id="修改-config-yml-文件"><a href="#修改-config-yml-文件" class="headerlink" title="修改_config.yml 文件"></a>修改_config.yml 文件</h3><pre><code>在blog-name目录下的_config.yml，就是整个Hexo框架的配置文件。可以在这里面修改大部分的配置，详细配置请参考[官方配置](https://hexo.io/zh-cn/docs/configuration)修改配置文件的最后一行的配置，将repository修改为你自己的github仓库地址即可**检查自己的默认分支是不是master，这个在你创建博客仓库的时候可以看到或者后续修改，如果不是，就要修改配置文件**</code></pre><blockquote><p>具体代码如下</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy</span>:</span><br><span class="line">  <span class="attr">type</span>: git</span><br><span class="line">  <span class="attr">repository</span>: git地址</span><br><span class="line">  branch：仓库的默认分支名称</span><br></pre></td></tr></table></figure><h3 id="部署项目到-github"><a href="#部署项目到-github" class="headerlink" title="部署项目到 github"></a>部署项目到 github</h3><blockquote><p>修改好配置文件后，运行如下命令，将代码部署到 github</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><blockquote><ul><li>hexo clean：删除之前生成的文件，若未生成过静态文件，可忽略此命令</li><li>hexo henerate：生成静态文章，可以用 hexo g 缩写</li><li>hexo deploy：部署文章，可以用 hexo d 缩写</li><li>命令执行完后，如果出现 deploy done，则说明部署成功了</li><li>浏览器输入地址 <a href="https://github/">https://github</a> 用户名.github.io，就可以看到博客内容了</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> hexo搭建步骤 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo环境搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo环境搭建-1</title>
      <link href="/post/f55ad900.html"/>
      <url>/post/f55ad900.html</url>
      
        <content type="html"><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote><p>本人是在 windows11 的电脑上搭建的 hexo 博客</p><ul><li>电脑的操作系统：windows11</li><li>需要有的基础环境包括：Node、Git、一个 github 的账号</li></ul></blockquote><h2 id="Node-的环境安装以及配置"><a href="#Node-的环境安装以及配置" class="headerlink" title="Node 的环境安装以及配置"></a>Node 的环境安装以及配置</h2><pre><code>Node的环境配置相对比较简单，可以自行百度</code></pre><h2 id="Git-的安装教程"><a href="#Git-的安装教程" class="headerlink" title="Git 的安装教程"></a>Git 的安装教程</h2><pre><code>Git的安装也是比较简单的，官网下载直接next安装即可</code></pre><h2 id="github"><a href="#github" class="headerlink" title="github"></a>github</h2><pre><code>学习编程有一个代码的存储仓库是必须的，它可以记录你的学习过程，更好的管理代码，并且在以后的找工作的路上，通过github的提交记录过程也可以看到你的学习过程，这个是很重要的。具体的注册等步骤也可以自行百度，我在这里就不多说了，因为一个人学习编程的话，什么都会也是不现实的，所以必须学会通过各种方式解决问题，百度就是最基础的一种，如果简单的环境搭建（**我说的是简单的环境！！！**）都完成不了，可能需要考虑是否适合学习编程了</code></pre><h2 id="github-的个人博客"><a href="#github-的个人博客" class="headerlink" title="github 的个人博客"></a>github 的个人博客</h2><pre><code>每一个github的账号可以创建一个博客网站，这个仓库和其他的仓库是不一样的，也是New repository创建仓库，但是名称是：&lt;用户名&gt;.github.io，其他的步骤基本和其他仓库是一致的</code></pre><h2 id="基础的常用命令"><a href="#基础的常用命令" class="headerlink" title="基础的常用命令"></a>基础的常用命令</h2><blockquote><ul><li>git config -1 查看所有配置</li><li>git config –system –list 查看系统配置</li><li>git config –global –list 查看用户（全局）配置</li><li>git config –global user.name “你的用户名”</li><li>git config –global user.email “你的邮箱”</li></ul></blockquote><h2 id="连接-github"><a href="#连接-github" class="headerlink" title="连接 github"></a>连接 github</h2><pre><code>通常来说，对于github的仓库，如果是公开的，我们可以选择https的方式进行clone，u嗯可以选择使用ssh的方式进行clone，但是ssh的clone需要生成公钥对之后才可以</code></pre><blockquote><p>1、生成 ssh 公钥的步骤</p><ul><li>执行命令：ssh-keygen -t rsa -C “你的邮箱”。之后打开你的 C 盘用户文件夹的.ssh 文件夹就会看到 id_rsa.pub 文件</li><li>使用编辑器或者记事本打开刚才的公钥文件，复制里面的内容，在 github 中配置 ssh 密钥即可</li><li>github 配置 ssh 公钥的具体路径：进入 github -&gt; 点击右上角的头像 -&gt; 点击 settings -&gt; 选择 SSH and GPG keys 之后起个名字，粘贴复制的公钥内容即可</li><li>配置后，为了测试是否配置成功，可以执行以下命令：ssh -T <a href="mailto:&#103;&#x69;&#116;&#64;&#x67;&#105;&#116;&#x68;&#x75;&#x62;&#46;&#99;&#111;&#109;">&#103;&#x69;&#116;&#64;&#x67;&#105;&#116;&#x68;&#x75;&#x62;&#46;&#99;&#111;&#109;</a> 之后出现 Hi xxx You’ve successfully autherticated, xxx 就说明成功了</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> hexo搭建步骤 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo环境搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实习生活</title>
      <link href="/post/85d3a334.html"/>
      <url>/post/85d3a334.html</url>
      
        <content type="html"><![CDATA[<h2 id="实习生活结束的原因"><a href="#实习生活结束的原因" class="headerlink" title="实习生活结束的原因"></a>实习生活结束的原因</h2><p>我的实习生活是从今年的 7 月 18 号正式开始的，本来想着实习个半年呢，结果事情果然不能提前做决定，<br>因为各种事情的发展使得其不断的变化，实习期间我的论文被录用了，按说有这个好事，我更加可以一直<br>实习才对，但是秋招开始了，目前已经研三了，找工作只有两次机会，秋招与明年的春招，但是我只是<br>普通的一本院校，秋招提前批，我投都没敢投简历，因为心里知道，过不了的，别说笔试面试过了过不了，<br>就连简历筛选估计都过不了的，学历真的很重要。所以想着赶紧辞职，好好准备以下吧，都说金九银十，<br>九月已经没了，十月不知道能否把握住呢，希望一切顺利吧！</p><h2 id="实习中的项目经历"><a href="#实习中的项目经历" class="headerlink" title="实习中的项目经历"></a>实习中的项目经历</h2><blockquote><ul><li>实习两个月多点，算是一共经历了三个，但是参与比较多的只有两个，一个是温箱项目，这个项目类似于大屏展示的功能，但是在展示的基础上，增加了一些命令的添加与执行操作，包括命令执行后的工作进度等，这些都是实时更新的，也有命令执行过程中出现错误之后的紧急处理，因为命令是下发给硬件执行了，如果过程中出现错误什么的，就不能让他接着执行了，否则可能引起温度过高，导致机器损坏，必须处理合适。处理等都是实时的，最后使用 echarts 写了一个堆叠展示图，默认是展示当天的范围，可以拖拽查看某一时间范围下发的温度值和实际执行值，也可以通过时间选择器，输入想要查看的时间范围</li><li>第二个也不算是个项目，但却是非常重要的一个功能，就是 pdf 生成的功能，但是这个不是简单的生成就可以。首先它需要将网站的所有网页都转为 pdf，这个范围包括侧边栏下所有导航以及子导航包括的所有网页，总体加起来达到将近 8000 页，第二，由于网页都是产品的参数信息，也就是由表格构成的，一个包含三个表格：表头（包含一个 addr（唯一值）以及表格名称）表格、参数信息表格、参数描述的表格，由于一个子目录包含的信息转为 pdf 都有五六百页，所以如果简答的生成的话，查看起来是非常麻烦的，因此就需要生成一个目录表格，使用前端的锚点定位功能来快速定位查看的是哪一个表格信息，这个锚点定位的功能需要实现为双向的：目录表格可以定位到具体的表格，表格也可以快速回到目录表格，以便于下一次的查找。在此基础上，由于内容是处于不同的目录（导航）之下的，我们需要生成一个大纲（也就是根据每个大模块生成对应的目录，先跳转到大模块，再根据具体的需求根据目录表格使用锚点定位查找具体的表格）</li><li>第三个项目是一个做了很久的项目，因为其功能特别特别的多，所以做的时间非常久，我来的时候，这个项目就已经在做了，有人在做，所以刚开始我并没有被分配到这个项目上，后续有人离职，所以我才加入了进来，它是一个添加案例，以及管理，后续还会有 lauch，测试等等，（每个人可以创建项目，在项目里面可以添加案例，案例的管理是通过 tree 进行的，也可以理解为 group，不同的组下有不同的嵌套文件夹，然后文件夹下对应各种各样的 case，嵌套的管理很复杂，因为要求不同的 group 下的案例可以整体的显示，然后点开不同的 group，就只显示当前 group 下的 case，非常非常的复杂，里面也参杂了权限，权限是根据项目 id 进行分配的）。我只参与了后续的 debug 的修改等一些小的 bug 修复，这个项目虽然已经开发了半年多，目前只完成一个模块中的一部分，还有很多并未实现，后续会有 stage3、stage4 等等</li></ul></blockquote><h2 id="对于项目中的难点"><a href="#对于项目中的难点" class="headerlink" title="对于项目中的难点"></a>对于项目中的难点</h2><blockquote><p>温箱项目：</p><ul><li>该项目之前是写过一遍的，只不过没有使用框架，后续主管为了更方便管理，让我用 vue3 重构了一遍，整体来说实现起来并不复杂，只不过功能都是实时的，在处理的过程中比较麻烦一点吧，因为需要避免各种功能之间的互相影响（比如修改了温度，按道理来说，修改之后，一旦提交这个请求，就会让机器按照修改的执行，但是由于上一次的任务可能还没有执行完毕，这时候就要做处理。以及由于部署环境的影响，一个项目的不同参数等等可能不只处于一个环境下，有一个出错，可能就会出错，导致不能运行，但是机器是硬件设施。命令也是对机器下发的不同的温度，这是如果不处理，可能会因为温度升高，导致损坏，所以这一切都是实时监督的，出错处理，以及出错修复以后，是按照新的执行，还是继续上一次的等等）</li></ul><p>pdf 生成项目：上面也叙述了这个功能的要求，其实现的困难点包括:</p><ul><li>如何能够一次性的生成（8000 页不中断）</li><li>如果能在合并 pdf 的过程中保留锚点定位功能</li><li>如何根据不同的模块生成对应的一级二级目录</li><li>当然在这里，处理以上这些，还需要对生成的 pdf 加上页眉、页脚、以及封页等</li></ul><p>testhub 项目：</p><ul><li>这个项目难点很多，首先先看明白就需要时间，由于我开的功能不多，这里不多阐述</li></ul></blockquote><pre><code>由于pdf生成的重要性，这里叙述以下整体的过程</code></pre><h3 id="起初选择的库以及出现的问题"><a href="#起初选择的库以及出现的问题" class="headerlink" title="起初选择的库以及出现的问题"></a>起初选择的库以及出现的问题</h3><blockquote><p>起初选择的库</p><ul><li>对于连续生成，也就是将 html 转为 pdf，我选择了 puppeteer 这个库，因为导航栏有一级导航、二级导航，只有点击对应的导航，才能显示对应的内容，所以我们需要模拟网页的点击事件，才能拿到对应的 html 内容，这个库可以很好的做到，并且也可以添加对应的页眉、页脚等</li><li>由于网站的整体架构是先分为上下，上面是 header，包括 logo、以及根据内容进行模糊搜索，还有分屏的功能等，然后下面部分又分为左右，左边导航栏，右边才是真正的内容，但是我们转 pdf 是不需要 header 以及导航的内容的，我们只需要内容部分，这就相当于划定范围的生成，这里肯定是需要处理 css 的，要不然转成的 pdf 样式结构肯定乱套了，puppeteer 这个库也可以很好的处理 css 问题</li><li>对于只生成划定范围的内容，puppeteer 这个库有两种方式可以做到，一种是调用其中的 setContent 方法，也就是将需要生成部分的的 html 传入即可，但是这种方式有很大的弊端，因为网站肯定是样式设定好的，但是你直接传入，那就相当于，你把宽度可能有 80%的右侧内容部分传入，那么它就占据了百分百的宽度，以及网站是先分上下的，它的上面肯定也有空间，而你简单的传入，样式已经乱套了，这个时候你只能通过类似 js 的方式书写 css 去解决这个问题，如果你学过前端，你就应该明白，使用 js 书写简单的或者少量的 css 是完全没有问题的，但是大量的书写是非常的恶心的，代码也没有可读性，所以这种方式尝试后就放弃了</li><li>第二种方式就是直接调用 pdf 方法去生成，但是直接调用 pdf，相当于传入的是这个网站的内容，这个时候，我们可以通过控制 css 的方式去控制样式（puppeteer 支持的非常好），这里需要注意的是，如果你把导航栏的 display 设定为 none 值，你就无法触发其内容的点击事件，这样也就无法实现连续生成的效果，这里的解决办法是使用 opacity：0 的方式，然后将其父元素的整体宽度设为 0 来实现的，既保留了点击事件的有效性，也可以只保留划定内容的显示。</li><li>对于生成后 pdf 的合成（因为是根据不同的模块生成的，每个 html 保存成了一个 pdf，后续需要所有的合并为一个 pdf），起初选择的是 pdf-lib，这个库也就久负盛名，其不仅可以指定合并的页数，还可以提取其中某一页的 pdf，或者不要某一页的 pdf，并且可以在合并的过程中，单独的对 pdf 进行处理，包括添加页码、加水印等等，非常的方便</li><li>对于大纲的生成，pdf-lib 这个库也可以做到，但是其生成的大纲对于样式的控制却不太灵活，后续放弃了这个库，使用了 python 的一个库，叫做 pymupdf</li></ul></blockquote><blockquote><p>出现的问题</p><ul><li>puppeteer 是模拟浏览器来进行的，其中有一个 brower 实例，也就是打开一个浏览器，然后其中有 page 方法，也就是打开一个页签，刚开始我以为打开一个页签，利用循环的方式，直接就可以连续生成了呢，结果不然，在连续生成的页面多了以后，就会报错，猜测可能是一个 page 的生成是有限制的，不能无限的生成（因为包含很多的页面，需要不停的切换，并且页面的表格也是动态生成的，我们需要确保页面中所有表格生成完毕才能执行 pdf 的生成）</li><li>上述问题的解决办法：第一次尝试在生成后关闭页面，然后在打开一个新的 page 实例，结果不行，因为你刚开始打开一个 brower 实例，一个 page 实例，生成后，你把 page 关闭，那就相当于你把 brower 唯一的 page 关了，那浏览器肯定也就关闭了，所以此法不通。后续是通过每次都打开关闭 brower 的方式实现的</li><li>上述也说过，pdf 除了连续生成很重要，其中的锚点定位更是重中之重，因为页面太多，每个页面包含的表格更是成百上千，没有锚点定位，查看很麻烦，但是采用 pdf-lib 合并 pdf 后，原 pdf 的锚点定位功能就被取消了，个人猜测原因如下：由于锚点定位用的还是浏览器的 hash 功能，所以内部肯定是通过代码处理的，但是 pdf-lib 可能是将内容转为 byte 的过程中，只保留了内容，功能部分的（很可能是 js）被丢弃了，所以锚点功能就没了。</li><li>锚点功能是绝对不能丢弃的。后续通过大量的百度等找到了另一个伟大的库：easy-pdf-merge，这个库非常的 nice，但是你通过 npm 的官网，会发现它的下载量不高，可能是因为大家一般都是简单的生成，并不需要保留什么功能吧，所以 pdf-lib 可能就相比之下更好用了。这个库非常的秀，它的底层是使用 java 开发的，所以使用它就需要有 java 环境。还有一点就是就像上面说的，锚点定位是相当于浏览器 hash 功能的，所以应该会有脚本对其处理，pdf-lib 合并后失去功能，很可能就是丢弃了脚本，但是 easy-pdf-merge 可能就是保留了脚本，所以它的合并可能是简单粗暴的（由于没看源码，一切都是自己猜测的），因为它合并的文件大小就相当于每个 pdf 文件大小的累加和，这样以来，就对生成的 pdf 大小是有很大的要求的，8000 多页的 pdf，累加起来的大小是非常大的</li><li>后续生成二点过程中我发现 puppeteer 这个库采用 headless: false 和 headless: true 相比，生成的文件大小只有其六分之一左右。headless: false 会打开浏览器，headless: true 不会打开浏览器，如果采用 headless: true 生成 8000 多页，后续合并后，整体的 pdf 大小超过了 1G，浏览器根本打不开这样的 pdf 文件，我也是后来才发现这个事情的，所以后续采用的是 headless: false 生成的，8000 页合并后整体大小为 150M 左右，不算大，因为页数确实多</li><li>然后对于大纲，我们采用了 pymupdf 这个 python 库实现的</li></ul></blockquote><p><strong>整体的实现相当于需要 nodejs、Java、python 三种环境才大功告成</strong></p><pre><code>目前为发现其他更好的解决办法，如果有可以联系我：[邮箱](fxh19980816@126.com)</code></pre><blockquote><p>除此之外，puppeteer 现在是不能下载内置的 chrome 浏览器的，需要自己电脑本机上下载，后续指定位置进行使用，所以安装 puppeteer 库的时候，需要先导出变量: <code>PUPPETEER_SKIP_DOWNLOAD=&#39;true&#39;</code>，然后在执行<code>npm i puppeteer</code><br>windows 导出变量不能使用 cmd 的，需要在 git 里面</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 实习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实习生活 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启实习生活</title>
      <link href="/post/90476360.html"/>
      <url>/post/90476360.html</url>
      
        <content type="html"><![CDATA[<h2 id="实习生活"><a href="#实习生活" class="headerlink" title="实习生活"></a>实习生活</h2><p>可能是因为感觉在学校生活没什么事情了，也许是感觉有份实习的经历会对后续找正式的工作有帮助，就在网上投递简历找了一份实习，实习的 base 是在杭州，刚来到这里，说实话，很难受，因为一个人到了一个不习惯的生活环境，没有认识的人，也没有找房子，公司如何，同事如何都不知道，心中还是十分忐忑的。第一天早早的起床，到公司八点半，发现大家都没去，规定是九点上班，下午六点下班，但并不强制，可以稍微晚点，那走的时候也就是相对晚点，主要看自己。实习生是有上下班打卡要求的（但是我老是忘记打下班卡），因为上班卡是早上第一次刷脸后就相当于打卡了，但是下班时通过钉钉进行打卡的，有范围限制，大概是 300 米以内。第一天见到同事啥的，感觉还行，实习生有五六个吧，前两天并没有给我安排工作，就是自己简单的熟悉一下。结果第二天中午我问实习生的负责人说我有啥工作吗，虽然当时没有，第二天中午就给我安排了，然后周五第一次参加工作汇报会议，发现有一个实习生比我报道时间都早，现在都还没有被安排工作，瞬间感觉可能是我自己问的了。哎，不过也没事，因为这份实习面试的时候就说过了的，不转正，所以就算是为了真的学点东西吧。</p><h2 id="自己真笨"><a href="#自己真笨" class="headerlink" title="自己真笨"></a>自己真笨</h2><p>刚进入公司分给我了一台电脑以及显示器，说实话，我之前在学校自己没有用过显示器，我都不知道怎么跟电脑连接的，尴尬的一批，线都不会接，还找了兄弟帮忙，感觉有点丢人，哈哈。然后被安排工作之后，搭建环境竟然也出问题了，感觉以前自己看视频学习也没有出过错啊，整了半天也没有弄明白，主要还是自己太自信了，因为我自己还是先百度了一波的，但是别人说的那种情况我觉得不太可能，就没尝试，然后无奈，又找了兄弟帮忙，真的是丢人，工作都整不明白了，结果他就是百度的，根据人家的弄好的，哎，自己脑子抽抽了？</p><h2 id="目前状况"><a href="#目前状况" class="headerlink" title="目前状况"></a>目前状况</h2><p>自己目前负责的这个工作，目前难度不高，后续还不清楚，但是我发现我在公司干活好像还不如我自己在租房子这里干的明白呢，不太懂，难道是在公司紧张？还是说还没有适应？希望后续正常点吧，工作汇报的时候，感觉别人负责的工作看起来好高大上啊，并且别人解决的问题也是高大上感觉，虽然有人安慰我说，其实都没啥，你要是做这方面，你会发现不难，就是来的时间久了点，习惯了而已，或许吧，我也希望我待了三四个月后，能够有这种感觉</p>]]></content>
      
      
      <categories>
          
          <category> 实习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实习生活 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（8-1）</title>
      <link href="/post/e2e2914e.html"/>
      <url>/post/e2e2914e.html</url>
      
        <content type="html"><![CDATA[<h2 id="面试过程"><a href="#面试过程" class="headerlink" title="面试过程"></a>面试过程</h2><p>这次的面试也算是一个老的面试，是之前一个的二面，不太懂，现在都已经卷到这个程度了？实习生都有二面、三面了？好歹我还是先参加了线上的笔试才被安排面试的，哎… 这次的面试效果很不好，因为问的问题我个人觉得超出了实习的能力范围，问了一些和源码相关的东西，并且基本没有基础，全是和源码相关的，我觉得就算是正式的校招，你这个难度也有点过了啊</p><h2 id="vue-use-的原理，是怎么实现的"><a href="#vue-use-的原理，是怎么实现的" class="headerlink" title="vue.use 的原理，是怎么实现的"></a>vue.use 的原理，是怎么实现的</h2><pre><code>执行 Vue.use(myPlugin) 会调用 myPlugin.install(Vue)</code></pre><blockquote><p>Vue.use 方法的第一个参数只能接收对象与函数形式的参数，对象参数需要有 install 方法，当传入参数中是对象，且有 install 方法时，会自动执行其中的 install 方法，并且 install 方法中的 this 依然指向该对象<br>当参数为函数时，不需要有 install 方法（函数本身也没有），也会直接执行该传入的函数<br>传入该对象的 install 方法和函数中的第一个参数，必然是 Vue 对象本身，依然是源码的体现，Vue.use 中第二个参数之后的参数，会按第二个参数依次传入该对象的 install 方法或函数<br><strong>作用：1、注册全局组件（并不是 use 方法本身能注册全局组件，是此 install 方法或函数中的代码逻辑可以实现）2、在原型上增加一些东西</strong></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将 HelloWorld 注册为全局组件</span></span><br><span class="line"><span class="comment">// 在原型中添加$num= 123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在components中新建components.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HelloWorld</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/HelloWorld.vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">install</span>: <span class="keyword">function</span> (<span class="params">Vue</span>) &#123;</span><br><span class="line">    <span class="comment">// 这里的Vue就是你调用install方法时传递过来的</span></span><br><span class="line">    <span class="comment">// 可以在Vue原型中加一些东西</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$num</span> = <span class="number">123</span></span><br><span class="line">    <span class="comment">// 注册全局组件</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="title class_">HelloWorld</span>.<span class="property">name</span>, <span class="title class_">HelloWorld</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在main.js中调用</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> components <span class="keyword">from</span> <span class="string">&#x27;@/assets/components.js&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(components)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Helloworld.vue</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这里是HelloWord<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; $num &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;HelloWorld&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><strong>该 js 为对象时，component.js 写法不一样，其他均一样</strong></p><h3 id="Vue-use-VueRouter-就是这么实现的"><a href="#Vue-use-VueRouter-就是这么实现的" class="headerlink" title="Vue.use(VueRouter)就是这么实现的"></a>Vue.use(VueRouter)就是这么实现的</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> (<span class="params">Vue</span>) &#123;</span><br><span class="line">  <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="title class_">HelloWorld</span>.<span class="property">name</span>, <span class="title class_">HelloWorld</span>);</span><br><span class="line">  <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$num</span> = <span class="number">123</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">install</span>(<span class="params">Vue</span>) &#123;</span><br><span class="line">  <span class="comment">// 这一句是为了防止重复注册</span></span><br><span class="line">  <span class="keyword">if</span> (install.<span class="property">installed</span> &amp;&amp; _Vue === <span class="title class_">Vue</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  install.<span class="property">installed</span> = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">  _Vue = <span class="title class_">Vue</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> isDef = <span class="keyword">function</span> (<span class="params">v</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> v !== <span class="literal">undefined</span>;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> registerInstance = <span class="keyword">function</span> (<span class="params">vm, callVal</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> i = vm.<span class="property">$options</span>.<span class="property">_parentVnode</span>;</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      <span class="title function_">isDef</span>(i) &amp;&amp;</span><br><span class="line">      <span class="title function_">isDef</span>((i = i.<span class="property">data</span>)) &amp;&amp;</span><br><span class="line">      <span class="title function_">isDef</span>((i = i.<span class="property">registerRouteInstance</span>))</span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="title function_">i</span>(vm, callVal);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Vue</span>.<span class="title function_">mixin</span>(&#123;</span><br><span class="line">    <span class="attr">beforeCreate</span>: <span class="keyword">function</span> <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="title function_">isDef</span>(<span class="variable language_">this</span>.<span class="property">$options</span>.<span class="property">router</span>)) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_routerRoot</span> = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_router</span> = <span class="variable language_">this</span>.<span class="property">$options</span>.<span class="property">router</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_router</span>.<span class="title function_">init</span>(<span class="variable language_">this</span>);</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property">util</span>.<span class="title function_">defineReactive</span>(<span class="variable language_">this</span>, <span class="string">&quot;_route&quot;</span>, <span class="variable language_">this</span>.<span class="property">_router</span>.<span class="property">history</span>.<span class="property">current</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_routerRoot</span> = (<span class="variable language_">this</span>.<span class="property">$parent</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">$parent</span>.<span class="property">_routerRoot</span>) || <span class="variable language_">this</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title function_">registerInstance</span>(<span class="variable language_">this</span>, <span class="variable language_">this</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">destroyed</span>: <span class="keyword">function</span> <span class="title function_">destroyed</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">registerInstance</span>(<span class="variable language_">this</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 其核心就是使用Object.defineProperty的get在install方法中将$router和route挂载到Vue原型上</span></span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>, <span class="string">&quot;$router&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_routerRoot</span>.<span class="property">_router</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>, <span class="string">&quot;$route&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_routerRoot</span>.<span class="property">_route</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&quot;RouterView&quot;</span>, <span class="title class_">View</span>);</span><br><span class="line">  <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&quot;RouterLink&quot;</span>, <span class="title class_">Link</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> strats = <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">optionMergeStrategies</span>;</span><br><span class="line">  <span class="comment">// use the same hook merging strategy for route hooks</span></span><br><span class="line">  strats.<span class="property">beforeRouteEnter</span> =</span><br><span class="line">    strats.<span class="property">beforeRouteLeave</span> =</span><br><span class="line">    strats.<span class="property">beforeRouteUpdate</span> =</span><br><span class="line">      strats.<span class="property">created</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>官方对 Vue.use() 方法的说明：通过全局方法 Vue.use() 使用插件，Vue.use 会自动阻止多次注册相同插件，它需要在你调用 new Vue() 启动应用之前完成，Vue.use() 方法至少传入一个参数，该参数类型必须是 Object 或 Function，如果是 Object 那么这个 Object 需要定义一个 install 方法，如果是 Function 那么这个函数就被当做 install 方法。在 Vue.use() 执行时 install 会默认执行，当 install 执行时第一个参数就是 Vue，其他参数是 Vue.use() 执行时传入的其他参数。就是说使用它之后调用的是该组件的 install 方法</p></blockquote><h3 id="在-Vue-中引入使用第三方库，采用-Vue-use-操作，有的组件引入进来又进行了-Vue-prototype-something-x3D-something，那么它们之间有什么联系呢？"><a href="#在-Vue-中引入使用第三方库，采用-Vue-use-操作，有的组件引入进来又进行了-Vue-prototype-something-x3D-something，那么它们之间有什么联系呢？" class="headerlink" title="在 Vue 中引入使用第三方库，采用 Vue.use()操作，有的组件引入进来又进行了 Vue.prototype.$something &#x3D; something，那么它们之间有什么联系呢？"></a>在 Vue 中引入使用第三方库，采用 Vue.use()操作，有的组件引入进来又进行了 Vue.prototype.$something &#x3D; something，那么它们之间有什么联系呢？</h3><blockquote><p>先说一下 vue.prototype, 在 vue 项目中通常我们引入 axios 来进行请求接口数据，通过 pnpm 安装 axios 之后我们只需要在文件中导入 improt axios from ‘axios’就可以使用，有时候我们会加上一句 vue.prototype.$axios&#x3D;axios，其实是在vue的原型上增加了一个axios，通过在全局注册这个方法，然后在周后的文件中都可以通过$axios 直接来使用 axios</p></blockquote><h3 id="Vue-js-的插件，应该暴露一个-install-方法，这个方法的第一个参数是-Vue-构造器-第二个参数是一个可选的选项对象"><a href="#Vue-js-的插件，应该暴露一个-install-方法，这个方法的第一个参数是-Vue-构造器-第二个参数是一个可选的选项对象" class="headerlink" title="Vue.js 的插件，应该暴露一个 install 方法，这个方法的第一个参数是 Vue 构造器,第二个参数是一个可选的选项对象"></a>Vue.js 的插件，应该暴露一个 install 方法，这个方法的第一个参数是 Vue 构造器,第二个参数是一个可选的选项对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 含有一个就行，比如挂载到原型上</span></span><br><span class="line"><span class="title class_">MyPlugin</span>.<span class="property">install</span> = <span class="keyword">function</span> (<span class="params">Vue, options</span>) &#123;</span><br><span class="line">  <span class="comment">// 1. 添加全局方法或 property</span></span><br><span class="line">  <span class="title class_">Vue</span>.<span class="property">myGlobalMethod</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 逻辑...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2. 添加全局资源</span></span><br><span class="line">  <span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;my-directive&#x27;</span>, &#123;</span><br><span class="line">    bind (el, binding, vnode, oldVnode) &#123;</span><br><span class="line">      <span class="comment">// 逻辑...</span></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3. 注入组件选项</span></span><br><span class="line">  <span class="title class_">Vue</span>.<span class="title function_">mixin</span>(&#123;</span><br><span class="line">    <span class="attr">created</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// 逻辑...</span></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 4. 添加实例方法</span></span><br><span class="line">  <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$myMethod</span> = <span class="keyword">function</span> (<span class="params">methodOptions</span>) &#123;</span><br><span class="line">    <span class="comment">// 逻辑...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Vue-use-的源码中的逻辑"><a href="#Vue-use-的源码中的逻辑" class="headerlink" title="Vue.use() 的源码中的逻辑"></a>Vue.use() 的源码中的逻辑</h3><blockquote><p>在源码中首先限制了它传入的值的类型只能是 Function 或者 Object，然后判断了该插件是不是已经注册过，防止重复注册，然后调用了该插件的 install 方法，源码中也有介绍到 Vue.use()可以接受多个参数的，除第一个参数之后的参数我们都是以参数的形式传入到当前组件中</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 以注入uView这个第三方库为例</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">initUse</span>(<span class="params">Vue: GlobalAPI</span>) &#123;</span><br><span class="line">  <span class="title class_">Vue</span>.<span class="property">use</span> = <span class="keyword">function</span> (<span class="params">plugin: <span class="built_in">Function</span> | <span class="built_in">Object</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> installedPlugins =</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">_installedPlugins</span> || (<span class="variable language_">this</span>.<span class="property">_installedPlugins</span> = []);</span><br><span class="line">    <span class="keyword">if</span> (installedPlugins.<span class="title function_">indexOf</span>(plugin) &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> args = <span class="title function_">toArray</span>(<span class="variable language_">arguments</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// 这一句很重要，这里的this，就是Vue，把他添加到args数组的第一个元素</span></span><br><span class="line">    args.<span class="title function_">unshift</span>(<span class="variable language_">this</span>);</span><br><span class="line">    <span class="comment">// 判断我们传递进来的“uView”，也即这里的&quot;plugin&quot;内部是否有一个叫&quot;install&quot;的方法</span></span><br><span class="line">    <span class="comment">// 如果有，就执行我们的“uView，也即&quot;plugin.install&quot;方法</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> plugin.<span class="property">install</span> === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">      plugin.<span class="property">install</span>.<span class="title function_">apply</span>(plugin, args);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> plugin === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">      plugin.<span class="title function_">apply</span>(<span class="literal">null</span>, args);</span><br><span class="line">    &#125;</span><br><span class="line">    installedPlugins.<span class="title function_">push</span>(plugin);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toArray</span>(<span class="params">list, start</span>) &#123;</span><br><span class="line">  start = start || <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> i = list.<span class="property">length</span> - start;</span><br><span class="line">  <span class="keyword">let</span> ret = <span class="keyword">new</span> <span class="title class_">Array</span>(i);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (i--) &#123;</span><br><span class="line">    ret[i] = list[i + start];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// uView内部</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 这里我们定义了一个叫&quot;install&quot;的变量，它的内容是一个方法(函数)</span></span><br><span class="line"><span class="comment">// 它的第一个参数是Vue对象(上面有提到传进来的第一个参数就是Vue)，我们把$u挂载到了Vue.prototype中</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">install</span> = (<span class="params">Vue</span>) =&gt; &#123;</span><br><span class="line">  <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$u</span> = $u;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这里我们导出一个对象，内部有一个叫&quot;install&quot;的方法，给上面说的Vue.use调用</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  install,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从上面我们可以看出，uView把&quot;$u&quot;挂载到了Vue.prototype上，所以我们在项目的内部可以使用this.$u.xxx这种形式</span></span><br></pre></td></tr></table></figure><h2 id="webpack-的-plugins-是怎么实现的，自己有没有写过-plugins"><a href="#webpack-的-plugins-是怎么实现的，自己有没有写过-plugins" class="headerlink" title="webpack 的 plugins 是怎么实现的，自己有没有写过 plugins"></a>webpack 的 plugins 是怎么实现的，自己有没有写过 plugins</h2><h3 id="plugin-的作用"><a href="#plugin-的作用" class="headerlink" title="plugin 的作用"></a>plugin 的作用</h3><blockquote><p>Webpack 中的插件是用来扩展 Webpack 功能的函数，加入自定义的构建行为，使 webpack 可以执行更广泛的任务，拥有更强的构建能力，它们在 Webpack 构建过程中被执行。Webpack 所有的插件都需要在 webpack.config.js 的 plugins 节点中配置<br>插件的作用</p><ul><li>优化打包结果：例如压缩代码、去除无用代码等，提高输出文件的性能和效率</li><li>注入环境变量：通过插件可以在代码中注入环境变量，例如环境配置、接口地址等</li><li>自动生成页面：例如自动将 HTML、CSS 等文件转换为 JavaScript 模块，并且插入前端代码中</li><li>生成版本号：例如将代码文件生成唯一的版本号或哈希值，用于静态资源版本控制</li><li>引入第三方库：例如将 jQuery 等第三方库通过插件自动引入到项目中</li><li>拆分代码：将公共模块提取出来打包成单独的文件，避免重复打包</li><li>多页应用打包：通过插件可以实现多个 HTML 和 JavaScript 文件打包成多页应用</li></ul></blockquote><h3 id="plugin-的工作原理"><a href="#plugin-的工作原理" class="headerlink" title="plugin 的工作原理"></a>plugin 的工作原理</h3><blockquote><ul><li>每个 Plugin 都是一个 JavaScript 类，其中必须提供一个 apply()方法，以向 Webpack 编译器注册自己</li><li>在 Webpack 编译过程中，每个 Plugin 都会被调用，并且能够监听到相应的事件。例如，在编译过程中，Webpack 会产生一系列的事件，如 compile、emit、done 等，而多数的 Plugin 都会在这些事件被触发时执行相应的处理</li><li>每个 Plugin 都可以通过 Webpack 提供的 API，来操控和修改 Webpack 构建流程中的各种原材料，例如输入的文件、输出的代码和其他资源等</li></ul></blockquote><blockquote><p>通常，一个 Webpack Plugin 的工作包括以下几个步骤：</p><ul><li>获取 Webpack 编译器中的数据</li><li>在合适的时机，监听 Webpack 的事件，如 compile、emit、done 等</li><li>在响应 Webpack 事件时，对编译期间的资源进行处理，例如对 JavaScript、CSS 等进行压缩、合并、优化等</li><li>在处理过程结束后，向 Webpack 编译器返回相应的处理结果，以便 Webpack 最终生成相应的文件</li></ul></blockquote><h3 id="Plugin-构建对象-Compiler-和-Compilation"><a href="#Plugin-构建对象-Compiler-和-Compilation" class="headerlink" title="Plugin 构建对象 Compiler 和 Compilation"></a>Plugin 构建对象 Compiler 和 Compilation</h3><blockquote><p>在 webpack 中，plugin 是一种用于自定义构建过程的工具，可以通过给定的钩子函数来实现自定义的构建。plugin 构建对象是 plugin 实现的主要方式，它包含两个重要的对象：Compiler 和 Compilation</p><ul><li>Compiler：Compiler 是 webpack 的核心对象，负责将整个应用程序编译成一个静态资源，Compiler 在 Webpack 初始化时被创建，它包含了 Webpack 环境的配置参数、option 参数、Webpack 既有的钩子函数和一些其它方法，同时在 Webpack 启动时实例化，贯穿了整个 Webpack 打包的生命周期。Compiler 主要负责处理文件的监听、编译、打包等任务</li></ul><p>举例说明：</p><ul><li><p>webpack-dev-server 插件使用了内置的 Compiler 对象，它可以在内存中启动一个 HTTP 服务器，并且自动监听文件变化并重新编译，方便开发者进行开发和调试</p></li><li><p>clean-webpack-plugin 插件在编译之前清除目标目录中的文件，就是通过在 Compiler 对象中监听 webpack 工作流程的钩子函数来实现的。</p></li><li><p>Compilation：Compilation 是 Compiler 的一个属性，其中包含了当前的模块资源、编译生成的资源、变化的文件等。当 Webpack 以开发模式(webpack –watch or webpack-dev-server)运行时，每当检测到一个文件发生了改变，重新打包时，就会生成一个新的 Compilation 对象，Compilation 对象代表的是一次新的编译过程，它可以理解为是“循环体”中的一个“循环次数”，每次循环中处理的内容都是在这个对象中进行的</p></li></ul><p>举例说明：</p><ul><li>html-webpack-plugin 插件通过在 Compilation 对象中的 html-webpack-plugin-before-html-processing 钩子函数中添加生成的 html 文件内容来实现自动输出 html 文件</li><li>uglify-webpack-plugin 插件在 Webpack 打包时，通过在 Compilation 对象中的 optimize-chunk-assets 钩子函数中来进行 JS 代码的压缩和混淆处理</li></ul></blockquote><h3 id="自定义一个-plugin"><a href="#自定义一个-plugin" class="headerlink" title="自定义一个 plugin"></a>自定义一个 plugin</h3><blockquote><p>创建一个新的 JavaScript 文件，起名为 CustomPlugin.js，例如：</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// CustomPlugin.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomPlugin</span> &#123;</span><br><span class="line">  <span class="title function_">apply</span>(<span class="params">compiler</span>) &#123;</span><br><span class="line">    compiler.<span class="property">hooks</span>.<span class="property">done</span>.<span class="title function_">tap</span>(<span class="string">&quot;CustomPlugin&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;CustomPlugin executed!&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">CustomPlugin</span>;</span><br></pre></td></tr></table></figure><blockquote><p>以上代码创建了一个名为 CustomPlugin 的类，它的 apply 方法接收 compiler 对象参数，该方法通过 compiler 对象注册了一个 done 钩子，当编译完成时该钩子会触发</p></blockquote><blockquote><p>在 webpack 配置文件中引入自定义的 plugin，例如：</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">CustomPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;./CustomPlugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>: [<span class="keyword">new</span> <span class="title class_">CustomPlugin</span>()],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>以上代码在 plugins 数组中实例化了 CustomPlugin 类，并传递给该类的实例作为参数</p></blockquote><blockquote><p>运行 webpack，CustomPlugin 将会被调用，例如：</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br><span class="line"><span class="title class_">Hash</span>: 1a0d8a10f39a2c8e1fae</span><br><span class="line"><span class="title class_">Version</span>: webpack <span class="number">4.43</span><span class="number">.0</span></span><br><span class="line"><span class="title class_">Time</span>: 205ms</span><br><span class="line"><span class="title class_">Built</span> <span class="attr">at</span>: <span class="number">06</span>/<span class="number">10</span>/<span class="number">2023</span> <span class="number">9</span>:<span class="number">13</span>:<span class="number">42</span> <span class="variable constant_">PM</span></span><br><span class="line">     <span class="title class_">Asset</span>       <span class="title class_">Size</span>  <span class="title class_">Chunks</span>             <span class="title class_">Chunk</span> <span class="title class_">Names</span></span><br><span class="line">index.<span class="property">html</span>  <span class="number">347</span> bytes          [emitted]</span><br><span class="line">   main.<span class="property">js</span>   <span class="number">4.8</span> <span class="title class_">KiB</span>    main  [emitted]  main</span><br><span class="line"><span class="title class_">Entrypoint</span> main = main.<span class="property">js</span></span><br><span class="line"><span class="title class_">CustomPlugin</span> executed!</span><br><span class="line">[./src/index.<span class="property">js</span>] <span class="number">47</span> bytes &#123;main&#125; [built]</span><br><span class="line">[./src/styles.<span class="property">css</span>] <span class="number">1.64</span> <span class="title class_">KiB</span> &#123;main&#125; [built]</span><br><span class="line">    + <span class="number">1</span> hidden <span class="variable language_">module</span></span><br></pre></td></tr></table></figure><p><strong>讲述更为详细的 csdn 地址：<a href="https://blog.csdn.net/weixin_49592546/article/details/108082824">https://blog.csdn.net/weixin_49592546/article/details/108082824</a></strong></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（6-2）</title>
      <link href="/post/ca5d5fd0.html"/>
      <url>/post/ca5d5fd0.html</url>
      
        <content type="html"><![CDATA[<h2 id="CDN-加速"><a href="#CDN-加速" class="headerlink" title="CDN 加速"></a>CDN 加速</h2><pre><code>CDN 是一种用来分发内容的网络拓扑结构</code></pre><h3 id="CDN-相关的两个名词"><a href="#CDN-相关的两个名词" class="headerlink" title="CDN 相关的两个名词"></a>CDN 相关的两个名词</h3><blockquote><p>节点</p><ul><li>让用户使用 CDN 网络之前，CDN 提供商会在全国&#x2F;全球部署多个节点。这里的节点可以看做机房，或者服务器集群，专业的称呼是 PoP（Point-of-Presence，入网点）或者边缘服务器（Origin Server）</li></ul><p>源服务器：源服务器就是你部署网站的服务器，它为整个 CDN 网络提供初始内容</p><ul><li>不使用 CDN 的话，用户的每次请求都会到达你的源服务器。用户和源服务器之间的距离越远，数据包转发的次数就越多，等待页面加载的时间就越长。另外，数据包的每次转发都有可能受到网络拥堵的影响，进一步延迟网页加载时间</li></ul></blockquote><h3 id="使用了-CDN-之后的网络请求流程"><a href="#使用了-CDN-之后的网络请求流程" class="headerlink" title="使用了 CDN 之后的网络请求流程"></a>使用了 CDN 之后的网络请求流程</h3><blockquote><p>如果你的网站使用了 CDN 加速，当用户请求你的网站时，CDN 会找到离用户最近的节点，看看这个节点中是否缓存了用户想要的内容</p><ul><li>如果节点缓存了用户想要的内容，就直接发送给用户，不用再去请求源服务器</li><li>如果节点没有缓存用户想要的内容，那么节点会自动请求源服务器获取想要的内容，然后再发送给用户；同时，节点也会把从源服务器获取的内容缓存起来，下次有用户再请求相同内容时，节点会直接发送给用户，而不用再去请求源服务器</li></ul></blockquote><blockquote><p>只有在用户第一次请求内容时，节点才会访问源服务器，以后用户（包括新用户和老用户）再去请求相同内容，因为节点已经缓存了，所以会直接发送给用户，不会再去访问源服务器，此时源服务器就被“屏蔽”了，它不会知道有用户请求内容<br><strong>页面从源服务器拉取内容的过程，专业术语叫做反向代理（Reverse Proxy），Nginx 就是一个著名的反向代理服务器</strong></p></blockquote><h3 id="CDN-具体加速步骤"><a href="#CDN-具体加速步骤" class="headerlink" title="CDN 具体加速步骤"></a>CDN 具体加速步骤</h3><blockquote><p>如果某个用户想要访问某视频网站的视频点播内容，那么具体的 cdn 加速原理步骤是：</p><ul><li>当用户点击 APP 上的内容，APP 会根据 URL 地址去本地 DNS（域名解析系统）寻求 IP 地址解析</li><li>本地 DNS 系统会将域名的解析权交给 CDN 专用 DNS 服务器</li><li>CDN 专用 DNS 服务器，将 CDN 的全局负载均衡设备 IP 地址返回用户</li><li>用户向 CDN 的负载均衡设备发起内容 URL 访问请求</li><li>CDN 负载均衡设备根据用户 IP 地址，以及用户请求的内容 URL，选择一台用户所属区域的缓存服务器</li><li>负载均衡设备告诉用户这台缓存服务器的 IP 地址，让用户向所选择的缓存服务器发起请求</li><li>用户向缓存服务器发起请求，缓存服务器响应用户请求，将用户所需内容传送到用户终端</li><li>如果这台缓存服务器上并没有用户想要的内容，那么这台缓存服务器就要网站的源服务器请求内容</li><li>源服务器返回内容给缓存服务器，缓存服务器发给用户，并根据用户自定义的缓存策略，判断要不要把内容缓存到缓存服务器上</li></ul><p><em>总之，CDN 就是采用更多的缓存服务器（CDN 边缘节点），布放在用户访问相对集中的地区或网络中。当用户访问网站时，利用全局负载技术，将用户的访问指向距离最近的缓存服务器上，由缓存服务器响应用户请求</em></p></blockquote><h3 id="CDN-加速的好处"><a href="#CDN-加速的好处" class="headerlink" title="CDN 加速的好处"></a>CDN 加速的好处</h3><blockquote><ul><li>极大提高网站访问速度</li><li>极大降低服务器压力</li><li>让全国&#x2F;全球用户都能访问你的网站</li><li>隐藏真实的服务器</li><li>避免网站服务器遭受黑客攻击</li><li>防盗链</li><li>降低网络带宽成本</li><li>负载均衡，流量低谷不浪费资源，流量高峰轻松应对</li></ul></blockquote><h3 id="CDN-包含三个方面的内容"><a href="#CDN-包含三个方面的内容" class="headerlink" title="CDN 包含三个方面的内容"></a>CDN 包含三个方面的内容</h3><blockquote><p>内容</p><ul><li>CDN 是用来处理内容的。什么内容？和网站有关的内容，这包括动态&#x2F;静态网页、CSS、JavaScript、图像、视频、音频、可下载的文件等</li></ul><p>分发</p><ul><li>CDN 会将内容分发到节点。如何分发？节点需要内容时自动从源服务器拉取，也即反向代理</li></ul><p>网络</p><ul><li>从 CDN 内部看，CDN 是一种网络拓扑结构，或者说是一种私有网络&#x2F;局域网。用户只和节点交换数据，并不知道 CDN 的内部网络结构，只有搭建 CDN 的机构才知道</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（7-5）</title>
      <link href="/post/9cd6b4cc.html"/>
      <url>/post/9cd6b4cc.html</url>
      
        <content type="html"><![CDATA[<h2 id="websocket"><a href="#websocket" class="headerlink" title="websocket"></a>websocket</h2><h3 id="什么是-websocket"><a href="#什么是-websocket" class="headerlink" title="什么是 websocket"></a>什么是 websocket</h3><blockquote><ul><li>WebSocket 是 HTML5 下一种新的协议（websocket 协议本质上是一个基于 tcp 的协议）</li><li>它实现了浏览器与服务器全双工通信，能更好的节省服务器资源和带宽并达到实时通讯的目的</li><li>Websocket 是一个持久化的协议</li></ul></blockquote><h3 id="websocket-的原理"><a href="#websocket-的原理" class="headerlink" title="websocket 的原理"></a>websocket 的原理</h3><blockquote><ul><li>websocket 约定了一个通信的规范，通过一个握手的机制，客户端和服务器之间能建立一个类似 tcp 的连接，从而方便它们之间的通信</li><li>在 websocket 出现之前，web 交互一般是基于 http 协议的短连接或者长连接</li><li>websocket 是一种全新的协议，不属于 http 无状态协议，协议名为”ws”</li></ul></blockquote><h3 id="websocket-与-http-的关系"><a href="#websocket-与-http-的关系" class="headerlink" title="websocket 与 http 的关系"></a>websocket 与 http 的关系</h3><blockquote><p>相同点</p><ul><li>都是基于 tcp 的，都是可靠性传输协议</li><li>都是应用层协议</li></ul></blockquote><blockquote><p>不同点</p><ul><li>WebSocket 是双向通信协议，模拟 Socket 协议，可以双向发送或接受信息</li><li>HTTP 是单向的</li><li>WebSocket 是需要浏览器和服务器握手进行建立连接的</li><li>而 http 是浏览器发起向服务器的连接，服务器预先并不知道这个连接</li></ul></blockquote><h3 id="联系"><a href="#联系" class="headerlink" title="联系"></a>联系</h3><blockquote><p>WebSocket 在建立握手时，数据是通过 HTTP 传输的。但是建立之后，在真正传输时候是不需要 HTTP 协议的</p></blockquote><h3 id="整个过程"><a href="#整个过程" class="headerlink" title="整个过程"></a>整个过程</h3><blockquote><ul><li>首先，客户端发起 http 请求，经过 3 次握手后，建立起 TCP 连接；http 请求里存放 WebSocket 支持的版本号等信息，如：Upgrade、Connection、WebSocket-Version 等；</li><li>然后，服务器收到客户端的握手请求后，同样采用 HTTP 协议回馈数据；</li><li>最后，客户端收到连接成功的消息后，开始借助于 TCP 传输信道进行全双工通信</li></ul></blockquote><h3 id="使用-js-创建-websocket-的基本流程"><a href="#使用-js-创建-websocket-的基本流程" class="headerlink" title="使用 js 创建 websocket 的基本流程"></a>使用 js 创建 websocket 的基本流程</h3><blockquote><ul><li>通过 JavaScript 中的 WebSocket 构造函数，创建 WebSocket 对象</li><li>监听 WebSocket 的事件：open、message 和 close。当 WebSocket 连接成功后，触发 open 事件；当接收到服务端发送的消息时，触发 message 事件；当 WebSocket 连接关闭时，触发 close 事件。通过监听这三个事件，我们可以完成双向通信</li><li>通过 WebSocket 对象的 send()方法发送消息到服务端</li><li>当接收到服务端发送的消息时，触发 message 事件。可以通过监听这个事件，将接收到的消息显示在页面上</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ws = <span class="keyword">new</span> <span class="title class_">WebSocket</span>(<span class="string">&quot;ws://localhost:3000&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// WebSocket连接成功事件</span></span><br><span class="line">ws.<span class="title function_">addEventListener</span>(<span class="string">&quot;open&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;WebSocket连接成功！&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 发送消息到服务端</span></span><br><span class="line">  ws.<span class="title function_">send</span>(<span class="string">&quot;Hello Server!&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收到服务端发送消息事件</span></span><br><span class="line">ws.<span class="title function_">addEventListener</span>(<span class="string">&quot;message&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;接收到服务端发送的消息：&quot;</span>, event.<span class="property">data</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> message = event.<span class="property">data</span>;</span><br><span class="line">  <span class="keyword">const</span> li = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">  li.<span class="property">innerText</span> = message;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#messages&quot;</span>).<span class="title function_">appendChild</span>(li);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// WebSocket连接关闭事件</span></span><br><span class="line">ws.<span class="title function_">addEventListener</span>(<span class="string">&quot;close&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;WebSocket连接关闭！&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><pre><code>前后端使用websocket的完整示例</code></pre><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>WebSocket简单聊天<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;messages&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">autocomplete</span>=<span class="string">&quot;off&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span>&gt;</span>发送<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> ws = <span class="keyword">new</span> <span class="title class_">WebSocket</span>(<span class="string">&quot;ws://localhost:3000&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      ws.<span class="title function_">addEventListener</span>(<span class="string">&quot;open&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;WebSocket连接成功！&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 将接收到的消息显示在页面上</span></span></span><br><span class="line"><span class="language-javascript">      ws.<span class="title function_">addEventListener</span>(<span class="string">&quot;message&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> message = event.<span class="property">data</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> li = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        li.<span class="property">innerText</span> = message;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#messages&quot;</span>).<span class="title function_">appendChild</span>(li);</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 发送消息到服务端</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> form = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;form&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      form.<span class="title function_">addEventListener</span>(<span class="string">&quot;submit&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 阻止表单默认跳转行为</span></span></span><br><span class="line"><span class="language-javascript">        event.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> input = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#input&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> message = input.<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 清空输入框</span></span></span><br><span class="line"><span class="language-javascript">        input.<span class="property">value</span> = <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        ws.<span class="title function_">send</span>(message);</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">WebSocket</span> = <span class="built_in">require</span>(<span class="string">&quot;ws&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> wss = <span class="keyword">new</span> <span class="title class_">WebSocket</span>.<span class="title class_">Server</span>(&#123; <span class="attr">port</span>: <span class="number">3000</span> &#125;);</span><br><span class="line"></span><br><span class="line">wss.<span class="title function_">on</span>(<span class="string">&quot;connection&quot;</span>, <span class="function">(<span class="params">ws</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;WebSocket连接成功！&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 接收到客户端发送的消息</span></span><br><span class="line">  ws.<span class="title function_">on</span>(<span class="string">&quot;message&quot;</span>, <span class="function">(<span class="params">message</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;接收到客户端发送的消息：&quot;</span>, message);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将消息广播给所有客户端</span></span><br><span class="line">    wss.<span class="property">clients</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">client</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (client.<span class="property">readyState</span> === <span class="title class_">WebSocket</span>.<span class="property">OPEN</span>) &#123;</span><br><span class="line">        client.<span class="title function_">send</span>(message);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// WebSocket连接关闭</span></span><br><span class="line">  ws.<span class="title function_">on</span>(<span class="string">&quot;close&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;WebSocket连接关闭！&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（7-4）</title>
      <link href="/post/246ad3a9.html"/>
      <url>/post/246ad3a9.html</url>
      
        <content type="html"><![CDATA[<h2 id="js-设计模式用过哪些"><a href="#js-设计模式用过哪些" class="headerlink" title="js 设计模式用过哪些"></a>js 设计模式用过哪些</h2><blockquote><p>设计模式（Design Pattern）是一套被反复使用、多数人知晓的、 经过分类的、 代码设计经验的总结。总结起来就是解决问题的套路规范。模式的另一种解释就是一个我们如何解决问题的模板 - 那些可以在许多不同的情况里使用的模板</p></blockquote><blockquote><p>五大设计原则</p><ul><li>S（SRP）-单一职责原则：一个程序只做好一件事。如果功能过于复杂就拆分开，每个部分保持独立</li><li>O（LKP）-开放封闭原则：对扩展开放，对修改封闭。增加需求时，扩展新代码，而不是修改已有代码（这是软件设计终极目标）</li><li>L（LSP）-李氏置换原则：1）、子类覆盖父类。凡是父类能够出现的地方，子类也能够出现。Js 中使用较少（因为 js 是弱类型语言，继承使用较少）</li><li>I（ISP）-接口独立原则：1）、保持接口的单一独立，避免出现胖接口。（js 中没有接口，typescript 除外）使用较少。类似于单一职责原则，这里更关注的是接口</li><li>D（DIP）-依赖倒置原则：1）、面向接口编程，依赖于抽象，而不依赖于具体。使用方法只关注接口，而不关注具体类的实现。Js 中使用较少（没有接口，弱类型）</li></ul></blockquote><blockquote><p>1、工厂模式：工厂模式其实就是对 new（实例化）的一个封装，返回具体的一个实例<br>工厂模式是构造者和创建者分离的，所以符合开放封闭原则<br>使用场景：</p><ul><li>jquery 中的$(“div”)</li><li>React.createElement</li><li>vue 中的异步组件</li></ul><p>2、单例模式：1）、系统中被唯一使用 2）、一个类只有一个实例。如果是单例模式，则使用&#x3D;&#x3D;&#x3D;（强相等）必须为 true，要不然就不是单例模式。符合单一职责设计原则<br>使用场景：</p><ul><li>登录框</li><li>购物车</li><li>jquery 只有一个$</li><li>vuex 和 redux 中 store</li></ul><p>3、适配器模式：旧接口格式和使用者不兼容，所以需要中间加一个适配器转换接口，将旧接口与使用者分离。符合开放封闭原则<br>使用场景：</p><ul><li>自己封装的接口，和因为需要，需要改成的接口</li><li>vue 中的 computed，对展示的 message 做处理，也就是相当于适配器</li></ul><p>4、装饰器模式：为对象添加新功能，不改变其原有的结构和功能，将现有对象和装饰器进行分离，二者独立存在，符合开放封闭原则</p><p>5、代理模式：使用者无权访问目标对象，中间加代理，通过代理做授权和控制。代理类和目标类分离，隔离开目标类和使用者，符合开放封闭原则<br>使用场景：</p><ul><li>科学上网（翻墙）</li><li>网页事件代理</li><li>jquery 中$.proxy，遇到 this 指向问题时，除了外面赋值 this 的变量，然后再在里面使用外，还可以使用 proxy 代理</li><li>ES6 中的 proxy</li></ul><p>6、外观模式：为子系统中的一组接口提供了一个高层接口，使用者使用这个高层接口<br>7、观察者模式：发布&amp;订阅、一对多（也可以一对一）主题和观察者分离，不是主动触发而是被动监听，两者解耦，符合开放封闭原则<br>使用场景：</p><ul><li>网页事件绑定</li><li>Promise</li><li>jQuery callbacks</li><li>nodejs 自定义事件</li></ul><p>8、迭代器模式：顺序访问一个集合，使用者无需知道集合的内部结构（封装）<br>9、状态模式：一个对象有状态变化，每次状态变化都会触发一个逻辑，不能总是用 if else 控制。状态对象和主题对象分离，状态的变化逻辑单独处理，符合开放封闭原则</p></blockquote><p><strong>上述模式在 js 中使用还行，以下的这些模式在前端中不常用</strong></p><blockquote><p>10、原型模式：clone 自己，生成一个新对象，java 有默认的 clone 接口，不用自己实现下面的 getName 是需要在 prototype 中实现的<br>使用场景：</p><ul><li>js 中 Object.create</li></ul><p>11、桥接模式：用于把抽象化与实现化解耦，使得二者可以独立变化抽象和实现分离，符合开放封闭原则<br>12、组合模式：生成树形结构，表示“整体-部分”关系，让整体和部分都有一致二点操作方式。整体和单个节点的操作是一致的，整体和单个节点的数据结构也保持一致。将整体和单个节点的操作抽象出来，符合开放封闭原则<br>13、享元模式：共享内存（主要考虑内存，而非效率），相同的数据，共同使用。将相同的部分抽象出来，符合开放封闭原则<br>14、策略模式：不同策略分开处理，避免出现大量 if else 或者 switch case 不同策略，分开处理，而不是混合在一起，符合开放封闭原则<br>15、模板方法模式：如果一件事情需要几步处理，那就定义一个函数将需要的几步处理函数封装在里面，也就是只提供一个供外面使用<br>16、职责链模式：一步操作可能分为多个职责角色来完成，把这些角色都分开，然后再用一个链串起来，将发起者和各个处理者（处理者之间）隔离。发起者和处理者进行隔离，符合开放封闭原则<br>使用场景：</p><ul><li>jQuery 的链式操作</li><li>Promise.then 的链式操作</li></ul><p>17、命令模式：命令对象与执行对象分开，符合开放封闭原则<br>18、备忘录模式：随时记录一个对象的状态变化，随时可以恢复之前的某一个状态（如撤销功能）状态对象与使用者分开，解耦，符合开放封闭原则<br>19、中介者模式：将各关联对象通过中介者隔离，符合开放封闭原则<br>20、访问者模式：将数据结构和数据操作进行分离<br>21、 解释器模式：描述语言语法如何定义，如何解释和编译</p></blockquote><blockquote><p>对比<br>代理模式 VS 适配器模式：</p><ul><li>适配器模式：提供一个不同的接口（如不同版本的插头）</li><li>代理模式：提供一摸一样的接口（原本无权使用，通过代理使用）</li></ul><p>代理模式 VS 装饰器模式</p><ul><li>装饰器模式：扩展功能，原有功能不变且可直接使用</li><li>代理模式：显示原有功能，但是是经过限制或者阉割之后的</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（7-3）</title>
      <link href="/post/b9bdeb10.html"/>
      <url>/post/b9bdeb10.html</url>
      
        <content type="html"><![CDATA[<h2 id="map-中的键值可以是哪些类型"><a href="#map-中的键值可以是哪些类型" class="headerlink" title="map 中的键值可以是哪些类型"></a>map 中的键值可以是哪些类型</h2><pre><code>任意类型</code></pre><h2 id="webpack-打包以及常用的配置"><a href="#webpack-打包以及常用的配置" class="headerlink" title="webpack 打包以及常用的配置"></a>webpack 打包以及常用的配置</h2><pre><code>webpack是前端的打包工具</code></pre><blockquote><p>打包的工作内容是什么</p><ul><li>扫描项目，生成整个项目所有模块的依赖关系，根据配置对模块进行合并，生成一个单独的文件。修改 html 文件，让 html 文件引用生成后的文件</li><li>将浏览器无法直接识别的（less、sass、ts）文件，转换成浏览器可以实现的内容</li><li>将浏览器暂时无法支持的 JS 新的语法转换成浏览器可以支持的语法</li></ul></blockquote><blockquote><p>webpack 有两种打包模式</p><ul><li>(development)开发模式 :不会对打包生成的文件进行代码压缩和性能优化 打包速度快，适用于开发阶段使用</li><li>(production)生产模式: 会对打包生成的文件进行代码压缩和性能优化 打包速度很慢，仅适合在项目发布阶段使用不设置默认为 production 模式</li></ul></blockquote><blockquote><p>入口文件配置</p><ul><li>单一入口</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./src/mian.js&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><ul><li>多个入口</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: [<span class="string">&quot;./src/main.js&quot;</span>, <span class="string">&quot;./src/bus.js&quot;</span>],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>出口文件配置</p><ul><li>单个出口文件</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./scr/mian.js&quot;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;build.js&quot;</span>,</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><ul><li>多个出口文件</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: [<span class="string">&quot;./src/main.js&quot;</span>, <span class="string">&quot;./src/bus.js&quot;</span>],</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;[name].js&quot;</span>,</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>module 配置：当 webpack 遇到不能解析的模块时，webpack 会找到 module 对象下面的 rules，去匹配对应的规则。如果有对应的 loader 匹配时，我们就使用对应的规则解析</p><ul><li>示例：当我们直接导入一个文字作为变量时，这时候是不能被浏览器直接解析的，我们可以使用 raw-loader</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line"><span class="attr">entry</span>:<span class="string">&#x27;./src/mian.js&#x27;</span>,</span><br><span class="line"><span class="attr">output</span>:&#123;</span><br><span class="line"><span class="attr">filename</span>:<span class="string">&#x27;build.js&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:path.<span class="title function_">resolve</span>(__dirname,<span class="string">&#x27;dist&#x27;</span>);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">module</span>:&#123;</span><br><span class="line"><span class="comment">// 使用raw-loader，用来处理txt文本文件</span></span><br><span class="line"><span class="attr">rules</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">test</span>:<span class="regexp">/\.txt$/</span>,</span><br><span class="line"><span class="attr">use</span>:<span class="string">&#x27;raw-loader&#x27;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// 使用file-loader,用来处理图片文件</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">test</span>:<span class="string">&#x27;/\.(png|jpg|jpe?g)$/&#x27;</span>,</span><br><span class="line"><span class="attr">use</span>:&#123;</span><br><span class="line"><span class="attr">loader</span>:<span class="string">&#x27;file-loader&#x27;</span>,</span><br><span class="line"><span class="attr">options</span>:&#123;</span><br><span class="line"><span class="comment">// 打包后的文件名</span></span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;[name]_[contenthash].[ext]&#x27;</span>,</span><br><span class="line"><span class="comment">// 打包后存放目录，相对于打包文件夹dist</span></span><br><span class="line"><span class="attr">outputPath</span>:<span class="string">&#x27;./images&#x27;</span>,</span><br><span class="line"><span class="comment">// 打包后引入文件URL,相对于config文件</span></span><br><span class="line"><span class="attr">publicPath</span>:<span class="string">&#x27;./dist/iamges&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">test</span>:<span class="regexp">/\.css$/</span>,</span><br><span class="line"><span class="comment">// 同一类loader中执行顺序，先下后上，先右后左。先执行css-loader-&gt;style-loader</span></span><br><span class="line"><span class="attr">use</span>:[</span><br><span class="line"><span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">loader</span>:<span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line"><span class="attr">options</span>:&#123;</span><br><span class="line"><span class="comment">// 是否启用URL</span></span><br><span class="line"><span class="attr">url</span>:<span class="literal">true</span>,</span><br><span class="line"><span class="comment">// 是否启用@import</span></span><br><span class="line"><span class="keyword">import</span>：<span class="literal">true</span>,</span><br><span class="line"><span class="comment">// 是否启用sourceMap</span></span><br><span class="line"><span class="attr">sourceMap</span>:<span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>插件 - html-webpack-plugin：该插件可以在每次打包时都创建一个用于测试用的 html 文件</p><ul><li>在默认配置下创建的 index.html 文件的内容是由 html-webpack-html 自动生成的。里面除了引入了 js 外，最基本的 html 结构都没有</li><li>可以为 html-webpack-html 传入一个参数，让 html-webpack-html 插件，参照某个文件的内容生成 html 文件</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack配置</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="comment">// 插件配置</span></span><br><span class="line">    <span class="attr">plugins</span>:[</span><br><span class="line">        <span class="comment">// ---------------- 传入配置参数</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">            <span class="comment">// js插入位置</span></span><br><span class="line">            <span class="attr">inject</span>: <span class="string">&#x27;body&#x27;</span>,</span><br><span class="line">            <span class="comment">// 生成的html文件名</span></span><br><span class="line">            <span class="attr">filename</span>: <span class="string">&#x27;index.html&#x27;</span>,</span><br><span class="line">            <span class="comment">// 指定参照这个html文件进行生成</span></span><br><span class="line">            <span class="attr">template</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;./public/index.html&#x27;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">​</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>打包不同类型文件，要使用不同的 loader，loader 的作用：</p><ul><li>读取文件内容</li><li>对文件内容进行特定的处理</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack配置</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line"><span class="comment">// 打包模式</span></span><br><span class="line"><span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line"><span class="comment">// 配置打包入口文件</span></span><br><span class="line"><span class="attr">entry</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;src&#x27;</span>, <span class="string">&#x27;index.js&#x27;</span>),</span><br><span class="line"><span class="comment">// 配置打包输出位置，及文件名</span></span><br><span class="line"><span class="attr">output</span>: &#123;</span><br><span class="line"><span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line"><span class="comment">// 输出文件名</span></span><br><span class="line"><span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// 扩展文件加载模块 - css模块加</span></span><br><span class="line"><span class="attr">module</span>: &#123;</span><br><span class="line"><span class="comment">// 由于可以加载多种文件，每种文件对应一种loader，所以是数组</span></span><br><span class="line"><span class="attr">rules</span>: [</span><br><span class="line"><span class="comment">// 由于是多种文件，所以使用扩展名进行区分，再应用不同的loader</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// 正则判断文件类型</span></span><br><span class="line"><span class="attr">test</span>: <span class="regexp">/\.css$/i</span>,</span><br><span class="line"><span class="comment">// css-loader是将css代码从css文件中读取到内存中，而style-loader是将读取到的css代码设置到index.html文件的style标签内</span></span><br><span class="line"><span class="attr">use</span>: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>],</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// 判断less文件</span></span><br><span class="line"><span class="attr">test</span>: <span class="regexp">/\.less$/i</span>,</span><br><span class="line"><span class="comment">// less使用到的loader</span></span><br><span class="line"><span class="attr">use</span>: [</span><br><span class="line"><span class="string">&quot;style-loader&quot;</span>,</span><br><span class="line"><span class="string">&quot;css-loader&quot;</span>,</span><br><span class="line"><span class="string">&quot;less-loader&quot;</span></span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>在 webpacke5.0 中无需下载安装图片对应的 loader(模块)，因为内嵌了对象图片资源处理的模块，可以直接使用内置的资源模块进行处理(asset&#x2F;modules) 内置了四种处理图片的资源模块</p><ul><li>asset&#x2F;resource：将图片文件单独打包成一个文件，保存到打包目录，再使用 url(file:&#x2F;&#x2F;&#x2F;d:&#x2F;xxx&#x2F;xxx) 就相当于将原图片，复制到了另个新的位置，改了名，url 再指向新的位置即可。 之前是通过 file-loader 实现</li><li>asset&#x2F;inline：将图片读取成 base64 格式，使用时通过 url(data:image&#x2F;png;base64,xxxxx)进行引用 之前是通过 url-loader 实现</li><li>asset&#x2F;source：主要用于字体文件 通过 data:font&#x2F;woff2;base64,xxxxxoxxox 之前是通过 raw-loader 实现</li><li>asset：在 asset&#x2F;resource 与 asset&#x2F;inline 之间自动选择，之前是通过 url-loader，并配置资源体积限制实现</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack配置</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 扩展文件加载模块 - css模块加</span></span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="comment">// 由于可以加载多种文件，每种文件对应一种loader，所以是数组</span></span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">// 由于是多种文件，所以使用扩展名进行区分，再应用不同的loader</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 正则判断文件类型</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/i</span>,</span><br><span class="line">        <span class="comment">// 这种类型文件使用以下loader</span></span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 判断less文件</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.less$/i</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&quot;style-loader&quot;</span>, <span class="string">&quot;css-loader&quot;</span>, <span class="string">&quot;less-loader&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 加载图片资料模板</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|jpg|jpeg|gif|svg)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset/resource&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 加载字体文件</span></span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(eot|ttf|otf|woff2)$/</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;asset&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>目前为此，每次调整配置，都需要手动重新打包一次。为了解决这个麻烦，webpack 内置 watch 模块，通过配置可以实现自动打包</p><ul><li><code>&quot;script&quot;:&#123; &quot;watch&quot;:&quot;webpack --config webpack.config.js&quot;&#125;</code></li></ul></blockquote><blockquote><p>但是 watch 仍然需要手动打开 index.html 页面，重新打包后，html 页面也不会自动刷新，所以我们会使用 webpack-dev-serve 这个插件来代替这种模式<br>webpack-dev-server，还会附带了一个很有用的功能，HMR(hot module replacement) 传送门：模块热替换 在程序运行的过程(不重新启动服务器)，动态的添加，替换删除某个模块，而无需重新加载整个页面。 例如：index.less 内容修改了，只对这个 less 模块重新加载，不影响其他模块</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack配置</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// webpack-dev-server配置</span></span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="comment">// 配置站点根目录，默认为输出位置</span></span><br><span class="line">    <span class="attr">static</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">    <span class="comment">// 设置端口号</span></span><br><span class="line">    <span class="attr">port</span>: <span class="number">8080</span>,</span><br><span class="line">    <span class="comment">// 自动打开浏览器，访问index.html</span></span><br><span class="line">    <span class="attr">open</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// 热替换配置，true启用，false禁用，默认为true</span></span><br><span class="line">    <span class="attr">hot</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>打包后的代码与原代码的所在的文件名，位置都不相同了，如果出错，可能会很难追踪到错误和警告在源代码中的原始位置。可以使用 source map，source map 可以将错误在源代码中的显示给我们。<strong>只在开发阶段使用，上线一定要移除</strong></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack配置</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// 配置source-map</span></span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&quot;source-map&quot;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="for-in-和-for-of-的区别"><a href="#for-in-和-for-of-的区别" class="headerlink" title="for..in 和 for.. of 的区别"></a>for..in 和 for.. of 的区别</h2><blockquote><ul><li>遍历对象 for..in 可以，for..of 不可以</li><li>遍历 Map、Set for..of 可以，for..in 不可以</li><li>遍历 generator for..of 可以，for..in 不可以</li><li>for..in 用于可枚举数据，如对象、数组、字符串，得到 key</li><li>for..of 用于可迭代数据，如数组、字符串、Map、Set，得到 value</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（7-2）</title>
      <link href="/post/1018c75.html"/>
      <url>/post/1018c75.html</url>
      
        <content type="html"><![CDATA[<h2 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h2><blockquote><p>在 vue 中，渲染普通文本有 2 种方式：<code>&#123;&#123;&#125;&#125;</code>与 v-text。但是，需要注意的是，在使用<code>&#123;&#123;&#125;&#125;</code>展示或更新页面数据时：当网速比较慢时，会出现一个不好的过度现象，会让用户先看到我们的表达式（上面页面中的<code>&#123;&#123;msg&#125;&#125;</code>），然后才看到 data 中的值（欢迎 Vue!）——-&gt;即所谓的闪烁问题！</p></blockquote><blockquote><p>针对上述问题的解决办法：</p><ul><li>v-text 默认 v-text 是没有闪烁问题，<code>&#123;&#123;&#125;&#125;</code>存在闪烁的问题。v-text 会覆盖掉元素中原本的内容，但是<code>&#123;&#123;&#125;&#125;</code>只会替换自己的这个占位符</li><li>使用 v-cloak 指令，然后为其设置 css 样式 display:none; 即上述代码可修改为</li></ul></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-attr">[v-cloak]</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> <span class="attr">v-cloak</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">msg</span>: <span class="string">&#x27;欢迎Vue!&#x27;</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>说明：但有时添加完毕后变量仍会显示（即闪烁问题没解决），这是怎么回事呢？原来是 v-cloak 的 display 属性被优先级别高的样式覆盖所导致，所以最好再添加一个 !important ，将其优先级设置为最高，防止被其他优先级高的 dispaly:none 样式所覆盖</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[v-cloak]</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="vue-自定义指令-与-指令的生命周期"><a href="#vue-自定义指令-与-指令的生命周期" class="headerlink" title="vue 自定义指令 与 指令的生命周期"></a>vue 自定义指令 与 指令的生命周期</h2><pre><code>这里定义一个名为appendText的指令，使用时要像这样去用：v-append-text</code></pre><blockquote><p>指令的周期： 5 个 (bind、inserted、update、componentUpdated、unbind)</p><ul><li>bind：只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置</li><li>inserted：被绑定元素插入父节点时调用 (仅保证父节点存在，但不一定已被插入文档中)</li><li>update：所在组件的 VNode 更新时调用，但是可能发生在其子 VNode 更新之前。指令的值可能发生了改变，也可能没有。但是你可以通过比较更新前后的值来忽略不必要的模板更新 (详细的钩子函数参数见下)</li><li>componentUpdated：指令所在组件的 VNode 及其子 VNode 全部更新后调用</li><li>unbind：只调用一次，指令与元素解绑时调用</li></ul></blockquote><h3 id="注册全局指令——Vue-directive-方法"><a href="#注册全局指令——Vue-directive-方法" class="headerlink" title="注册全局指令——Vue.directive() 方法"></a>注册全局指令——Vue.directive() 方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">// 注册一个全局自定义指令 `v-focus`</span><br><span class="line">Vue.directive(&quot;focus&quot;, &#123;</span><br><span class="line">  // 当被绑定的元素插入到 DOM 中时……</span><br><span class="line">  inserted: function (el) &#123;</span><br><span class="line">    // 聚焦元素</span><br><span class="line">    el.focus();</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="注册局部指令——directives-属性"><a href="#注册局部指令——directives-属性" class="headerlink" title="注册局部指令——directives 属性"></a>注册局部指令——directives 属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="attr">directives</span>: &#123;</span><br><span class="line">        <span class="attr">focus</span>: &#123;</span><br><span class="line">            <span class="comment">// 指令的定义</span></span><br><span class="line">            <span class="attr">inserted</span>: <span class="keyword">function</span> (<span class="params">el</span>) &#123;</span><br><span class="line">                el.<span class="title function_">focus</span>()</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="自定义指令的案例"><a href="#自定义指令的案例" class="headerlink" title="自定义指令的案例"></a>自定义指令的案例</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">// 注册一个局部的自定义指令v-append-text：不替换原来的内容，直接插入其后。</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;show = !show&quot;&gt;&#123;&#123; show ? &quot;销毁&quot; : &quot;插入&quot; &#125;&#125;&lt;/button&gt;</span><br><span class="line">    &lt;button v-if=&quot;show&quot; v-append-text=&quot;`hello $&#123;number&#125;`&quot; @click=&quot;number++&quot;&gt;</span><br><span class="line">      按钮</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  directives: &#123;</span><br><span class="line">    // 这里定义一个名为appendText的指令，使用时要像这样去用：v-append-text</span><br><span class="line">    appendText: &#123;</span><br><span class="line">      /**</span><br><span class="line">       * 指令的生命周期 (bind、inserted、update、componentUpdated和unbind)</span><br><span class="line">       **/</span><br><span class="line">      bind() &#123;</span><br><span class="line">        console.log(&quot;bind&quot;);</span><br><span class="line">      &#125;,</span><br><span class="line">      inserted(el, binding) &#123;</span><br><span class="line">        el.appendChild(document.createTextNode(binding.value));</span><br><span class="line">        console.log(&quot;inserted&quot;, el, binding);</span><br><span class="line">      &#125;,</span><br><span class="line">      update() &#123;</span><br><span class="line">        console.log(&quot;update&quot;);</span><br><span class="line">      &#125;,</span><br><span class="line">      componentUpdated(el, binding) &#123;</span><br><span class="line">        el.removeChild(el.childNodes[el.childNodes.length - 1]);</span><br><span class="line">        el.appendChild(document.createTextNode(binding.value));</span><br><span class="line">        console.log(&quot;componentUpdated&quot;);</span><br><span class="line">      &#125;,</span><br><span class="line">      unbind() &#123;</span><br><span class="line">        console.log(&quot;unbind&quot;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      number: 1,</span><br><span class="line">      show: true,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（7-1）</title>
      <link href="/post/13b4239b.html"/>
      <url>/post/13b4239b.html</url>
      
        <content type="html"><![CDATA[<h2 id="面试过程"><a href="#面试过程" class="headerlink" title="面试过程"></a>面试过程</h2><p>虽然前两天面试成功了一个，好像是个国企，在广州，但是工资 3000 多，说实话太少了，一周五天，一个月 22 天左右，相当于一天 150，少的可怜。所以我又接着面了几个。有一个大厂我很想进，面试了，口头和共享屏幕答算法题我都写出来了，但是他还是觉得我六个月实习太短（我很无语啊，实习生就算给转正机会，半年也不短了吧，大三或者研二难道有人愿意冒着毕不了业的风险给你实习一年？再说了，真实习一年，你也给了转正机会，那毕不了业你还愿意要吗）。然后我又面试了几个。</p><h2 id="vue-中兄弟组件通信的方式"><a href="#vue-中兄弟组件通信的方式" class="headerlink" title="vue 中兄弟组件通信的方式"></a>vue 中兄弟组件通信的方式</h2><pre><code>Vue 组件间通信主要指以下 3 类通信：父子组件通信、隔代组件通信、兄弟组件通信</code></pre><blockquote><ul><li>props &#x2F; $emit 适用 父子组件通信</li><li>ref 与 $parent &#x2F; $children 适用 父子组件通信，children是一个数组，因为子组件可能有多个，通过parent和$children 可以直接修改父子组件的 data。示例：this.$children[0].childMsg &#x3D; ‘changed’</li><li>EventBus ($emit&#x2F;$on) 适用于 父子、隔代、兄弟组件通信。这种方法通过一个空的 Vue 实例作为中央事件总线（事件中心），用它来触发事件和监听事件，从而实现任何组件间的通信，包括父子、隔代、兄弟组件：使用 EventBus 我们需要实例化一个空的不具备 DOM 的 Vue，为方便使用，可以把其挂在项目将实例的 Vue 的原型上</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`main.js`</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$EventBus</span> = <span class="keyword">new</span> <span class="title class_">Vue</span>()</span><br><span class="line"></span><br><span class="line"><span class="string">`CompnentA`</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">   <span class="attr">methods</span>:&#123;</span><br><span class="line">     <span class="title function_">testA</span>(<span class="params"></span>)&#123;</span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">$EventBus</span>.$emit(<span class="string">&#x27;cmaFunction&#x27;</span>,params)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">`ComponentB`</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">   <span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">$EventBus</span>.$on(<span class="string">&#x27;cmaFunction&#x27;</span>,<span class="function">(<span class="params">params</span>)=&gt;</span>&#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(params)</span><br><span class="line">     &#125;)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ul><li>$attrs&#x2F;$listeners 适用于 隔代组件通信。$attrs包含了父作用域中不作为prop被识别(且获取)的特性绑定(class和style除外),并且可以通过v−bind&#x3D;”$attrs”继续向下传递,通常配合 inheritAttrs 选项一起使用(inheritAttrs&#x3D;true 的时候，传递的属性会加到子组件的根元素上)。listeners：包含了父作用域中的(不含.native 修饰器的)v−on 事件监听器。它可以通过 v−on&#x3D;”listeners” 传入内部组件</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`Parent.vue`</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="title class_">Child</span> name=<span class="string">&quot;jack&quot;</span> age=<span class="string">&quot;18&quot;</span> weight=<span class="string">&quot;135&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="string">`Child.vue`</span></span><br><span class="line"></span><br><span class="line">/可以将$attrs继续传向后代组件</span><br><span class="line">&lt;<span class="title class_">GrandSon</span> v-bind=<span class="string">&quot;$attrs&quot;</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">   <span class="attr">props</span>:[<span class="string">&#x27;weight&#x27;</span>],</span><br><span class="line">   <span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="comment">//这里&#x27;weight&#x27;已经被作为props识别了，所以¥attrs上不再包含weight属性</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$attrs</span>) <span class="comment">// &#123;name:&#x27;jack&#x27;,age:&#x27;18&#x27;&#125;</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">`GrandSon.vue`</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">   <span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$attrs</span>)  <span class="comment">//&#123;name:&#x27;jack&#x27;,age:&#x27;18&#x27;&#125;</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ul><li>provide &#x2F; inject 适用于 隔代组件通信</li><li>Vuex 适用于 父子、隔代、兄弟组件通信</li></ul></blockquote><h2 id="vue-指令用过哪些"><a href="#vue-指令用过哪些" class="headerlink" title="vue 指令用过哪些"></a>vue 指令用过哪些</h2><blockquote><ul><li>v-text 指令，会把该元素下面的所有内容替换掉</li><li>v-model 指令，用于表单输入</li><li>v-on 指令，用于事件绑定</li><li>v-bind 指令，用于动态绑定一个值和传入变量</li><li>v-once 指令，事件只能用一次，不管点击几次，履行一次以后都不会再履行</li><li>v-html 指令，会将 span 的内容替换成 rawHtml 的属性值，直接作为 HTML 代码解析</li><li>v-for 指令，与 HTML 标签结合使用，用于数据的遍历摆放</li><li>v-if 指令，用来进行条件判断的，直接操作 dom</li><li>v-else 指令，用来进行条件判断的，与 v-if 指令连用，意义为条件不成立时履行</li><li>v-show 指令，根据真假切换元素的显示状态</li><li>v-slot 插槽</li></ul></blockquote><h2 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h2><h3 id="linux-目录结构"><a href="#linux-目录结构" class="headerlink" title="linux 目录结构"></a>linux 目录结构</h3><table><thead><tr><th align="center">目录</th><th align="left">内容</th></tr></thead><tbody><tr><td align="center">&#x2F;bin</td><td align="left">bin 是 Binary 的缩写, 这个目录存放着最经常使用的命令，由系统、系统管理员和用户共享</td></tr><tr><td align="center">&#x2F;boot</td><td align="left">这里存放的是启动 Linux 时使用的一些核心文件，包括一些链接文件以及镜像文件</td></tr><tr><td align="center">&#x2F;dev</td><td align="left">dev 是 Device(设备)的缩写, 该目录下存放的是 Linux 的外部设备，在 Linux 中访问设备的方式和访问文件的方式是相同的</td></tr><tr><td align="center">&#x2F;etc</td><td align="left">大多数重要的系统配置文件都在&#x2F;etc 目录下，该目录包含的数据类似于 Windows 控制面板中的数据</td></tr><tr><td align="center">&#x2F;home</td><td align="left">普通用户的家目录，在 Linux 中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的</td></tr><tr><td align="center">&#x2F;lib</td><td align="left">b 库文件，包括系统和用户所需要的各种程序的文件</td></tr><tr><td align="center">&#x2F;lost+found</td><td align="left">每个分区在其上目录中都有一个 lost+found。故障期间保存的文件在这里</td></tr><tr><td align="center">&#x2F;media</td><td align="left">linux 系统会自动识别一些设备，例如 U 盘、光驱等等，当识别后，linux 会把识别的设备挂载到这个目录下</td></tr><tr><td align="center">&#x2F;mnt</td><td align="left">外部文件系统的标准挂载点，例如 CD-ROM(光驱)或数码相机</td></tr><tr><td align="center">&#x2F;opt</td><td align="left">通常包含额外的和第三方软件。这是给主机额外安装的大型应用程序所放置的目录</td></tr><tr><td align="center">&#x2F;proc</td><td align="left">包含有关系统资源信息的虚拟文件系统。这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。这个目录的内容不在硬盘上而是在内存里, 我们也可以直接修改里面的某些文件</td></tr><tr><td align="center">&#x2F;root</td><td align="left">该目录为系统管理员，也称作超级权限者的用户家目录。注意根目录 &#x2F; 和根用户的主目录 &#x2F;root 之间的区别</td></tr><tr><td align="center">&#x2F;sbin</td><td align="left">s 就是 Super User 的意思，这里存放的是系统管理员 root 使用的系统管理程序</td></tr><tr><td align="center">&#x2F;tmp</td><td align="left">系统使用的临时空间，在重新启动时清理，所以不要使用它来保存任何工作!该目录对于所有用户都可以访问，不要把重要文件放置于该目录</td></tr><tr><td align="center">&#x2F;usr</td><td align="left">这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与 windows 下的 program files 目录</td></tr><tr><td align="center">&#x2F;var</td><td align="left">用户创建的所有可变文件和临时文件的存储空间，如日志文件(一般是&#x2F;var&#x2F;log)、邮件队列、打印假脱机程序区、从 Internet 下载的文件的临时存储空间，或在刻录 CD 之前保存它的映像。</td></tr></tbody></table><h3 id="linux-基本命令操作"><a href="#linux-基本命令操作" class="headerlink" title="linux 基本命令操作"></a>linux 基本命令操作</h3><h4 id="目录操作命令-cd、pwd、ls、mkdir、rmdir、du"><a href="#目录操作命令-cd、pwd、ls、mkdir、rmdir、du" class="headerlink" title="目录操作命令 cd、pwd、ls、mkdir、rmdir、du"></a>目录操作命令 cd、pwd、ls、mkdir、rmdir、du</h4><blockquote><ul><li>cd 切换到另一个目录</li><li>pwd 打印当前所在目录 (print working directory)</li></ul><p>ls 系列</p><ul><li><p>ls -l 列出的文件以长格式输出，一个文件显示一行（可简写为 ll）</p></li><li><p>ls -a 显示以 “.”开头的文件，“.”开头的为隐藏文件，默认不显示</p></li><li><p>ls -d 显示目录本身而不显示目录下的文件，默认 ls 后面的参数如果是目录，则会显示目录下的文件，如：ls &#x2F;root</p></li><li><p>ls -lh 长格式输出的文件字节数转换为 K,M,G 的形式方便人来阅读</p></li><li><p>ls -t 列出的文件按照修改时间的晚和早排序（最近修改的先显示）</p></li><li><p>ls -tr 列出的文件按照修改时间的早和晚排序（最近修改的后显示）</p></li><li><p>ls -R 列出当前目录下的所有文件，如果有目录遍历所有目录及其子目录下的文件</p></li><li><p>mkdir 创建目录，使用 -p 选项可以级联创建目录</p></li><li><p>rmdir 删除空目录，必须是空目录，否则用 rm -rf filename 删除</p></li></ul><p>du：统计目录下每个文件字节数</p><ul><li>du -s 只显示所有文件字节数总数</li><li>du -h 转换字节数为 K、M、G 的形式，便于阅读</li></ul></blockquote><blockquote><p>以 <code>ls -l</code> 长格式输出字段说明：以 <code>-rw-r--r--. 1 root root 46478 8 月 13 2018 install.log</code> 为例</p></blockquote><blockquote><ul><li><p>第一字段第一位：&#96;<font color='red' weight="900"><strong>-</strong></font>rw-r–r–. 1 root root 46478 8 月 13 2018 install.log</p><p>第一位代表文件类型：（以下为可选值）</p></li><li><p>“-”：代表普通文件</p></li><li><p>“d”：代表目录</p></li><li><p>“l”：链接文件（符号链接；小写的 L）或软链接</p></li><li><p>“c”：字符设备文件</p></li><li><p>“b”：块设备文件</p></li><li><p>“s”：套接字文件</p></li><li><p>“p”：命名管道文件</p></li><li><p>第一字段后 9 位：-<font color='red' weight="900"><strong>rw-r–r–</strong></font>. 1 root root 46478 8 月 13 2018 install.log 代表相关用户、组、其他用户的权限</p></li></ul></blockquote><blockquote><ul><li><p>第二字段：-rw-r–r–. <font color='red' weight="900"><strong>1</strong></font> root root 46478 8 月 13 2018 install.log</p></li><li><p>如果文件是普通文件：硬链接的个数（访问该文件的路径数）dr-xr-xr-x. 25 root root 4096 8 月 13 2018 &#x2F; 如果文件是目录：目录下的一级子目录的个数</p></li></ul></blockquote><blockquote><ul><li>第三字段：-rw-r–r–. 1 <font color='red' weight="900"><strong>root</strong></font> root 46478 8 月 13 2018 install.log 文件的属主（文件所属的用户名）</li></ul></blockquote><blockquote><ul><li>第四字段：-rw-r–r–. 1 root <font color='red' weight="900"><strong>root</strong></font> 46478 8 月 13 2018 install.log 文件的属组（文件所属的用户组名）</li></ul></blockquote><blockquote><ul><li>第五字段：-rw-r–r–. 1 root root <font color='red' weight="900"><strong>46478</strong></font> 8 月 13 2018 install.log 文件的字节数（大小）</li></ul></blockquote><blockquote><ul><li>第六字段：-rw-r–r–. 1 root root 46478 <font color='red' weight="900"><strong>8 月 13 2018</strong></font> install.log 文件最近一次的修改日期</li></ul></blockquote><blockquote><ul><li>第七字段：-rw-r–r–. 1 root root 46478 8 月 13 2018 <font color='red' weight="900"><strong>install.log</strong></font> 文件名称</li></ul></blockquote><h4 id="文件操作命令-which、touch、cp、mv、rm、file"><a href="#文件操作命令-which、touch、cp、mv、rm、file" class="headerlink" title="文件操作命令 which、touch、cp、mv、rm、file"></a>文件操作命令 which、touch、cp、mv、rm、file</h4><blockquote><ul><li>which：which 后面的命令字在磁盘的什么位置。例如：which cd、which ls、which date</li><li>touch：创建一个空文件，如果文件已经存在修改文件的修改日期。例如：&#x2F;root 目录下创建 aaa、bbb、ccc 三个空文件；touch &#x2F;root&#x2F;aaa &#x2F;root&#x2F;bbb &#x2F;root&#x2F;ccc</li></ul><p>cp 复制文件</p><ul><li>复制 &#x2F;root&#x2F;install.log 文件到 &#x2F;tmp：cp &#x2F;root&#x2F;install.log &#x2F;tmp</li><li>复制 &#x2F;root&#x2F;install.log 文件到 &#x2F;tmp 并改名为 abc.log：cp &#x2F;root&#x2F;install.log &#x2F;tmp&#x2F;abc.log</li></ul><p>cp 复制目录</p><ul><li>例如：复制整个 &#x2F;root 目录到 &#x2F;tmp：cp -R &#x2F;root &#x2F;tmp</li><li>例如：复制整个 &#x2F;root 目录到 &#x2F;tmp 并改名为 abc：cp -R &#x2F;root &#x2F;tmp&#x2F;abc</li></ul><p>mv 移动文件或目录</p><ul><li>例如：移动 &#x2F;root&#x2F;install.log.bak 文件到 &#x2F;tmp：mv &#x2F;root&#x2F;install.log.bak &#x2F;tmp</li></ul><p>mv 给文件或目录改名</p><ul><li>例如：给&#x2F;tmp 下的 root 目录改名为 root1：mv &#x2F;tmp&#x2F;root &#x2F;tmp&#x2F;root1</li></ul><p>rm 删除文件</p><ul><li>例如：删除&#x2F;root&#x2F;install.log.bak：rm &#x2F;root&#x2F;install.log.bak</li></ul><p>rm 删除目录 （root 用户操作一定要小心）</p><ul><li>例如：给&#x2F;tmp 下的 root1 目录：rm -rf &#x2F;tmp&#x2F;root1</li></ul><p>常用选项：</p><ul><li>-r 级联删除目录下的所有文件</li><li>-f 不提示（不用用户键入’y’或’n’进行确认）</li><li>file file 查看文件的类型</li></ul></blockquote><h4 id="查看登录用户命令-who、w"><a href="#查看登录用户命令-who、w" class="headerlink" title="查看登录用户命令 who、w"></a>查看登录用户命令 who、w</h4><blockquote><ul><li>who 当前用户登录的信息</li><li>w 当前用户登录的信息，以什么程序登录的</li></ul></blockquote><h4 id="文件内容查看命令-cat、tac、more、less、tail、head"><a href="#文件内容查看命令-cat、tac、more、less、tail、head" class="headerlink" title="文件内容查看命令 cat、tac、more、less、tail、head"></a>文件内容查看命令 cat、tac、more、less、tail、head</h4><blockquote><ul><li>cat 查看文本文件内容，将文本文件内容全部打印到标准输出；选项 -n 输出结果带行号</li><li>tac 查看文本文件内容，倒序输出；按照行号倒序打印文本文件的内容</li><li>more 分页显示文件内容，例如：more &#x2F;root&#x2F;install.log；默认显示进度百分比；空格往下翻页，b 往上翻页，f 往下翻页，q 退出</li><li>less 分页显示文件内容，例如：less &#x2F;root&#x2F;install.log；选项 -m 显示进度百分比；可以用“&#x2F;”后跟关键字搜索文件内容；空格往下翻页，b 往上翻页，f 往下翻页，q 退出</li><li>tail 查看文件尾部 10 行，例如：tail &#x2F;root&#x2F;install.log；选项-N （N 为正整数）可以指定显示末尾 N 行内容</li><li>head 查看文件头部 10 行，例如：head &#x2F;root&#x2F;install.log；选项-N （N 为正整数）可以指定显示头部 N 行内容</li></ul></blockquote><h4 id="系统管理类命令-shutdown、reboot、lscpu"><a href="#系统管理类命令-shutdown、reboot、lscpu" class="headerlink" title="系统管理类命令 shutdown、reboot、lscpu"></a>系统管理类命令 shutdown、reboot、lscpu</h4><blockquote><ul><li>shutdown 关机命令 shutdown -h now 立刻关机；shutdown -h +10 “10 分钟后关机”，每个登录用户收到“10 分钟后关机”的消息，并于 10 分钟后关机；shutdown -c 取消关机</li><li>reboot 重启系统</li><li>lscpu 查看系统 cpu 信息</li></ul></blockquote><h4 id="日期时间管理类命令-date、clock"><a href="#日期时间管理类命令-date、clock" class="headerlink" title="日期时间管理类命令 date、clock"></a>日期时间管理类命令 date、clock</h4><blockquote><ul><li>date 打印操作系统时钟；date -s 20190101 按照指定日期重新设定日期和时间</li><li>clock 打印硬件时钟（主板中依靠纽扣电池保存在芯片中的时钟）；clock -s 按照硬件时钟设置操作系统时钟；clock -w 按照操作系统时钟设置硬件时钟</li></ul></blockquote><h3 id="bash-通配符介绍"><a href="#bash-通配符介绍" class="headerlink" title="bash 通配符介绍"></a>bash 通配符介绍</h3><blockquote><ul><li><ul><li>匹配任意长度的任意字符</li></ul></li><li>? 匹配任意单个字符</li><li>[] 匹配指定字符范围内的任意单个字符，简化写法[a-z]不区分大小写</li><li>[[:upper:]] 大写字母</li><li>[[:lower:]] 小写字母</li><li>[[:alpha:]] 大小写所有字母</li><li>[[:digit:]] 匹配数字，可以写成[0-9]</li><li>[[:alnum:]] 字母+数字</li><li>[[:space:]] 空格</li><li>[[:punct:]] 标点符号 特殊字符</li><li>[^] 匹配指定字符范围外的任意单个字符</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 列出a开头的所有文件</span></span><br><span class="line">ls a*</span><br><span class="line"></span><br><span class="line"><span class="comment">// 列出a开头一共3个字母的文件</span></span><br><span class="line">ls a??</span><br><span class="line"></span><br><span class="line"><span class="comment">// 列出三个大写字母文件名的文件</span></span><br><span class="line">ls [[:<span class="attr">upper</span>:]][[:<span class="attr">upper</span>:]][[:<span class="attr">upper</span>:]]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 列出一个字母后跟三个数字的文件</span></span><br><span class="line">ls [a-z][<span class="number">0</span>-<span class="number">9</span>][<span class="number">0</span>-<span class="number">9</span>][<span class="number">0</span>-<span class="number">9</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 列出不以a字母开头后跟三个数字的文件</span></span><br><span class="line">ls [^a][<span class="number">0</span>-<span class="number">9</span>][<span class="number">0</span>-<span class="number">9</span>][<span class="number">0</span>-<span class="number">9</span>]</span><br></pre></td></tr></table></figure><h3 id="Bash-中的组合键"><a href="#Bash-中的组合键" class="headerlink" title="Bash 中的组合键"></a>Bash 中的组合键</h3><blockquote><ul><li>Ctrl+A 将光标移动到命令行开头</li><li>Ctrl+C 结束正在运行的程序并返回提示符</li><li>Ctrl+D 退出当前 shell 会话，相当于键入 exit 或 logout</li><li>Ctrl+E 将光标移动到命令行末尾</li><li>Ctrl+H Generate backspace character</li><li>Ctrl+L Clear this terminal</li><li>Ctrl+R 查询命令历史记录</li><li>Ctrl+Z 暂停一个程序</li><li>ArrowLeft and ArrowRight 将光标在命令行上向左或向右移动一个位置，这样就可以在其他位置插入字符，而不仅仅是在开头和结尾</li><li>ArrowUp and ArrowDown 浏览历史。转到要重复的行，如果需要编辑详细信息，按 Enter 键以节省时间</li><li>Shift+PageUp and Shift+PageDown 浏览终端缓冲区(查看已“滚屏”的文本)</li><li>Tab 命令或文件名补全;当有多种选择时，系统会发出声音或视觉铃声，如果选择太多，则会询问你是否都想看</li><li>Tab Tab 显示文件或命令补全的可能性</li></ul></blockquote><h3 id="用户和权限管理"><a href="#用户和权限管理" class="headerlink" title="用户和权限管理"></a>用户和权限管理</h3><h4 id="用户组"><a href="#用户组" class="headerlink" title="用户组"></a>用户组</h4><blockquote><ul><li>存放文件：&#x2F;etc&#x2F;group；文件中一个组一行记录；一个用户可以属于多个用户组；一个用户组可以包含多个用户</li><li>组文件格式，共 4 个字段：第一字段：组名；第二字段：组密码位；第三字段：gid 组编号；第四字段：以本组作为附加组的用户名，用逗号分隔</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 新建用户组 groupadd grpname</span></span><br><span class="line">groupadd g1 cat /etc/group</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除用户组 groupdel grpname</span></span><br><span class="line">groupdel g1 cat /etc/group</span><br></pre></td></tr></table></figure><h4 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h4><blockquote><ul><li>存放文件：&#x2F;etc&#x2F;passwd；文件中一个用户一行记录</li><li>用户文件格式，共 7 个字段；第一字段：用户名；第二字段：用户密码位；第三字段：uid 用户编号；第四字段：gid 主组编号；第五字段：用户备注信息；第六字段：家目录位置；第七字段：用户使用 shell 解释器的位置，若为&#x2F;sbin&#x2F;nologin，用户不能登录；例如： <code>linux1:x:1000:1000:linux1:/home/linux1:/bin/bash</code></li></ul></blockquote><h4 id="用户类型"><a href="#用户类型" class="headerlink" title="用户类型"></a>用户类型</h4><blockquote><ul><li>超级用户 root 权限特别大；uid&#x3D;0，gid&#x3D;0 生产环境建议不要使用</li><li>普通用户 uid&gt;&#x3D;500 一般权限系统管理，权限有限</li><li>程序用户 1&lt;&#x3D;uid&lt;500 仅仅使用系统服务资源，不能登录系统</li><li>判定程序用户能否登录到操作系统：不能登录：shell 为&#x2F;sbin&#x2F;nologin；可以登录：shell 为&#x2F;bin&#x2F;bash</li></ul></blockquote><h4 id="添加用户-useradd"><a href="#添加用户-useradd" class="headerlink" title="添加用户 useradd"></a>添加用户 useradd</h4><blockquote><p>useradd [-u UID] [-g GID] [-d HOME] [-s] [-c] 用户名</p><ul><li>-u 自定义 UID 用户编号，不指定系统自动编号</li><li>-g 自定义主组 GID 组编号或组名，前提是这个组已经存在，若不指定主组系统会创建一个和用户名一样的组作为用户主组</li><li>-G 自定义附加组 GID 组编号或组名，用逗号隔开，前提是这些组已经存在</li><li>-d 指定家目录，若不指定默认为&#x2F;home&#x2F;用户名</li><li>-s 自定义 shell，若不指定默认为&#x2F;bin&#x2F;bash</li><li>-c 用户备注信息，若不指定默认为空</li><li>示例：创建 wang 用户主组为 g1，附加组为 zhang 和 root：useradd -u 600 -g g1 -G zhang,root wang</li></ul></blockquote><h4 id="查看用户信息-id-用户名"><a href="#查看用户信息-id-用户名" class="headerlink" title="查看用户信息 id 用户名"></a>查看用户信息 id 用户名</h4><blockquote><ul><li>查看当前登录用户信息：id</li><li>查看指定用户信息：id zhang、id wang</li></ul></blockquote><h4 id="修改用户-usermod"><a href="#修改用户-usermod" class="headerlink" title="修改用户 usermod"></a>修改用户 usermod</h4><blockquote><p>usermod [-u UID] [-g GID] [-d HOME] [-s] [-l] 用户名</p><ul><li>示例：usermod -l wang wang1</li></ul></blockquote><h4 id="删除用户-userdel-r-用户名"><a href="#删除用户-userdel-r-用户名" class="headerlink" title="删除用户 userdel [-r] 用户名"></a>删除用户 userdel [-r] 用户名</h4><blockquote><p>-r 选项，在删除用户的同时删除其家目录和相关系统邮件</p></blockquote><h4 id="切换用户-su-用户名"><a href="#切换用户-su-用户名" class="headerlink" title="切换用户 su - 用户名"></a>切换用户 su - 用户名</h4><blockquote><p>可以添加选项 “-”，会执行要切换用户的相关环境变量</p></blockquote><h4 id="给用户设置登录密码-passwd-用户名"><a href="#给用户设置登录密码-passwd-用户名" class="headerlink" title="给用户设置登录密码 passwd [用户名]"></a>给用户设置登录密码 passwd [用户名]</h4><blockquote><ul><li>修改当前用户登录密码 passwd（如果普通用户设置密码需要较高密码复杂度）</li><li>修改指定用户登录密码 passwd zhang（root 用户操作）</li></ul></blockquote><h4 id="密码文件"><a href="#密码文件" class="headerlink" title="密码文件"></a>密码文件</h4><blockquote><p>&#x2F;etc&#x2F;passwd 文件，由于该文件允许所有用户读取，易导致用户密码泄露，因此 Linux 系统将用户的密码信息从 &#x2F;etc&#x2F;passwd 文件中分离出来，并单独放到了&#x2F;etc&#x2F;shadow 文件中。&#x2F;etc&#x2F;shadow 文件只有 root 用户拥有读权限，其他用户没有任何权限，这样就保证了用户密码的安全性。<br>存放位置 &#x2F;etc&#x2F;shadow 每一行对应一个用户的密码信息，共 9 字段；字段说明：用户名：加密密码：最后一次修改时间：最小修改时间间隔：密码有效期：密码需要变更前的警告天数：密码过期后的宽限时间:账号失效时间：保留字段</p></blockquote><h3 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h3><blockquote><p>权限类别：权限分为三种，分别是读、写、执行：r (read)、w (write) 、x (execute)<br>权限作用对象：文件 （Linux 一切皆文件）<br>显示文件的权限：ls -l 或 ll (redhat 系列发行版 linux，默认为 ls -l 创建了别名 ll)<br>用户的不拥有某位权限，则使用 “ - ” 占位；例如：r-x 表示读和执行的权限；r–表示只读权限；rw-表示读写权限<br>Linux 使用 UGO 权限模型进行权限控制；U 代表文件所属用户；G 代表文件所属用户组；O 代表所属用户和所属用户组的用户之外的其他用户<br>ls -l 文件属性信息第一字段后 9 位代表权限；9 位权限 3 位 1 组可以分成 3 组，分别对应文件的 UGO；例如：<code>-rw-rw-r--. 1 wang  g1  0 11月 20 14:35 wangfile</code> 文件的所属用户是 wang(U)，其权限是 rw- 文件的所属用户组是 g1(G)，其权限是 rw- 文件的属主 wang 和 g1 组的用户以外的其他用户(O)，其权限是 r–<br>规定 4 代表 r ；2 代表 w ；1 代表 x；0 代表 - 这样不同的权限组合可以用 1 个 8 进制 0 到 7 的数字来表示，文件对应 UGO 的权限可以用 3 个数字来表示；例如：<code>-rw-rw-r--. 1 wang  g1   0 11月 20 14:35 wangfile</code> 其权限为： 6 6 4<br>修改权限使用 chmod 命令字：提供作用相同的三种方式</p><ul><li>赋值法：chmod u&#x3D;rwx,g&#x3D;rw,o&#x3D; filename；chmod a&#x3D;rwx filename</li><li>加减法：chmod u+r,u-x,g+w,g-x,o+r filename；chmod a+x filename</li><li>权重法：chmod 755 filename；chmod 664 filename；chmod 777 filename；chmod 000 filename</li></ul><p>可以使用-R 选项级联修改目录下的所有文件的权限；例如：修改 &#x2F;u01 下所有目录及文件的权限为 750 <code>chmod -R 750 /u01</code><br>修改文件的属主和属组使用 chown 命令字：只能 root 用户来做</p><ul><li>chown [-R] UserName[{:|.}GroupName] FILENAME 选项-R 级联修改目录下的所有文件的属主和属组</li><li>例如：修改 &#x2F;root&#x2F;install.log 的属主为 zhang ，属组为 g1：chown zhang:g1 &#x2F;root&#x2F;install.log</li><li>例如：仅修改 &#x2F;root&#x2F;install.log 的属主为 root，属组不变：chown root: &#x2F;root&#x2F;install.log</li></ul><p>权限对于目录和非目录文件有所区别；创建目录默认权限为 755，普通文件为 644； 目录至少要有 r 和 x 权限才能正常进入目录</p></blockquote><table><thead><tr><th align="center">权限</th><th align="center">对于文件</th><th align="center">对于目录</th></tr></thead><tbody><tr><td align="center">r（读）</td><td align="center">可以使用内容查看类的命令来显示其相关内容；可以复制文件</td><td align="center">可以使用 ls 命令查看目录下的文件，如果对目录没有 x 权限，不能使用 cd 命令进入目录</td></tr><tr><td align="center">w（写）</td><td align="center">可以使用编辑器修改内容</td><td align="center">但必须同时对目录有 x 权限 ，可以在目录下 创建（touch）、删除（rm）、改名（mv）文件</td></tr><tr><td align="center">x（执行）</td><td align="center">可以将其内容发起一个进程（内容当成命令字来运行）</td><td align="center">必须同时对目录有 r 权限，可以使用 cd 命令进去目录，可以使用 ls 命令查看目录下的文件</td></tr></tbody></table><h3 id="压缩与解压缩命令"><a href="#压缩与解压缩命令" class="headerlink" title="压缩与解压缩命令"></a>压缩与解压缩命令</h3><h4 id="压缩与解压缩命令-zip-unzip"><a href="#压缩与解压缩命令-zip-unzip" class="headerlink" title="压缩与解压缩命令 zip unzip"></a>压缩与解压缩命令 zip unzip</h4><blockquote><p>zip 压缩文件或目录 -r 压缩目录 -y 把软链接作为文件压缩，但不压缩软链接所指向的文件；</p><ul><li>示例：压缩&#x2F;etc 下的所有文件到&#x2F;tmp 下的 etc.zip 文件中：<code>zip -ry /tmp/etc.zip /etc</code></li></ul><p>unzip 解压缩 zip 压缩的文件 -d 指定解压缩的路径；</p><ul><li>示例：解压缩&#x2F;tmp 下 etc.zip 到&#x2F;root：<code>unzip -d /root /tmp/etc.zip</code></li></ul></blockquote><h4 id="压缩与解压缩命令-gzip-gunzip"><a href="#压缩与解压缩命令-gzip-gunzip" class="headerlink" title="压缩与解压缩命令 gzip gunzip"></a>压缩与解压缩命令 gzip gunzip</h4><blockquote><p>gzip 压缩文件或目录 -N N 为数字 1 到 9，为压缩率，9 最高，默认 6 -r 压缩目录；默认压缩之后不会保留源文件，源文件变为*.gz 格式；</p><ul><li>示例：压缩&#x2F;root&#x2F;install.log 文件：<code>gzip /root/install.log</code> <code>ls /root/install.log*</code></li></ul><p>gunzip 解压缩 gzip 压缩的文件</p><ul><li>示例：解压缩&#x2F;root 下 install.log.gz：<code>gunzip /root /install.log.gz</code></li></ul></blockquote><h4 id="压缩与解压缩命令-bzip2-bunzip2"><a href="#压缩与解压缩命令-bzip2-bunzip2" class="headerlink" title="压缩与解压缩命令 bzip2 bunzip2"></a>压缩与解压缩命令 bzip2 bunzip2</h4><blockquote><p>bzip2 压缩文件（压缩率比 gzip 高）-N N 为数字 1 到 9，为压缩率，9 最高，默认 6；默认压缩之后不会保留源文件，源文件变为*.bz2 格式</p><ul><li>示例：压缩&#x2F;root&#x2F;install.log 文件：<code>bzip2 /root/install.log</code> <code>ls /root/install.log*</code></li></ul><p>bunzip2 解压缩 bzip2 压缩的文件</p><ul><li>示例：解压缩&#x2F;root 下 install.log.bz2：<code>bunzip2 /root /install.log.bz2</code></li></ul></blockquote><h3 id="归档命令-tar"><a href="#归档命令-tar" class="headerlink" title="归档命令 tar"></a>归档命令 tar</h3><blockquote><p>tar 将多个离散文件或目录进行打包为一个普通文件</p><ul><li>归档： tar 选项 归档文件名 源文件名或目录</li><li>释放归档： tar 选项 归档文件名 -C 目标目录</li></ul><p>常用选项：</p><ul><li>-f 如果使用 tar 命令，必须要用 -f 选项，而且要放到最后面</li><li>-c 创建新归档</li><li>-x 释放归档 extract</li><li>-z 使用 gzip 的方式进行压缩或解压缩</li><li>-j 使用 bzip2 的方式进行压缩或解压缩</li><li>-v 归档进度可视化 (verbose)</li></ul></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将/etc整个目录归档为/tmp/etc.tar文件</span></span><br><span class="line">tar -cvf /tmp/etc.tar /etc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将/etc整个目录归档为/tmp/etc.tar.gz文件，用gzip压缩文件</span></span><br><span class="line">ar -zcvf /tmp/etc.tar.gz /etc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将/etc整个目录归档为/tmp/etc.tar.bz2文件，用bzip2压缩文件</span></span><br><span class="line">tar -jcvf /tmp/etc.tar.bz2 /etc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将归档文件/tmp/etc.tar还原到/root目录下</span></span><br><span class="line">tar -xvf /tmp/etc.tar -C /root</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将归档文件/tmp/etc.tar.gz还原到/root目录下</span></span><br><span class="line">tar -zxvf /tmp/etc.tar.gz -C /root</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将归档文件/tmp/etc.tar.bz2还原到/root目录下</span></span><br><span class="line">tar -jxvf /tmp/etc.tar.bz2 -C /root</span><br></pre></td></tr></table></figure><h3 id="链接命令-ln"><a href="#链接命令-ln" class="headerlink" title="链接命令 ln"></a>链接命令 ln</h3><blockquote><p>ln 命令用来给文件或目录创建链接文件，类似于 windows 系统的快捷方式<br>常用选项:</p><ul><li>-s 创建软链接</li><li>-v 可视化</li><li>示例：在&#x2F;root 下为目录&#x2F;var 创建软链接 link_var：<code>ln -sv /var /root/link_var</code></li></ul></blockquote><h3 id="测试网络连通性命令-ping"><a href="#测试网络连通性命令-ping" class="headerlink" title="测试网络连通性命令 ping"></a>测试网络连通性命令 ping</h3><blockquote><p>ping 命令可以用来测试网络的连通性<br>常用选项:</p><ul><li>-c 次数</li><li>-w 等待秒数，优先级高于-c</li><li>示例：测试百度网址的连通性，发生 4 个 ping 包：<code>ping -c 4 www.baidu.com</code></li><li>示例：测试百度网址的连通性，发生 4 个 ping 包，2 秒后停止 ping：<code>ping -c 4 -w 2 www.baidu.com</code></li></ul></blockquote><h3 id="vi-编辑器-（最常用）"><a href="#vi-编辑器-（最常用）" class="headerlink" title="vi 编辑器 （最常用）"></a>vi 编辑器 （最常用）</h3><blockquote><p>vi 三种模式：</p><ul><li>一般模式（normal mode），默认即为一般模式</li><li>插入模式（insert mode）</li><li>末行模式（last line mode）</li></ul></blockquote><blockquote><p>三种模式的切换：一般模式 –&gt; 插入模式</p><ul><li>i：当前光标处输入内容</li><li>I：在当前光标所在行的行首</li><li>a：在当前光标所在处的后面</li><li>A: 在当前光标所在行的行尾输入</li><li>o：在光标所在行的下方新增一行空白行</li><li>O：在光标所在行的上方新增一行空白行</li></ul><p>三种模式的切换：插入模式 –&gt; 一般模式</p><ul><li>使用：ESC 键</li></ul><p>三种模式的切换：一般模式 –&gt; 末行模式</p><ul><li>使用：“:”（英文状态下）</li></ul><p>三种模式的切换：末行模式 –&gt; 一般模式</p><ul><li>使用：ESC 键</li></ul></blockquote><blockquote><p>退出编辑器：末行模式下，输入下述内容可退出：</p><ul><li>q！：强制退出，不保存并退出</li><li>wq：保存修改并退出</li><li>x：保存并退出</li></ul></blockquote><blockquote><p>vi 操作流程</p><ul><li><ol><li>新建或编辑文件：vi filename</li></ol></li><li><ol start="2"><li>i 或 insert 键，即可进入插入模式。</li></ol></li><li><ol start="3"><li>编辑内容。</li></ol></li><li><ol start="4"><li>ESC 键，退出到一般模式。</li></ol></li><li><ol start="5"><li>键入英文“:”进入末行模式，按 wq（保存并修改）后回车。</li></ol></li><li><ol start="6"><li>查看编辑内容是否正确：cat filename</li></ol></li></ul></blockquote><blockquote><p>拓展 在一般模式下：</p><ul><li>d 删除。dd 删除一行</li><li>y 复制。yy 复制一行</li><li>p 粘贴</li><li>x 清除</li><li>g 行跳转；gg 行跳转：如 10gg，表示跳转到第 10 行。</li><li>&#x2F;或？ 查找</li><li>n&#x2F;N 上下翻</li><li>v 可视化模式。可视化模式中，可移动光标选择文本。键入 y 复制选中文本，键入 d 删除选中文本，键入 v 回到一般模式。</li><li>u 撤销之前的操作</li></ul></blockquote><h3 id="安装应用程序-rpm"><a href="#安装应用程序-rpm" class="headerlink" title="安装应用程序 rpm"></a>安装应用程序 rpm</h3><blockquote><p>redhat、centos、oracle linux 使用 rpm 命令字安装制作为 rpm 格式的应用程序<br>rpm 命令安装 rpm 软件包：rpm -i [选项] 包名<br>常用选项：</p><ul><li>-v 显示安装过程中的详细信息</li><li>-h 以 # 显示安装进度</li><li>-U 升级包（如没安装就安装）</li><li>-F 升级包（没安装放弃安装）</li><li>–test 测试能否被安装 try run</li><li>–nodeps 忽略包之间的依赖关系</li><li>常用安装命令：rpm -ivh 包名 1 包名 2 ……</li><li>示例：rpm -ivh zsh-4.3.11-4.el6.centos.2.x86_64.rpm</li></ul></blockquote><blockquote><p>查询 RPM 包 ：rpm -q[子选项] 包名关键字<br>常用选项：</p><ul><li>a 已安装的所有软件包</li><li>i 查看指定软件的详细信息</li><li>l 查询软件包的安装目录</li><li>f 查询文件或目录属于哪个程序包安装生成的</li><li>p 尚未安装的包做查询操作</li></ul></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看所有已安装rpm包</span></span><br><span class="line">rpm -qa</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有已安装rpm包中有没有mysql</span></span><br><span class="line">rpm -qa | grep mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看已安装的mysql-libs-5.1.73-7.el6.x86_64包的信息</span></span><br><span class="line">rpm -qi mysql-libs-5.1.73-7.el6.x86_64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看mysql-libs-5.1.73-7.el6.x86_64包中文件安装位置</span></span><br><span class="line">rpm -ql mysql-libs-5.1.73-7.el6.x86_64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看/bin/ls和根目录“/”是由哪些包安装的</span></span><br><span class="line">rpm -qf /bin/ls</span><br><span class="line">rpm -qf /</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看安装光盘中mysql-server-5.1.73-7.el6.x86_64.rpm的信息</span></span><br><span class="line">rpm -qip /media/CentOS_6.8_Final/Packages/mysql-server-5.1.73-7.el6.x86_64.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看安装光盘中mysql-5.1.73-7.el6.x86_64.rpm的内容</span></span><br><span class="line">rpm -qlp /media/CentOS_6.8_Final/Packages/mysql-5.1.73-7.el6.x86_64.rpm</span><br></pre></td></tr></table></figure><blockquote><p>删除 RPM 包：rpm -e 包名<br>示例：删除刚刚安装的 zsh 包</p><ul><li>首先需要获得准确完整的包名：rpm -qa | grep zsh</li><li>然后删除该包：rpm -e zsh-4.3.11-4.el6.centos.2.x86_64</li><li>再次查询确认：rpm -qa | grep zsh</li></ul></blockquote><blockquote><p>RPM 命令安装软件包存在的问题：rpm 包和包存在一定的依赖关系<br>可能的情况：</p><ul><li>安装包 A，提示需要先安装包 B，安装包 B，提示先要先装包 C，安装包 C，提示需要先装包 D…….，导致安装过程漫长不顺利</li><li>安装包 A，提示需要先安装包 B，安装包 B，提示先要先装包 C，安装包 C，提示需要先装包 A。最后只能包 A、B、C 一起安装</li><li>以上情况导致 rpm 安装软件过程复杂繁琐，因而后来推出了 yum 方式安装软件包，解决了包间相互依赖的问题。推荐使用 yum 方式安装软件包</li></ul></blockquote><h3 id="安装应用程序-yum"><a href="#安装应用程序-yum" class="headerlink" title="安装应用程序 yum"></a>安装应用程序 yum</h3><blockquote><p>相对于 rpm 安装方式 yum 解决 rpm 包间依赖关系使安装方便和快捷；安装 rpm 包时仍然使用 rpm</p></blockquote><blockquote><p>yum 原理</p><ul><li>仓库配置文件：&#x2F;etc&#x2F;yum.repos.d&#x2F;*.repo</li><li>根据*.repo 后缀的 yum 配置文件中指定的 RPM 包来源构建本地缓存（数据库），包含包间的依赖关系</li><li>安装软件包时检查安装包所依赖的相关包，先安装依赖包，最后再装目标软件包</li><li>注：网络 yum 源可以考虑使用网速快的 yum 源，如：aliyun</li></ul></blockquote><blockquote><p>yum 用法:</p><ul><li><p>选项：</p></li><li><p>-y 自动回应 yes 不用手工输入‘Y’</p></li><li><p>-q 静默模式 不显示包安装进度条等信息</p></li><li><p>安装：yum [选项] install 包 1 包 2….</p></li><li><p>卸载：yum [选项] remove 包 1 包 2….</p></li><li><p>更新：yum [选项] update 包 1 包 2….</p></li><li><p>检查更新：yum check-update</p></li><li><p>查看指定特性（可以是文件） 由哪个程序包提供：：yum provides *&#x2F;关键字</p></li><li><p>清除缓存：yum clean all</p></li><li><p>构建缓存：yum makecache</p></li><li><p>模糊搜索：yum search 关键字</p></li><li><p>查看指定包依赖的包关系：yum deplist 包 1 包 2…..</p></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>html 相关知识（4）</title>
      <link href="/post/1b93659f.html"/>
      <url>/post/1b93659f.html</url>
      
        <content type="html"><![CDATA[<h2 id="同源策略"><a href="#同源策略" class="headerlink" title="同源策略"></a>同源策略</h2><blockquote><p>同源：协议、域名、端口，三者必须一致<br>要求：ajax 请求时，要求当前网页必须和 server 符合同源策略<br>img、css、js 可无视同源策略</p></blockquote><h2 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h2><blockquote><p>JSONP 的基本实现原理：</p><ul><li><code>&lt;script&gt;</code>可绕过跨域限制（可无视同源策略）</li><li>服务器可以任意动态拼接数据返回</li><li>所以，<code>&lt;script&gt;</code>可以获得跨域的数据，只要服务端愿意返回</li></ul><p>基本实现：</p><ul><li>可以使用 script 的 src 向后端发送请求，请求中携带和后端商量好的 callback 函数名，后端收到请求，就会返回对应的数据，然后将 callback 挂载到 Window 上，这样就会执行，获取后端返回的数据</li></ul></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>jsonp 演示<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字 1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">window</span>.<span class="property">abc</span> = <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span></span><br><span class="line"><span class="language-javascript">      &#125;;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://localhost:5500/data/jsonp.js?callback=abc&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="cookie-的缺点"><a href="#cookie-的缺点" class="headerlink" title="cookie 的缺点"></a>cookie 的缺点</h2><blockquote><ul><li>存储大小，最大 4kb</li><li>http 请求时，需要发送到服务端，增加请求数据量</li><li>只能用 document.cookie &#x3D; ‘’ 来修改，过于简陋</li></ul></blockquote><h2 id="localstorage-和-sessionstorage"><a href="#localstorage-和-sessionstorage" class="headerlink" title="localstorage 和 sessionstorage"></a>localstorage 和 sessionstorage</h2><blockquote><ul><li>LocalStorage 数据会永久存储，除非代码删除或者手动删除</li><li>SessionStorage 数据只存在于当前会话，浏览器关闭，则自动删除</li></ul></blockquote><h2 id="Cookie、localstorage、sessionstorage-的区别"><a href="#Cookie、localstorage、sessionstorage-的区别" class="headerlink" title="Cookie、localstorage、sessionstorage 的区别"></a>Cookie、localstorage、sessionstorage 的区别</h2><blockquote><ul><li>容量：cookie 只有 4kb 大小，后两者大小为 5M</li><li>API 易用性：cookie 只能用 document.cookie &#x3D; ‘’，后两者 get、set，易用</li></ul></blockquote><h2 id="http-状态码以及常用的状态码"><a href="#http-状态码以及常用的状态码" class="headerlink" title="http 状态码以及常用的状态码"></a>http 状态码以及常用的状态码</h2><blockquote><p>http 状态码</p><ul><li>1xx：表示服务器收到了请求，但是还没有返回</li><li>2xx：请求成功</li><li>3xx：重定向</li><li>4xx：客户端错误（请求了一个资源不存在的地址）</li><li>5xx：服务端错误</li></ul><p>常见状态码</p><ul><li>200：请求成功</li><li>301：永久重定向（配合 location（服务器给的新的访问地址），浏览器会自动处理（浏览器会记住这个地址，下次就直接使用这个，以前的不用了，比如更换域名了））</li><li>302：临时重定向（配合 location（服务器给的新的访问地址），浏览器会自动处理（浏览器不会记住这个地址，下次浏览器还是使用之前的地址访问，等待返回 302，然后使用新的临时地址访问）））</li><li>304：资源未被修改（这个资源被请求过，没有发生更改，可以使用缓存）</li><li>403：没有权限访问</li><li>404：资源路径不存在</li><li>500：服务器错误</li><li>504: 网关超时（服务器可能有很多台，访问的服务在内部进行跳转时，可能会超时）</li></ul></blockquote><h2 id="Restful-API"><a href="#Restful-API" class="headerlink" title="Restful API"></a>Restful API</h2><blockquote><p>传统的 API：把每个 url 当作一个功能；Restful API：把每个 url 当作一个唯一的资源<br>不使用 url 参数：传统的 API：&#x2F;api&#x2F;list?pageIndex&#x3D;2；Restful API：&#x2F;api&#x2F;list&#x2F;2<br>用 method 表示操作类型：</p><ul><li>传统 API 设计：1）、post 请求：&#x2F;api&#x2F;create-blog&#x2F;；2）、post 请求：&#x2F;api&#x2F;update-blog?id&#x3D;2；3）get 请求：&#x2F;api&#x2F;get-blog?id&#x3D;2；</li><li>Restful API 设计：1）post 请求：&#x2F;api&#x2F;blog&#x2F;；2）、patch 请求：&#x2F;api&#x2F;blog&#x2F;100；3）、get 请求：&#x2F;api&#x2F;blog&#x2F;100；虽然 patch 和 get 看起来 url 一样，但是操作类型不一样</li></ul></blockquote><h2 id="http-headers"><a href="#http-headers" class="headerlink" title="http headers"></a>http headers</h2><blockquote><p>Request Headers：</p><ul><li>Accept：浏览器可接收的数据格式</li><li>Accept-Encoding：浏览器接收的压缩算法，如 gzip</li><li>Accept-Language：浏览器可接收的语言，如 zh-CN</li><li>Connect：keep-alive 一次连接，重复使用</li><li>cookie：浏览器自带，不需要管</li><li>Host：请求的域名</li><li>User-Agent：（简称 UA）浏览器信息（标识浏览器的）</li><li>Content-type：发送数据的格式，如 application&#x2F;json</li><li>Content-length：返回数据的大小，多少字节</li><li>Content-Encoding：返回数据的压缩算法，如 gzip</li><li>Set-Cookie：服务器修改 cookie 的时候使用的</li></ul><p>Response Headers</p><ul><li>Cache-control：过期时间（服务器觉得可能有些资源可以缓存的时候，就会加上这个）这个就是控制强制缓存的逻辑；例如：Cache-Control：max-age：35000（秒）</li><li>Last-Modified：资源的最后修改时间；If-Modified-Since 就代表 Last-Modified，主要判断资源的过期时间；If-None-Match 就代表 Etag，主要判断资源是否被修改过</li></ul></blockquote><pre><code>Last-Modified 和 Etag 会优先使用 Etag，Last-Modified 只能精确到秒级，如果资源被重复生成，而内容不变，则 Etag 更为准确</code></pre><blockquote><p>Cache-Control 的值：</p><ul><li>max-age：最大过期时间</li><li>no-cache：不需要强制缓存，直接使用服务器，服务器如何处理不管</li><li>no-store：不用本地缓存、也不用服务端缓存；4）、private：只允许最终用户做缓存；5）、public：也允许中间的代理做缓存</li></ul></blockquote><pre><code>Expires 也在 Response Headers 中，也是控制过期时间，已经被 Cache-Control 代替</code></pre><blockquote><p>协商缓存（对比缓存）：</p><ul><li>服务端缓存策略（不是东西缓存在服务端，二十服务端告诉你你请求的东西可能已经在本地缓存过了，你可以直接用本地的，这样服务端就不用返回东西了，节省了网络）</li><li>服务端判断客户端和服务端资源是否一致（如果一样，就不需要返回新数据了，节省网络）</li><li>如果 2）判断结果不一样，则返回 200 和最新资源，如果一样，则返回 304</li></ul></blockquote><h2 id="常用的刷新操作"><a href="#常用的刷新操作" class="headerlink" title="常用的刷新操作"></a>常用的刷新操作</h2><blockquote><ul><li><p>正常操作：地址栏输入 url、跳转连接、前进后退</p></li><li><p>手动刷新：F5、点击刷新按钮、右击菜单刷新</p></li><li><p>强制刷新：ctrl + F5</p></li><li><p>正常刷新：强制缓存、协商缓存有效</p></li><li><p>手动刷新：强制缓存失效，协商缓存有效</p></li><li><p>强制刷新：强制缓存、协商缓存都失效</p></li></ul></blockquote><h2 id="常用-git-命令"><a href="#常用-git-命令" class="headerlink" title="常用 git 命令"></a>常用 git 命令</h2><blockquote><ul><li>git init：在当前目录新建一个 git 仓库</li><li>git add . &#x2F; 文件名：把文件缓存到本地（暂存区），. 代表所有，也可以只缓存某一个文件</li><li>git checkout -b 分支名：新建一个分支，并且切换到该分支</li><li>git checkout 分支名：切换分支</li><li>git commit -m “备注内容”：提交时的备注信息</li><li>git push origin 分支名：推送到远端</li><li>git pull origin 分支名：从远端拉取</li><li>git branch：查看分支</li><li>git merge 分支名：将某分支和当前分支合并</li><li>git diff：可用来查看修改文件的具体修改，不是新添加的文件，时修改过的文件</li><li>git log：可用来查看提交记录</li><li>git config user.name：用来配置提交的用户名</li><li>git config user.email：用来配置提交用户的邮箱，以便于知道谁提交的</li><li>git show “id”：可用来查看某次提交的具体内容，id 时给 git log 中的，每次提交都会有一个</li><li>git checkout . 或者 git checkout 文件名：可用来撤销修改</li><li>git fetch：可用来把所有分支拉取到本地</li><li>如果忘了新建分支，直接在 master 分支上进行了修改，又不想撤回修改，可以使用 git stash 这个命令可以将修改的内容单独放到一个地方，然后再创建新分支，再使用 git stash pop 开放出来，在进行提交，这样就可以将修改的内容放到新分支上了</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>html 相关知识（3）</title>
      <link href="/post/86445d26.html"/>
      <url>/post/86445d26.html</url>
      
        <content type="html"><![CDATA[<h2 id="原型和原型链"><a href="#原型和原型链" class="headerlink" title="原型和原型链"></a>原型和原型链</h2><blockquote><p>原型关系</p><ul><li>每个 class 都有显示原型 prototype</li><li>每个实例都有隐式原型 <code>__proto__</code></li><li>实例的 <code>__proto__</code> 指向对应 class 的 prototype<br>基于原型的执行规则</li><li>当获取属性或执行方法时：首先在自身属性和方法中寻找，如果找不到，则自动取 <code>__proto__</code>中去找</li></ul></blockquote><h2 id="自由变量、闭包"><a href="#自由变量、闭包" class="headerlink" title="自由变量、闭包"></a>自由变量、闭包</h2><blockquote><p>所有自由变量的查找，是在<strong>函数定义</strong>的地方，向上级作用域查找，不是在执行的地方</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数作为返回值</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">create</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> a = <span class="number">100</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fn = <span class="title function_">create</span>();</span><br><span class="line"><span class="keyword">const</span> a = <span class="number">200</span>;</span><br><span class="line"><span class="comment">// 100</span></span><br><span class="line"><span class="title function_">fn</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数作为参数被传递</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">print</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> a = <span class="number">200</span>;</span><br><span class="line">  <span class="title function_">fn</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 100</span></span><br><span class="line"><span class="title function_">print</span>(fn);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> a1 = <span class="number">100</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">fn2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> a2 = <span class="number">200</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fn3</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> a3 = <span class="number">300</span>;</span><br><span class="line">      <span class="keyword">return</span> a + a1 + a2 + a3;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 600</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn3</span>());</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// undefined</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn3</span>());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn3</span>());</span><br></pre></td></tr></table></figure><h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><blockquote><p>this 取什么值，是在执行的时候确定的，不是在定义的时候确定的<br>this 的不同应用场景如何取值</p><ul><li>作为普通函数被调用，this 就是 window</li><li>使用 call、apply、bind，传入什么，this 就是什么（一般是第一个参数，如果我们传入的第一个参数为 null，函数体内的 this 会默认指向宿主对象，在浏览器中则是 window）</li><li>作为对象方法被调用，this 就是对象本身</li><li>构造函数调用， 此时 this 指向 实例对象</li><li>通过事件绑定的方法， 此时 this 指向 绑定事件的对象</li><li><strong>如果是箭头函数，this 指向是定义时所在的对象，而不是执行时的，箭头函数的 this 指向固定</strong> 箭头函数不会创建自己的 this，它只会从自己的作用域链的上一层继承 this（父级指向谁，当前箭头函数就指向谁）</li><li>在以下三种特殊情况下，this 指向 window：1）、立即执行函数（IIFE）2）、setTimeout 中传入的函数 3）、setInterval 中传入的函数</li></ul></blockquote><h2 id="手写-bind"><a href="#手写-bind" class="headerlink" title="手写 bind"></a>手写 bind</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种：参数通过 arguments 取到</span></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myBind1</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 将参数拆解为数组</span></span><br><span class="line">  <span class="keyword">const</span> args = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 获取 this（数组第一项）</span></span><br><span class="line">  <span class="keyword">const</span> t = args.<span class="title function_">shift</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// fn1.bind(...)中的 fn1</span></span><br><span class="line">  <span class="keyword">const</span> self = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 返回一个函数</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> self.<span class="title function_">apply</span>(t, args);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn1</span>(<span class="params">a, b, c</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;this&#x27;</span>, <span class="variable language_">this</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;this is fn1&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fn2 = fn1.<span class="title function_">bind1</span>(&#123;<span class="attr">x</span>: <span class="number">100</span>&#125;, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>)</span><br><span class="line"><span class="keyword">const</span> res = <span class="title function_">fn2</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line"></span><br><span class="line"><span class="comment">// res结果</span></span><br><span class="line"><span class="variable language_">this</span> &#123;<span class="attr">x</span>: <span class="number">100</span>&#125;</span><br><span class="line"><span class="number">10</span> <span class="number">20</span> <span class="number">30</span></span><br><span class="line"><span class="variable language_">this</span> is fn1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种：参数显示的传递（在函数参数那里）</span></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">myBind2</span>(<span class="params">context, ...bindArgs</span>) &#123;</span><br><span class="line">  <span class="comment">// context 就是 bind 传入的 this</span></span><br><span class="line">  <span class="comment">// bindArgs 就是 bind 传入的参数</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// fn1.bind(...)中的 fn1</span></span><br><span class="line">  <span class="keyword">const</span> self = <span class="variable language_">this</span>；</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> newArgs = bindArgs.<span class="title function_">concat</span>(args);</span><br><span class="line">    <span class="keyword">return</span> self.<span class="title function_">apply</span>(context, newArgs);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b, c</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在这个调用中 bindArgs 就是 10、20，args 里是 30</span></span><br><span class="line">fn3 = add.<span class="title function_">myBind2</span>(<span class="literal">null</span>, <span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn3</span>(<span class="number">30</span>));</span><br></pre></td></tr></table></figure><h2 id="实际开发中闭包的作用"><a href="#实际开发中闭包的作用" class="headerlink" title="实际开发中闭包的作用"></a>实际开发中闭包的作用</h2><blockquote><p>隐藏数据：闭包隐藏数据，只提供 API</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createCache</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 闭包中的数据，被隐藏，不被外界访问</span></span><br><span class="line">  <span class="keyword">const</span> data = &#123;&#125;;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">key, val</span>) &#123;</span><br><span class="line">      daa[key] = val;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params">key</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> data[key];</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c = <span class="title function_">createCache</span>();</span><br><span class="line">c.<span class="title function_">set</span>(<span class="string">&quot;a&quot;</span>, <span class="number">100</span>);</span><br><span class="line"><span class="comment">// 100</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c.<span class="title function_">get</span>(<span class="string">&quot;a&quot;</span>));</span><br></pre></td></tr></table></figure><h2 id="关于作用域的问题"><a href="#关于作用域的问题" class="headerlink" title="关于作用域的问题"></a>关于作用域的问题</h2><blockquote><p>如果是在 for 外面声明 i，那么每次点击都是 10，因为 for 循环很快就执行完了，所以 i 就是 10，如果声明在里面，这样每次点击，才是对应的序号</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  a.<span class="property">innerHTML</span> = i + <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">  a.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    e.<span class="title function_">preventDefault</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="js-如何执行"><a href="#js-如何执行" class="headerlink" title="js 如何执行"></a>js 如何执行</h2><blockquote><ul><li>从前往后，一行一行执行</li><li>如果某一行出错，则停止下面的代码的执行</li><li>先把同步代码执行完，在执行异步代码</li></ul></blockquote><h2 id="event-loop（事件轮询-x2F-事件循环）"><a href="#event-loop（事件轮询-x2F-事件循环）" class="headerlink" title="event loop（事件轮询 &#x2F; 事件循环）"></a>event loop（事件轮询 &#x2F; 事件循环）</h2><blockquote><ul><li>同步代码：一行一行放在 call stack 中执行</li><li>异步代码：会先“记录”下等待时机（因为可能是定时器时间还不到，或者定义的点击事件啥的），时机到了，就移动到 callback queue 中</li><li>如果 call stack 为空（即同步代码执行完）event loop 开始工作</li><li>轮询查找 call queue，如果有，则移动到 call stack 中执行，然后继续轮询</li></ul><p>事件轮询的执行顺序是：同步代码、微任务、DOM 渲染、宏任务</p><ul><li>微任务：promise、async&#x2F;await</li><li>宏任务：setTimeout、setInterval、DOM 事件</li></ul></blockquote><h2 id="promise-的状态"><a href="#promise-的状态" class="headerlink" title="promise 的状态"></a>promise 的状态</h2><blockquote><p>promise 一共有三种状态：pending（过程中，还没有结果）、resolve（成功）、reject（失败）<br>pending -&gt; resolve pending -&gt; reject 状态一旦发生变化，就不可逆了<br>then 和 catch 改变状态：then 正常返回 resolve，里面有错则返回 reject；catch 正常返回 resolve，里面有错则返回 reject</p></blockquote><h2 id="async-x2F-await-和-promise-的关系"><a href="#async-x2F-await-和-promise-的关系" class="headerlink" title="async&#x2F;await 和 promise 的关系"></a>async&#x2F;await 和 promise 的关系</h2><blockquote><ul><li>执行 async 函数，返回的是 promise 对象</li><li>await 相当于 promise 的 then</li><li>try…catch 可捕获异常，代替了 promise 的 catch</li></ul></blockquote><h2 id="手写简易的-ajax"><a href="#手写简易的-ajax" class="headerlink" title="手写简易的 ajax"></a>手写简易的 ajax</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">url, callback</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHTTPRequest</span>();</span><br><span class="line">  xhr.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>, url, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">  xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> == <span class="number">4</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="title function_">callback</span>(xhr.<span class="property">responseText</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  xhr.<span class="title function_">send</span>(<span class="literal">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">cb</span>(<span class="params">resObj</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(resObj));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">ajax</span>(<span class="string">&quot;/data/test.json&quot;</span>, cb);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>html 相关知识（2）</title>
      <link href="/post/3ef83a43.html"/>
      <url>/post/3ef83a43.html</url>
      
        <content type="html"><![CDATA[<h2 id="盒模型宽度的计算"><a href="#盒模型宽度的计算" class="headerlink" title="盒模型宽度的计算"></a>盒模型宽度的计算</h2><blockquote><ul><li>offsetWidth &#x3D; 内容宽度(width) + 内边距(padding) + 边框(border)，不包含外边距</li><li>clientWidth &#x3D; 内容宽度(width) + 内边距(padding)</li></ul></blockquote><blockquote><p>设置 box-sizing：border-box，就可以将一个 div 的上述 offsetwidth 变为原 width 的宽度、设置以后，width 的宽度将会比之前有所减少(因为它将 width、padding、border 的总体宽度缩放到设定的宽度值)</p></blockquote><h2 id="border-box-和-content-box-的区别"><a href="#border-box-和-content-box-的区别" class="headerlink" title="border-box 和 content-box 的区别"></a>border-box 和 content-box 的区别</h2><blockquote><p>border-box：怪异盒模型；会根据设定的宽度值缩放，到达设定的宽度值<br>content-box： 标准盒模型；盒子宽度 &#x3D; 内容的宽度 + 左右内间距 + 左右边框的宽度</p></blockquote><h2 id="margin-的纵向重叠问题"><a href="#margin-的纵向重叠问题" class="headerlink" title="margin 的纵向重叠问题"></a>margin 的纵向重叠问题</h2><blockquote><p>相邻元素的 margin-top 和 margin-bottom 会发生重叠，空白内容的 p 标签也会发生重叠，最终的 margin 值就是 margin-top 和 margin-bottom 中较大的</p></blockquote><h2 id="margin-的负值问题"><a href="#margin-的负值问题" class="headerlink" title="margin 的负值问题"></a>margin 的负值问题</h2><blockquote><p>对 margin 的 left、top、bottom、right 设定为负值会发生什么问题</p><ul><li>margin-top 和 margin-left 设置为负值会向上、向左移动（正常逻辑）</li><li>margin-right 设定为负值，该元素的右侧元素会发生左移，本身不受影响</li><li>margin-bottom 设定为负值，该元素的下方元素会发生上移，本身不受影响</li></ul></blockquote><h2 id="BFC-理解与应用：什么时候会发生-BFC，如何应用"><a href="#BFC-理解与应用：什么时候会发生-BFC，如何应用" class="headerlink" title="BFC 理解与应用：什么时候会发生 BFC，如何应用"></a>BFC 理解与应用：什么时候会发生 BFC，如何应用</h2><blockquote><p>BFC: block format context 块级格式化上下文<br>一块独立渲染区域，内部元素渲染不会影响边界以外的元素<br>形成 BFC 的常见条件：1）、float 不是 none 2）、position：absolute&#x2F;fiexed 3）、overflow 不是 visible 4）、display： inline-block&#x2F;flex<br>常见应用：清除浮动：就是对于使用了 float 的元素，可能会影响父元素或者兄弟元素，这时候可以对父元素或者兄弟元素使用 BFC，具体就是能够形成 BFC 的条件之一即可，影响了谁，谁就用 BFC，常用的一般是 .bfc { overflow: hidden; }，也可以使用 clear：both</p></blockquote><h2 id="position-的属性值以及区别"><a href="#position-的属性值以及区别" class="headerlink" title="position 的属性值以及区别"></a>position 的属性值以及区别</h2><blockquote><p>position 一共包含 static、relative、absolute、fixed 四个属性</p><ul><li>static：默认值，没有定位，元素出现在正常的文档流中</li><li>relative：依据自身进行定位，不会对外界元素产生影响</li><li>absolute：相对于 static 定位以外的第一个父元素进行定位，可通过 z-index 进行层次分级</li><li>fixed：生成绝对定位的元素，相对于浏览器窗口进行定位。元素的位置通过 “left”, “top”, “right” 以及 “bottom” 属性进行规定。可通过 z-index 进行层次分级</li></ul></blockquote><h2 id="水平居中、垂直居中"><a href="#水平居中、垂直居中" class="headerlink" title="水平居中、垂直居中"></a>水平居中、垂直居中</h2><blockquote><p>水平居中</p><ul><li>行内元素（inline）：text-align：center</li><li>块状元素（block）：margin：auto</li><li>定位元素（absolute）：left：50%；margin-left：负值一半的宽度进行居中</li><li>定位元素（absolute）：left：50%；transform：translateX(-50%)</li></ul><p>垂直居中</p><ul><li>行内元素（inline）：line-height 值等于 height 值</li><li>absolute 元素：top：50%；margin-top：负值一半进行居中（需要指导元素的尺寸）</li><li>absolute 元素：top：50%；transform：translateY(-50%)</li><li>absolute 元素：top、left、bottom、right &#x3D; 0；margin：auto；</li></ul></blockquote><h2 id="line-height-继承问题"><a href="#line-height-继承问题" class="headerlink" title="line-height 继承问题"></a>line-height 继承问题</h2><blockquote><ul><li>如果继承的是具体的数值，则直接继承</li><li>如果是比例数值，比如 1、1.5、2，则是和自身的 font-size 相乘得到的具体数值</li><li>如果是百分比，则是和继承对象的 font-size 值相乘得到的具体数值</li></ul></blockquote><h2 id="rem、px、em、vh-x2F-vw"><a href="#rem、px、em、vh-x2F-vw" class="headerlink" title="rem、px、em、vh&#x2F;vw"></a>rem、px、em、vh&#x2F;vw</h2><blockquote><ul><li>px：绝对长度单位</li><li>em：相对长度单位，相对于父元素</li><li>rem：相对长度单位，相对于根元素，常用于响应式布局。弊端：阶梯性，因为需要使用@media 根据不同的屏幕大小决定根元素 font-size</li><li>网页视口尺寸：1）、window.screen.height 屏幕高度；2）、window.innerHeight 网页视口高度（就是属于网页的部分（也就是第一屏除了导航之外的））；3）、dowucment.body.clientHeight body 高度（网页的全部，就是包括滚动的）</li><li>vh 网页视口高度的 1&#x2F;100，vw 网页视口宽度的 1&#x2F;100 vmax 就是 vh、vw 两者的最大值，vmin 就是 vh、vw 两者的最小值</li></ul><p>响应式布局的常用方案</p><ul><li>Media-query：根据不同的屏幕宽度设置根元素的 font-size</li><li>rem：基于根元素的相对单位</li></ul></blockquote><h2 id="typeof-能识别哪些类型"><a href="#typeof-能识别哪些类型" class="headerlink" title="typeof 能识别哪些类型"></a>typeof 能识别哪些类型</h2><blockquote><ul><li>识别所有值类型。值类型包括：undefined、string、number、symbol、boolean 等</li><li>识别函数</li><li>识别是否是引用类型，但是不能确定是哪种引用类型</li></ul></blockquote><h2 id="何时使用-x3D-x3D-、何时使用-x3D-x3D-x3D"><a href="#何时使用-x3D-x3D-、何时使用-x3D-x3D-x3D" class="headerlink" title="何时使用&#x3D;&#x3D;、何时使用&#x3D;&#x3D;&#x3D;"></a>何时使用&#x3D;&#x3D;、何时使用&#x3D;&#x3D;&#x3D;</h2><blockquote><p>&#x3D;&#x3D; 会隐式的做一些类型转换，让比较两者尝试相等，所以一般除了 null 和 undefined 可以使用 &#x3D;&#x3D;，其余一律使用 &#x3D;&#x3D;&#x3D;<br>强制类型转换：parseInt、parseFloat，toString<br>隐式类型转换：if、逻辑运算、&#x3D;&#x3D;、+拼接字符串</p></blockquote><h2 id="值类型和引用类型的区别"><a href="#值类型和引用类型的区别" class="headerlink" title="值类型和引用类型的区别"></a>值类型和引用类型的区别</h2><blockquote><p>值类型赋值给其他变量，其他变量改变，不会影响之前的值，但是引用类型会</p></blockquote><h2 id="手写深拷贝"><a href="#手写深拷贝" class="headerlink" title="手写深拷贝"></a>手写深拷贝</h2><blockquote><ul><li>注意判断是值类型还是引用类型，如果是值类型就直接返回了，如果是引用类型还需要再往下判断是数组还是对象</li><li>注意判断是数组还是对象</li><li>递归</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepCopy</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj !== <span class="string">&quot;object&quot;</span> || obj == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 初始化返回结果</span></span><br><span class="line">  <span class="keyword">let</span> res;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">    res = [];</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    res = &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="comment">// 保证 key 不是原型的属性</span></span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">      res[key] = <span class="title function_">deepCopy</span>(obj[key]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="手写-jquery"><a href="#手写-jquery" class="headerlink" title="手写 jquery"></a>手写 jquery</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">jQuery</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">selector</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(selector);</span><br><span class="line">    <span class="keyword">const</span> length = res.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">      <span class="variable language_">this</span>[i] = res[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">length</span> = length;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">selector</span> = selector;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">get</span>(<span class="params">index</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>[index];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">each</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">const</span> elem = <span class="variable language_">this</span>[i];</span><br><span class="line">      <span class="title function_">fn</span>(elem);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">on</span>(<span class="params">type, fn</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">each</span>(<span class="function">(<span class="params">elem</span>) =&gt;</span> &#123;</span><br><span class="line">      elem.<span class="title function_">addEventListener</span>(type, fn, <span class="literal">false</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 插件扩展</span></span><br><span class="line">jQuery.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">dialog</span> = <span class="keyword">function</span> (<span class="params">info</span>) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(info);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 造轮子</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">myJQuery</span> <span class="keyword">extends</span> <span class="title class_ inherited__">jQuery</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">selector</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(selector);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addClass</span>(<span class="params">className</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">const</span> $p = <span class="keyword">new</span> <span class="title function_">jQuery</span>(<span class="string">&quot;p&quot;</span>);</span><br><span class="line">$p.<span class="title function_">get</span>(<span class="number">1</span>);</span><br><span class="line">$p.<span class="title function_">each</span>(<span class="function">(<span class="params">elem</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(elem.<span class="property">nodeName</span>);</span><br><span class="line">&#125;);</span><br><span class="line">$p.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;clicked&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（6-1）</title>
      <link href="/post/d8e8f03e.html"/>
      <url>/post/d8e8f03e.html</url>
      
        <content type="html"><![CDATA[<h2 id="面试过程"><a href="#面试过程" class="headerlink" title="面试过程"></a>面试过程</h2><p>今天下午面试了另一家公司，总体来说，他问的东西不算很难，但是通常这种问题就是没有固定的答案的那种，所以究竟如何，我也不知道^^</p><h3 id="http-和-https"><a href="#http-和-https" class="headerlink" title="http 和 https"></a>http 和 https</h3><pre><code>背景</code></pre><blockquote><ul><li>HTTP 协议以明文方式发送内容，不提供任何方式的数据加密，如果攻击者截取了 Web 浏览器和网站服务器之间的传输报文，就可以直接读懂其中的信息，因此，HTTP 协议不适合传输一些敏感信息，比如：信用卡号、密码等支付信息。端口 80，无状态连接</li><li>安全套接字层超文本传输协议 HTTPS，为了数据传输的安全，HTTPS 在 HTTP 的基础上加入了 SSL 协议，SSL 依靠证书来验证服务器的身份，并为浏览器和服务器之间的通信加密.。<strong>HTTPS 的安全基础是 SSL，因此加密的详细内容就需要 SSL</strong> HTTPS 协议的主要作用可以分为两种：一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性。端口 443</li></ul></blockquote><pre><code>区别</code></pre><blockquote><ul><li>https 协议需要到 CA（Certificate Authority，数字证书认证机构）申请证书，一般免费证书较少，因而需要一定费用</li><li>http 是明文传输，数据未加密，安全性差；https 则是具有安全性的 ssl 加密传输协议，安全性好</li><li>http 和 https 使用的是完全不同的连接方式，用的端口也不一样，前者是 80，后者是 443</li><li>http 页面响应速度比 https 快，因为 http 使用 TCP 三次握手建立连接，客户端和服务器需要交换 3 个包，而 https 除了 TCP 的三个包，还要加上 ssl 握手需要的 9 个包，所以一共是 12 个包</li><li>https&#x3D;SSL&#x2F;TLS+http，所以，https 比 http 要更耗费服务器资源</li></ul></blockquote><pre><code>https的请求过程</code></pre><blockquote><p>客户端发起 HTTPS 请求：就是用户在浏览器里输入一个 https 网址，然后连接到 server 的 443 端口<br>采用 HTTPS 协议的服务器必须要有一套数字证书，可以自己制作，也可以向组织申请，区别就是自己颁发的证书需要客户端验证通过，才可以继续访问，而使用受信任的公司申请的证书则不会弹出提示页面(startssl 就是个不错的选择，有 1 年的免费服务)。<em>这套证书其实就是一对公钥和私钥，如果对公钥和私钥不太理解，可以想象成一把钥匙和一个锁头，只是全世界只有你一个人有这把钥匙，你可以把锁头给别人，别人可以用这个锁把重要的东西锁起来，然后发给你，因为只有你一个人有这把钥匙，所以只有你才能看到被这把锁锁起来的东西。</em><br>传送证书：这个证书其实就是公钥，只是包含了很多信息，如证书的颁发机构，过期时间等等<br>客户端解析证书：这部分工作是有客户端的 TLS 来完成的，首先会验证公钥是否有效，比如颁发机构，过期时间等等，如果发现异常，则会弹出一个警告框，提示证书存在问题。如果证书没有问题，那么就生成一个随机值，然后用证书对该随机值进行加密，就好像上面说的，把随机值用锁头锁起来，这样除非有钥匙，不然看不到被锁住的内容<br>传送加密信息：这部分传送的是用证书加密后的随机值，目的就是让服务端得到这个随机值，以后客户端和服务端的通信就可以通过这个随机值来进行加密解密了<br>服务端解密信息：服务端用私钥解密后，得到了客户端传过来的随机值(私钥)，然后把内容通过该值进行对称加密，所谓对称加密就是，将信息和私钥通过某种算法混合在一起，这样除非知道私钥，不然无法获取内容，而正好客户端和服务端都知道这个私钥，所以只要加密算法够彪悍，私钥够复杂，数据就够安全<br>传输加密后的信息：这部分信息是服务段用私钥加密后的信息，可以在客户端被还原<br>客户端解密信息：客户端用之前生成的私钥解密服务段传过来的信息，于是获取了解密后的内容，整个过程第三方即使监听到了数据，也束手无策</p></blockquote><h3 id="vue2-和-vue3-的区别"><a href="#vue2-和-vue3-的区别" class="headerlink" title="vue2 和 vue3 的区别"></a>vue2 和 vue3 的区别</h3><blockquote><ul><li>生命周期函数钩子不同</li><li>数据双向绑定原理不同</li><li>定义变量和方法不同</li><li>指令和插槽的使用不同</li><li>API 类型不同</li><li>是否支持碎片</li><li>父子之间传参不同</li><li>main.js 文件中部分设置不同</li></ul></blockquote><pre><code>具体不同</code></pre><blockquote><ul><li>生命周期钩子不同：1）、vue2：beforeCreate 组件创建之前、created 组件创建之后、beforeMount 组件挂载到页面之前执行、mounted 组件挂载到页面之后执行、beforeUpdate 组件更新之前、updated 组件更新之后；2）、vue3：setup 开始创建组件、onBeforeMount 组件挂载到页面之前执行、onMounted 组件挂载到页面之后执行、onBeforeUpdate 组件更新之前、onUpdated 组件更新之后</li><li>数据双向绑定原理不同：vue2：利用 ES5 的 Object.defineProperty 对数据进行劫持，然后结合订阅&#x2F;发布实现；vue3：利用 ES6 的 proxy API 对数据进行代理</li><li>vue3 的 proxy 代理的优势在于：1）、defineProperty 只能监听某个属性，不能对全对象监听；2）、可以省去 for…in，闭包等内容来提升效率（直接绑定整个对象即可）；3）、可以监听数组，不再单独的对数组做特异性处理。可以检测到数组内部数据的变化；</li><li>定义变量和方法不同：1）、vue2：在 data 中定义变量，在 methods 中创建方法；2）、vue3：使用一个新的 setup 方法，使用 ref 和 reactive 来声明响应式数据</li><li>指令和插槽的使用不同：1）、vue2：不建议将 v-for 和 v-if 写在一起使用，允许直接使用 slot；2）、vue3：将 v-if 当作 v-for 大的一个判断语句，不会相互冲突；移除 keyCode 作为 v-on 的修饰符，不支持 config.keyCodes；移除 v-on.native 修饰符；移除过滤器 filter；不允许直接使用 slot，正确格式为 v-slot</li><li>API 类型不同：1）、vue2：选项型 api（在代码中分割不同属性：data，computed，methods 等；2）、vue3：组合型 api（使用方法进行分隔，显得更加简便整洁）</li><li>是否支持碎片：1）、vue2：不支持，每个组件只能有一个根节点；2）、vue3：支持，每个组件可以有多个根节点</li><li>父子传参不同：1）、vue2：父传子 子组件通过 prop 接收；子传父 子组件中通过$emit 向父组件触发一个监听方法，传递一个参数；2）、vue3：使用 setup()中的第二个参数 content 对象中有 emit，只需要在 setup()接收第二个参数中使用分解对象法取出 emit 就可以在 setup 方法中随意使用了，第一个参数时 prop</li><li>main.js 文件不同：1）、vue2：使用 prototype（原型）的形式进行操作，引入的是构造函数；2）、vue3：需要使用结构的形式进行操作，引入的是工厂函数；vue3 中 app 组件中可以没用根标签</li></ul></blockquote><pre><code>关于插槽的修改：使用的每一个slot都需要一个 template 包裹，且 slot=“名称” 修改为 v-slot:名称</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 修改前</span></span><br><span class="line"><span class="comment">// 子组件</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;tab-bar-item&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;item-icon&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 父组件</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">tab-bar-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">img</span> <span class="attr">slot</span>=<span class="string">&quot;item-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../src/assets/img/tabbar/home.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">tab-bar-item</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 修改后</span></span><br><span class="line"><span class="comment">// 父组件，子组件无需修改</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">tab-bar-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:item-icon</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../src/assets/img/tabbar/home.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">tab-bar-item</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="ES6-中的新增的方法和具体的使用"><a href="#ES6-中的新增的方法和具体的使用" class="headerlink" title="ES6 中的新增的方法和具体的使用"></a>ES6 中的新增的方法和具体的使用</h3><p>这个之前的 ES6 中有详细的说明，在这里就不重复了</p><h3 id="数组的去重（包括数字、和根据数组中对象的名称进行的去重）"><a href="#数组的去重（包括数字、和根据数组中对象的名称进行的去重）" class="headerlink" title="数组的去重（包括数字、和根据数组中对象的名称进行的去重）"></a>数组的去重（包括数字、和根据数组中对象的名称进行的去重）</h3><blockquote><ul><li>如果是数字的去重的话，直接使用 ES6 中新增的 Set 即可</li><li>如果是数组中是一个个的对象，需要根据对象的名称去重的话，我当时回答的是使用 map，对数组进行遍历，然后用名称作为键值，如果不包含，则存入，包含不用管，继续即可</li></ul></blockquote><p>其他的根据对象中名称或者 id 进行去重的方法</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">  arr = [</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;张一&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;张一&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;张二&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1、通过forEach再通过some方法判断数组是否包含当前对象id，不包含则添加</span></span><br><span class="line"><span class="title function_">some</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">some</span>: any = [];</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">arr</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">el</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!some.<span class="title function_">some</span>(<span class="function"><span class="params">e</span> =&gt;</span> e.<span class="property">id</span> == el.<span class="property">id</span>)) &#123;</span><br><span class="line">      some.<span class="title function_">push</span>(el);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;%c [ some去重结果 ]-43&#x27;</span>, <span class="string">&#x27;font-size:13px; background:pink; color:#bf2c9f;&#x27;</span>, some);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、通过forEach再通过find方法判断数组是否包含当前对象id，不包含则添加</span></span><br><span class="line"><span class="title function_">find</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">find</span>: any = [];</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">arr</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">el</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!find.<span class="title function_">find</span>(<span class="function"><span class="params">e</span> =&gt;</span> e.<span class="property">id</span> == el.<span class="property">id</span>)) &#123;</span><br><span class="line">      find.<span class="title function_">push</span>(el);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;%c [ find去重 ]-51&#x27;</span>, <span class="string">&#x27;font-size:13px; background:pink; color:#bf2c9f;&#x27;</span>, find);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3、通过reduce方法，通过定义的obj，判断obj[next.id] 是否存在，存在设置为“”，不存在则push</span></span><br><span class="line"><span class="title function_">reduce</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">  <span class="keyword">let</span> reduce = [];</span><br><span class="line">  reduce = <span class="variable language_">this</span>.<span class="property">arr</span>.<span class="title function_">reduce</span>(<span class="keyword">function</span>(<span class="params">item, next</span>) &#123;</span><br><span class="line">    <span class="comment">//item为没有重复id的数组，next为当前对象</span></span><br><span class="line">    obj[next.<span class="property">id</span>] ? <span class="string">&#x27;&#x27;</span> : (obj[next.<span class="property">id</span>] = <span class="literal">true</span> &amp;&amp; item.<span class="title function_">push</span>(next));</span><br><span class="line">    <span class="keyword">return</span> item;</span><br><span class="line">  &#125;, []);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(reduce);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="vue-中父子声明周期的执行顺序"><a href="#vue-中父子声明周期的执行顺序" class="headerlink" title="vue 中父子声明周期的执行顺序"></a>vue 中父子声明周期的执行顺序</h3><p>这个之前面试也遇到过，前面的面试博客中也有总结，这里不重复了</p><h3 id="this-的指向问题（包括箭头函数的）"><a href="#this-的指向问题（包括箭头函数的）" class="headerlink" title="this 的指向问题（包括箭头函数的）"></a>this 的指向问题（包括箭头函数的）</h3><blockquote><ul><li>如果是普通函数，this 指向 window；如果是对象中的方法被调用，那就指向对象；如果使用 call、apply、bind 的话，传入什么就指向什么（指向第一个参数）；构造函数调用， 此时 this 指向 实例对象；通过事件绑定的方法， 此时 this 指向 绑定事件的对象；</li><li>当使用 call 或者 apply 的时候，如果我们传入的第一个参数为 null，函数体内的 this 会默认指向宿主对象，在浏览器中则是 window。bind()创建的是一个新的函数（称为绑定函数），与被调用函数有相同的函数体，当目标函数被调用时 this 的值绑定到 bind()的第一个参数上</li><li><strong>如果是箭头函数，this 指向是定义时所在的对象，而不是执行时的，箭头函数的 this 指向固定</strong> 箭头函数不会创建自己的 this，它只会从自己的作用域链的上一层继承 this（父级指向谁，当前箭头函数就指向谁）</li><li>在以下三种特殊情况下，this 指向 window：1）、立即执行函数（IIFE）2）、setTimeout 中传入的函数 3）、setInterval 中传入的函数</li></ul></blockquote><h3 id="let、var、const-的区别"><a href="#let、var、const-的区别" class="headerlink" title="let、var、const 的区别"></a>let、var、const 的区别</h3><p>这个问题之前也遇到并总结过，这里不重复了</p><h3 id="input-前一次输入比后一次返回晚，如何解决"><a href="#input-前一次输入比后一次返回晚，如何解决" class="headerlink" title="input 前一次输入比后一次返回晚，如何解决"></a>input 前一次输入比后一次返回晚，如何解决</h3><h3 id="如何判断是一个数组"><a href="#如何判断是一个数组" class="headerlink" title="如何判断是一个数组"></a>如何判断是一个数组</h3><blockquote><ul><li>a instanceof Array instanceof 运算符用于检验构造函数的 prototype 属性是否出现在对象的原型链中的任何位置，返回一个布尔值。但是 prototype 可以被修改。比如存在多个全局环境（iframe）</li><li>Array.isArray(a) 简单好用，而且对于多全局环境，Array.isArray() 同样能准确判断，但有个问题，Array.isArray() 是在 ES5 中提出，也就是说在 ES5 之前可能会存在不支持此方法的情况。解决办法如下</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="property">isArray</span>) &#123;</span><br><span class="line">  <span class="title class_">Array</span>.<span class="property">isArray</span> = <span class="keyword">function</span> (<span class="params">arg</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(arg) === <span class="string">&quot;[object Array]&quot;</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ul><li>a.constructor &#x3D;&#x3D;&#x3D; Array 实例的构造函数属性 constructor 指向构造函数，那么通过 constructor 属性也可以判断是否为一个数组，问题和 instanceof 一样</li><li>Object.prototype.toString.call(a) &#x3D;&#x3D;&#x3D; ‘[object Array]’ Object.prototype.toString().call()可以获取到对象的不同类型，它强大的地方在于不仅仅可以检验是否为数组，比如是否是一个函数，是否是数字等等。<strong>甚至对于多全局环境时， Object.prototype.toString().call()也能符合预期处理判断</strong></li></ul></blockquote><h3 id="js-中的数据类型"><a href="#js-中的数据类型" class="headerlink" title="js 中的数据类型"></a>js 中的数据类型</h3><p>这个前面都总结过，也比较简单，这里不重复了</p><h3 id="冒泡和捕获"><a href="#冒泡和捕获" class="headerlink" title="冒泡和捕获"></a>冒泡和捕获</h3><pre><code>概念</code></pre><blockquote><ul><li>事件由子元素传递到父元素的过程叫做冒泡（false）冒泡就是子元素的点击事件会冒泡到父元素，就是相当于点击了多次，顺序是从子元素到父元素</li><li>事件由父元素传递到子元素的过程叫做事件捕获（ture）捕获就是子元素的点击事件会父元素执行到子元素，就是相当于点击了多次，顺序是从父元素到子元素</li></ul></blockquote><pre><code>区别</code></pre><blockquote><ul><li>在捕获事件触发的前提，我们需要使用事件监听 document.addEventListener(‘event’, funciton() {}, true) <strong>这里的 true 是布尔值判断是否为捕获事件，当为 true 时，这里为捕获事件，如果为 false 时，这里就是冒泡事件</strong></li></ul></blockquote><pre><code>预防</code></pre><blockquote><ul><li>e.stoppropagation(); 来阻止冒泡</li><li>e.preventDefault() 方法来阻止默认</li><li>return false; 既阻止冒泡又阻止默认</li></ul></blockquote><h3 id="git-常用命令"><a href="#git-常用命令" class="headerlink" title="git 常用命令"></a>git 常用命令</h3><blockquote><ul><li>git init 初始化 在工作路径上创建主分支</li><li>git clone 地址 克隆远程仓库</li><li>git clone -b 分支名 地址 克隆分支的代码到本地</li><li>git status 查看状态</li><li>git add . 将文件保存到本地</li><li>git checkout -b branch1 新创建分支 （如果当前分支存在就是切换，如果不存在就是创建）</li><li>git checkout master 切换到主分支</li><li>git commit -m “备注内容” 提交时使用，为了规范化</li><li>git push origin master 推送到远端</li><li>git pull origin master 从远端拉取</li><li>git branch 查看分支（就是显示创建的分支）</li><li>git merge xxx 可用来将某分支和当前分支进行合并</li><li>git diff 可用来查看修改文件的具体修改，不是新添加的，是修改的</li><li>git log 可用来查看提交记录</li><li>config user.name 用来配置提交的用户名</li><li>git config user.email 用来配置提交用户的邮箱，以便于知道谁提交的</li><li>git show “id” 可用来查看某次提交的具体内容 id 是 git log 中的，每次提交都有一个</li><li>checkout . 或者 git checkout 具体文件名 可用来撤销修改</li><li>git fetch 可用来把所有分支拉到本地</li><li>git blame 文件名 查看该文件的修改历史</li><li>git blame -L 100,10 文件名 从 100 行开始，到 110 行 逐行查看文件的修改历史</li><li>git mv a b 把 a 文件名字改成 b 并且直接放入 git add 后的暂存区</li><li>git mv b .&#x2F;demos&#x2F; 把 b 文件移动到 demos 文件夹下</li></ul></blockquote><h3 id="v-for-的渲染为何要加个-key"><a href="#v-for-的渲染为何要加个-key" class="headerlink" title="v-for 的渲染为何要加个 key"></a>v-for 的渲染为何要加个 key</h3><blockquote><ul><li>diff 算法中通过 tag 和 key 来判断，是否是 sameNode</li><li>减少渲染次数，提高渲染性能</li></ul></blockquote><h3 id="二维数组扁平化"><a href="#二维数组扁平化" class="headerlink" title="二维数组扁平化"></a>二维数组扁平化</h3><p>如果是二维的，可以使用 concat，代码如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">flattern</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line"></span><br><span class="line">  arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    res = res.<span class="title function_">concat</span>(item);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">7</span>], <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">flattern</span>(arr2));</span><br></pre></td></tr></table></figure><p>如果是多维的，递归遍历即可，代码如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">flattern3</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line"></span><br><span class="line">  arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(item)) &#123;</span><br><span class="line">      <span class="keyword">const</span> tmp = <span class="title function_">flattern3</span>(item);</span><br><span class="line">      <span class="comment">/* </span></span><br><span class="line"><span class="comment">        因为这一步返回的是数组，所以可以直接使用concat，因为concat自动扁平化一级的嵌套数组</span></span><br><span class="line"><span class="comment">        或者可以使用循环，然后push</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">      res = res.<span class="title function_">concat</span>(tmp);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res.<span class="title function_">push</span>(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr3 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>, [<span class="number">7</span>, [<span class="number">8</span>]]]], <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">flattern3</span>(arr3));</span><br></pre></td></tr></table></figure><h3 id="如何删除数组中第二个位置的元素，并在第二个位置添加-3-个元素"><a href="#如何删除数组中第二个位置的元素，并在第二个位置添加-3-个元素" class="headerlink" title="如何删除数组中第二个位置的元素，并在第二个位置添加 3 个元素"></a>如何删除数组中第二个位置的元素，并在第二个位置添加 3 个元素</h3><blockquote><p>数组的 splice 方法<code>arrayObject.splice(index,howmany,item1,.....,itemX)</code> 该方法对数组直接进行修改</p><ul><li>index 必需。整数，规定添加&#x2F;删除项目的位置，使用负数可从数组结尾处规定位置</li><li>howmany 必需。要删除的项目数量。如果设置为 0，则不会删除项目</li><li>item1, …, itemX 可选。向数组添加的新项目</li></ul></blockquote><h3 id="使用-function-声明的函数和使用变量接收的函数有什么区别"><a href="#使用-function-声明的函数和使用变量接收的函数有什么区别" class="headerlink" title="使用 function 声明的函数和使用变量接收的函数有什么区别"></a>使用 function 声明的函数和使用变量接收的函数有什么区别</h3><blockquote><ul><li>使用 function 声明的函数，其 this 指向 window；<strong>function fn(){}这种形式声明的函数，会被提升到作用域的最最顶部</strong></li><li>使用变量接收的函数，其 this 指向函数</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getName = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="number">1</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getName</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="title function_">getName</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getName</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> getName = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="number">1</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="title function_">getName</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上述两者相同就是因为 function fn()&#123;&#125;这种形式声明的函数，会被提升到作用域的最最顶部</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Uncaught TypeError: fn is not a function</span></span><br><span class="line"><span class="title function_">fn</span>();</span><br><span class="line"><span class="keyword">var</span> fn = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="title function_">fn</span>();</span><br><span class="line"><span class="keyword">var</span> fn = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（4-3）</title>
      <link href="/post/3f2999be.html"/>
      <url>/post/3f2999be.html</url>
      
        <content type="html"><![CDATA[<h2 id="总的概括-vue-的双向绑定原理"><a href="#总的概括-vue-的双向绑定原理" class="headerlink" title="总的概括 vue 的双向绑定原理"></a>总的概括 vue 的双向绑定原理</h2><blockquote><p>由于上一节的双向绑定原理是分开讲的，可能我们看每一部分都理解，再最后自己统一的串起来的时候，又有点迷糊了，所以写这一节，整的描述概括一下<br>整的一个思路是没有变的，还是分为以下几个步骤去思考</p><ul><li>输入框以及文本节点与 data 中的数据绑定</li><li>输入框内容变化时，data 中的数据同步变化。即 view &#x3D;&gt; model 的变化</li><li>data 中的数据变化时，文本节点的内容同步变化。即 model &#x3D;&gt; view 的变化</li></ul></blockquote><blockquote><p>整体过程描述如下：首先初始化的过程中，需要使用 data 中的属性数据替换 html 中的变量值，所以需要使用一个 compile 编译函数，在编译 HTML 过程中，为每个与 data 关联的节点生成一个 Watcher，Watcher 会执行 update 方法，该方法首先执行 get 去获取 data 中对应 name 的值，由于 vue 的双向绑定核心使用了 Object.defineProperty，它会对 data 中的所有属性在 get 时进行劫持，然后给其添加一个订阅者（只有进行编译触发 watcher 的 update 方法，然后触发 get 的时候，才会进入到 Object.defineProperty 的 get 方法，这时候添加的 Dep.target 就是 watcher，因为 watcher 中 Dep.target &#x3D; this）到 Dep 主题对象中，之后比如触发 dom 的各种事件对 data 中的属性值进行修改的时候，Object.defineProperty 中在 set 的时候（这时候先对比值是否变化了，变化了的话，先更新值，然后通知进行重新），就会触发 Dep 的发布通知，然后执行 update 方法，这个 update 也就是 watcher 中的 update，然后触发 get 重新获取新值，然后对该节点的值进行更新</p></blockquote><p>针对以下的 dom 元素</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;a&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;b&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dom = <span class="title function_">nodeToFragment</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;app&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">nodeToFragment</span>(<span class="params">node, vm</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> flag = <span class="variable language_">document</span>.<span class="title function_">createFragment</span>();</span><br><span class="line">  <span class="keyword">let</span> child;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> ((child = node.<span class="property">firstChild</span>)) &#123;</span><br><span class="line">    flag.<span class="title function_">appendChild</span>(child);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3、对节点进行编译</span></span><br><span class="line">  <span class="title function_">compile</span>(flag, vm);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;app&quot;</span>).<span class="title function_">appendChild</span>(dom);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">compile</span>(<span class="params">node, vm</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> reg = <span class="regexp">/\&#123;\&#123;(.*)\&#125;\&#125;/</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 如果节点类型为元素</span></span><br><span class="line">  <span class="keyword">if</span> (node.<span class="property">nodeType</span> === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> attrs = node.<span class="property">attributes</span>;</span><br><span class="line">    <span class="comment">// 解析属性</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; attrs.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (attrs[i].<span class="property">nodeName</span> === <span class="string">&quot;v-model&quot;</span>) &#123;</span><br><span class="line">        <span class="comment">// 获取v-model绑定的属性名</span></span><br><span class="line">        <span class="keyword">let</span> name = attrs[i].<span class="property">nodeValue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 监听input事件</span></span><br><span class="line">        node.<span class="title function_">addEventListener</span>(<span class="string">&quot;input&quot;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">          vm.<span class="property">data</span>[name] = e.<span class="property">target</span>.<span class="property">value</span>;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 将data中声明的对应名称的值赋值给改节点</span></span><br><span class="line">        <span class="comment">// node.value = vm.data[name];</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、在编译 HTML 过程中，为每个与 data 关联的节点生成一个 Watcher</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Watcher</span>(vm, node, name);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 节点类型为text</span></span><br><span class="line">  <span class="keyword">if</span> (node.<span class="property">nodeType</span> === <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (reg.<span class="title function_">test</span>(node.<span class="property">nodeValue</span>)) &#123;</span><br><span class="line">      <span class="comment">// 获取匹配到的字符串</span></span><br><span class="line">      <span class="keyword">var</span> name = <span class="title class_">RegExp</span>.<span class="property">$1</span>;</span><br><span class="line">      name = name.<span class="title function_">trim</span>();</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 将data中的值赋值给该node</span></span><br><span class="line">      <span class="comment">// node.nodeValue = vm.data[name];</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 4、在编译 HTML 过程中，为每个与 data 关联的节点生成一个 Watcher</span></span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">Watcher</span>(vm, node, name);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Watcher</span>(<span class="params">vm, node, name</span>) &#123;</span><br><span class="line">  <span class="title class_">Dep</span>.<span class="property">target</span> = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">node</span> = node;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">vm</span> = vm;</span><br><span class="line">  <span class="comment">// 5、触发update</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">update</span>();</span><br><span class="line">  <span class="title class_">Dep</span>.<span class="property">target</span> = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Watcher</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123;</span><br><span class="line">  <span class="attr">update</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 6、触发get</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">get</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">nodeValue</span> = <span class="variable language_">this</span>.<span class="property">value</span>;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 7、在这一步才会触发到Object.defineProperty中的get方法，也就是这时候，将watcher(订阅者)添加到了Dep主题对象中</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span> = <span class="variable language_">this</span>.<span class="property">vm</span>.<span class="property">data</span>[<span class="variable language_">this</span>.<span class="property">name</span>];</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Dep</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">subs</span> = [];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Dep</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123;</span><br><span class="line">  <span class="attr">addSub</span>: <span class="keyword">function</span> (<span class="params">sub</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">subs</span>.<span class="title function_">push</span>(sub);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">notify</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">subs</span>.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">sub</span>) &#123;</span><br><span class="line">      <span class="comment">// 10、接收通知、并执行update方法，因为这里面的sub就是watcher，所以会执行watcher中的update方法</span></span><br><span class="line">      sub.<span class="title function_">update</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">defineReactive</span>(<span class="params">obj, key, val</span>) &#123;</span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, key, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// 8、添加订阅者watcher到主题对象Dep（因为在编译的时候，会添加一个watcher，然后Dep.targte=this，this就是watcher）</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="title class_">Dep</span>.<span class="property">target</span>) dep.<span class="title function_">addSub</span>(<span class="title class_">Dep</span>.<span class="property">target</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> val;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">newVal</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (newVal === val) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 在这一步对值进行了更新，然后触发通知，然后执行watcher的update操作，然后触发其中的get，就又回到了Object.defineProperty中的get方法，然后循环了就</span></span><br><span class="line">      vm.<span class="property">data</span>[key] = newVal;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 9、作为发布者发出通知</span></span><br><span class="line">      dep.<span class="title function_">notify</span>();</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">observe</span>(<span class="params">obj, vm</span>) &#123;</span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">keys</span>(obj).<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="title function_">defineReactive</span>(vm, key, obj[key]);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Vue</span>(<span class="params">options</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">data</span> = options.<span class="property">data</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> data = <span class="variable language_">this</span>.<span class="property">data</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 1、首先使用Object.defineProperty对Vue实例中data的所有属性进行数据劫持，在get的时候绑定订阅者，在set的时候接收通知</span></span><br><span class="line">  <span class="title function_">observe</span>(data, <span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> id = options.<span class="property">el</span>;</span><br><span class="line">  <span class="comment">// 2、将元素转换为节点并进行编译</span></span><br><span class="line">  <span class="keyword">var</span> dom = <span class="title function_">nodeToFragment</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id), <span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 编译完成后，将dom返回到app中</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id).<span class="title function_">appendChild</span>(dom);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">text</span>: <span class="string">&quot;hello world&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（5-3）</title>
      <link href="/post/f4754a1b.html"/>
      <url>/post/f4754a1b.html</url>
      
        <content type="html"><![CDATA[<h2 id="路由守卫"><a href="#路由守卫" class="headerlink" title="路由守卫"></a>路由守卫</h2><h3 id="全局前置守卫"><a href="#全局前置守卫" class="headerlink" title="全局前置守卫"></a>全局前置守卫</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">beforeEach</span>(<span class="keyword">async</span> (to, <span class="keyword">from</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    <span class="comment">// 检查用户是否已登录</span></span><br><span class="line">    !isAuthenticated &amp;&amp;</span><br><span class="line">    <span class="comment">// ❗️ 避免无限重定向</span></span><br><span class="line">    to.<span class="property">name</span> !== <span class="string">&quot;Login&quot;</span></span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="comment">// 将用户重定向到登录页面</span></span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">name</span>: <span class="string">&quot;Login&quot;</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以上所有都同 async 函数 和 Promise 工作方式一样</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="keyword">async</span> (to, <span class="keyword">from</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// canUserAccess() 返回 `true` 或 `false`</span></span><br><span class="line">  <span class="keyword">const</span> canAccess = <span class="keyword">await</span> <span class="title function_">canUserAccess</span>(to);</span><br><span class="line">  <span class="keyword">if</span> (!canAccess) <span class="keyword">return</span> <span class="string">&quot;/login&quot;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="全局解析守卫"><a href="#全局解析守卫" class="headerlink" title="全局解析守卫"></a>全局解析守卫</h3><blockquote><p>这和 router.beforeEach 类似，因为它在每次导航时都会触发，不同的是，解析守卫刚好会在导航被确认之前、所有组件内守卫和异步路由组件被解析之后调用 router.beforeResolve 是获取数据或执行任何其他操作（如果用户无法进入页面时你希望避免执行的操作）的理想位置。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">beforeResolve</span>(<span class="keyword">async</span> (to) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (to.<span class="property">meta</span>.<span class="property">requiresCamera</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> <span class="title function_">askForCameraPermission</span>();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="keyword">if</span> (error <span class="keyword">instanceof</span> <span class="title class_">NotAllowedError</span>) &#123;</span><br><span class="line">        <span class="comment">// ... 处理错误，然后取消导航</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 意料之外的错误，取消导航并把错误传给全局处理器</span></span><br><span class="line">        <span class="keyword">throw</span> error;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="全局后置钩子"><a href="#全局后置钩子" class="headerlink" title="全局后置钩子"></a>全局后置钩子</h3><blockquote><p>不会接受 next 函数也不会改变导航本身<br>它们对于分析、更改页面标题、声明页面等辅助功能以及许多其他事情都很有用<br>它们也反映了 navigation failures 作为第三个参数</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">sendToAnalytics</span>(to.<span class="property">fullPath</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, failure</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!failure) <span class="title function_">sendToAnalytics</span>(to.<span class="property">fullPath</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="路由独享的守卫"><a href="#路由独享的守卫" class="headerlink" title="路由独享的守卫"></a>路由独享的守卫</h3><blockquote><p>你可以直接在路由配置上定义 beforeEnter 守卫</p><ul><li>beforeEnter 守卫 只在进入路由时触发，不会在 params、query 或 hash 改变时触发。例如，从 &#x2F;users&#x2F;2 进入到 &#x2F;users&#x2F;3 或者从 &#x2F;users&#x2F;2#info 进入到 &#x2F;users&#x2F;2#projects。它们只有在 从一个不同的 路由导航时，才会被触发</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/users/:id&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">UserDetails</span>,</span><br><span class="line">    <span class="attr">beforeEnter</span>: <span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// reject the navigation</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><h3 id="组件内的守卫"><a href="#组件内的守卫" class="headerlink" title="组件内的守卫"></a>组件内的守卫</h3><blockquote><p>你可以为路由组件添加以下配置：</p><ul><li>beforeRouteEnter</li><li>beforeRouteUpdate</li><li>beforeRouteLeave</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">UserDetails</span> = &#123;</span><br><span class="line">  <span class="attr">template</span>: <span class="string">`...`</span>,</span><br><span class="line">  <span class="title function_">beforeRouteEnter</span>(<span class="params">to, <span class="keyword">from</span></span>) &#123;</span><br><span class="line">    <span class="comment">// 在渲染该组件的对应路由被验证前调用</span></span><br><span class="line">    <span class="comment">// 不能获取组件实例 `this` ！</span></span><br><span class="line">    <span class="comment">// 因为当守卫执行时，组件实例还没被创建！</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeRouteUpdate</span>(<span class="params">to, <span class="keyword">from</span></span>) &#123;</span><br><span class="line">    <span class="comment">// 在当前路由改变，但是该组件被复用时调用</span></span><br><span class="line">    <span class="comment">// 举例来说，对于一个带有动态参数的路径 `/users/:id`，在 `/users/1` 和 `/users/2` 之间跳转的时候，</span></span><br><span class="line">    <span class="comment">// 由于会渲染同样的 `UserDetails` 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。</span></span><br><span class="line">    <span class="comment">// 因为在这种情况发生的时候，组件已经挂载好了，导航守卫可以访问组件实例 `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeRouteLeave</span>(<span class="params">to, <span class="keyword">from</span></span>) &#123;</span><br><span class="line">    <span class="comment">// 在导航离开渲染该组件的对应路由时调用</span></span><br><span class="line">    <span class="comment">// 与 `beforeRouteUpdate` 一样，它可以访问组件实例 `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>beforeRouteEnter 守卫 不能 访问 this，因为守卫在导航确认前被调用，因此即将登场的新组件还没被创建<br>不过，你可以通过传一个回调给 next 来访问组件实例。在导航被确认的时候执行回调，并且把组件实例作为回调方法的参数：<br>注意 beforeRouteEnter 是支持给 next 传递回调的唯一守卫。对于 beforeRouteUpdate 和 beforeRouteLeave 来说，this 已经可用了，所以不支持 传递回调，因为没有必要了<br>这个 离开守卫 通常用来预防用户在还未保存修改前突然离开。该导航可以通过返回 false 来取消。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">beforeRouteEnter (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">  <span class="title function_">next</span>(<span class="function"><span class="params">vm</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 通过 `vm` 访问组件实例</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">beforeRouteUpdate (to, <span class="keyword">from</span>) &#123;</span><br><span class="line">  <span class="comment">// just use `this`</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = to.<span class="property">params</span>.<span class="property">name</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">beforeRouteLeave (to, <span class="keyword">from</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> answer = <span class="variable language_">window</span>.<span class="title function_">confirm</span>(<span class="string">&#x27;Do you really want to leave? you have unsaved changes!&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> (!answer) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="路由元信息（meta）"><a href="#路由元信息（meta）" class="headerlink" title="路由元信息（meta）"></a>路由元信息（meta）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/posts&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">PostsLayout</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;new&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">PostsNew</span>,</span><br><span class="line">        <span class="comment">// 只有经过身份验证的用户才能创建帖子</span></span><br><span class="line">        <span class="attr">meta</span>: &#123; <span class="attr">requiresAuth</span>: <span class="literal">true</span> &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;:id&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">PostsDetail</span></span><br><span class="line">        <span class="comment">// 任何人都可以阅读文章</span></span><br><span class="line">        <span class="attr">meta</span>: &#123; <span class="attr">requiresAuth</span>: <span class="literal">false</span> &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用方式</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 而不是去检查每条路由记录</span></span><br><span class="line">  <span class="comment">// to.matched.some(record =&gt; record.meta.requiresAuth)</span></span><br><span class="line">  <span class="keyword">if</span> (to.<span class="property">meta</span>.<span class="property">requiresAuth</span> &amp;&amp; !auth.<span class="title function_">isLoggedIn</span>()) &#123;</span><br><span class="line">    <span class="comment">// 此路由需要授权，请检查是否已登录</span></span><br><span class="line">    <span class="comment">// 如果没有，则重定向到登录页面</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">      <span class="comment">// 保存我们所在的位置，以便以后再来</span></span><br><span class="line">      <span class="attr">query</span>: &#123; <span class="attr">redirect</span>: to.<span class="property">fullPath</span> &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（5-2）</title>
      <link href="/post/4cc92d7e.html"/>
      <url>/post/4cc92d7e.html</url>
      
        <content type="html"><![CDATA[<h2 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h2><h3 id="路由传参的几种形式"><a href="#路由传参的几种形式" class="headerlink" title="路由传参的几种形式"></a>路由传参的几种形式</h3><pre><code>静态路由</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 页面中定义和使用的方式</span></span><br><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello App!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!--使用 router-link 组件进行导航 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!--通过传递 `to` 来指定链接 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!--`&lt;router-link&gt;` 将呈现一个带有正确 `href` 属性的 `&lt;a&gt;` 标签--&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>Go to Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>Go to About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- 路由出口 --&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- 路由匹配到的组件将渲染在这里 --&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">// js文件中定义</span></span><br><span class="line"><span class="language-xml">// 1. 定义路由组件，也可以从其他文件导入</span></span><br><span class="line"><span class="language-xml">const Home = &#123; template: &#x27;<span class="tag">&lt;<span class="name">div</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">div</span>&gt;</span>&#x27; &#125;</span></span><br><span class="line"><span class="language-xml">const About = &#123; template: &#x27;<span class="tag">&lt;<span class="name">div</span>&gt;</span>About<span class="tag">&lt;/<span class="name">div</span>&gt;</span>&#x27; &#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">// 2. 定义一些路由，每个路由都需要映射到一个组件</span></span><br><span class="line"><span class="language-xml">const routes = [</span></span><br><span class="line"><span class="language-xml">  &#123; path: &#x27;/&#x27;, component: Home &#125;,</span></span><br><span class="line"><span class="language-xml">  &#123; path: &#x27;/about&#x27;, component: About &#125;,</span></span><br><span class="line"><span class="language-xml">]</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">// 3. 创建路由实例并传递 `routes` 配置</span></span><br><span class="line"><span class="language-xml">const router = VueRouter.createRouter(&#123;</span></span><br><span class="line"><span class="language-xml">  // 4. 内部提供了 history 模式的实现。为了简单起见，我们在这里使用 hash 模式。</span></span><br><span class="line"><span class="language-xml">  history: VueRouter.createWebHashHistory(),</span></span><br><span class="line"><span class="language-xml">  // `routes: routes` 的缩写</span></span><br><span class="line"><span class="language-xml">  routes,</span></span><br><span class="line"><span class="language-xml">&#125;)</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">// 5. 创建并挂载根实例</span></span><br><span class="line"><span class="language-xml">const app = Vue.createApp(&#123;&#125;)</span></span><br><span class="line"><span class="language-xml">// 确保 _use_ 路由实例使，整个应用支持路由。</span></span><br><span class="line"><span class="language-xml">app.use(router)</span></span><br><span class="line"><span class="language-xml">app.mount(&#x27;#app&#x27;)</span></span><br></pre></td></tr></table></figure><blockquote><p>通过调用 app.use(router)，我们会触发第一次导航且可以在任意组件中以 this.$router 的形式访问它，并且以 this.$route 的形式访问当前路由：</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Home.vue</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="title function_">username</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// 我们很快就会看到 `params` 是什么</span></span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">username</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">goToDashboard</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (isAuthenticated) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&quot;/dashboard&quot;</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&quot;/login&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><pre><code>动态路由</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这些都会传递给 `createRouter`</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  <span class="comment">// 动态字段以冒号开始</span></span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&quot;/users/:id&quot;</span>, <span class="attr">component</span>: <span class="title class_">User</span> &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><blockquote><p>你可以在同一个路由中设置有多个 路径参数，它们会映射到 $route.params 上的相应字段。例如：</p><table><thead><tr><th>匹配模式</th><th align="center">匹配路径</th><th>$route.params</th></tr></thead><tbody><tr><td>&#x2F;users&#x2F;:username</td><td align="center">&#x2F;users&#x2F;eduardo</td><td>{ username: ‘eduardo’ }</td></tr><tr><td>&#x2F;users&#x2F;:username&#x2F;posts&#x2F;:postId</td><td align="center">&#x2F;users&#x2F;eduardo&#x2F;posts&#x2F;123</td><td>{ username: ‘eduardo’, postId: ‘123’ }</td></tr></tbody></table><p>除了 $route.params 之外，$route 对象还公开了其他有用的信息，如 $route.query（如果 URL 中存在参数）、$route.hash 等</p></blockquote><pre><code>你也可以通过使用 ? 修饰符(0 个或 1 个)将一个参数标记为可选：</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  <span class="comment">// 匹配 /users 和 /users/posva</span></span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&quot;/users/:userId?&quot;</span> &#125;,</span><br><span class="line">  <span class="comment">// 匹配 /users 和 /users/42</span></span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&quot;/users/:userId(\\d+)?&quot;</span> &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><pre><code>嵌套路由</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;user&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;h2&gt;User &#123;&#123; $route.params.id &#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">      &lt;router-view&gt;&lt;/router-view&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 要将组件渲染到这个嵌套的 router-view 中，我们需要在路由中配置 children：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/user/:id&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">User</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 当 /user/:id/profile 匹配成功</span></span><br><span class="line">        <span class="comment">// UserProfile 将被渲染到 User 的 &lt;router-view&gt; 内部</span></span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;profile&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">UserProfile</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 当 /user/:id/posts 匹配成功</span></span><br><span class="line">        <span class="comment">// UserPosts 将被渲染到 User 的 &lt;router-view&gt; 内部</span></span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;posts&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">UserPosts</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><blockquote><p>此时，按照上面的配置，当你访问 &#x2F;user&#x2F;eduardo 时，在 User 的 router-view 里面什么都不会呈现，因为没有匹配到嵌套路由。也许你确实想在那里渲染一些东西。在这种情况下，你可以提供一个空的嵌套路径：</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/user/:id&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">User</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      <span class="comment">// 当 /user/:id 匹配成功</span></span><br><span class="line">      <span class="comment">// UserHome 将被渲染到 User 的 &lt;router-view&gt; 内部</span></span><br><span class="line">      &#123; <span class="attr">path</span>: <span class="string">&quot;&quot;</span>, <span class="attr">component</span>: <span class="title class_">UserHome</span> &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ...其他子路由</span></span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><pre><code>嵌套的命名路由</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/user/:id&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">User</span>,</span><br><span class="line">    <span class="comment">// 请注意，只有子路由具有名称</span></span><br><span class="line">    <span class="attr">children</span>: [&#123; <span class="attr">path</span>: <span class="string">&quot;&quot;</span>, <span class="attr">name</span>: <span class="string">&quot;user&quot;</span>, <span class="attr">component</span>: <span class="title class_">UserHome</span> &#125;],</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><blockquote><ul><li>声明式路由：<router-link :to="..."></li><li>编程式路由：router.push(…)</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符串路径</span></span><br><span class="line">router.<span class="title function_">push</span>(<span class="string">&quot;/users/eduardo&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 带有路径的对象</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: <span class="string">&quot;/users/eduardo&quot;</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 命名的路由，并加上参数，让路由建立 url</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;user&quot;</span>, <span class="attr">params</span>: &#123; <span class="attr">username</span>: <span class="string">&quot;eduardo&quot;</span> &#125; &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 带查询参数，结果是 /register?plan=private</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: <span class="string">&quot;/register&quot;</span>, <span class="attr">query</span>: &#123; <span class="attr">plan</span>: <span class="string">&quot;private&quot;</span> &#125; &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 带 hash，结果是 /about#team</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>, <span class="attr">hash</span>: <span class="string">&quot;#team&quot;</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果提供了 path，params 会被忽略，上述例子中的 query 并不属于这种情况。取而代之的是下面例子的做法，你需要提供路由的 name 或手写完整的带有参数的 path ：</span></span><br><span class="line"><span class="keyword">const</span> username = <span class="string">&quot;eduardo&quot;</span>;</span><br><span class="line"><span class="comment">// 我们可以手动建立 url，但我们必须自己处理编码 -&gt; /user/eduardo</span></span><br><span class="line">router.<span class="title function_">push</span>(<span class="string">`/user/<span class="subst">$&#123;username&#125;</span>`</span>);</span><br><span class="line"><span class="comment">// 同样 -&gt; /user/eduardo</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: <span class="string">`/user/<span class="subst">$&#123;username&#125;</span>`</span> &#125;);</span><br><span class="line"><span class="comment">// 如果可能的话，使用 `name` 和 `params` 从自动 URL 编码中获益  -&gt; /user/eduardo</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;user&quot;</span>, <span class="attr">params</span>: &#123; username &#125; &#125;);</span><br><span class="line"><span class="comment">// `params` 不能与 `path` 一起使用   -&gt; /user</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: <span class="string">&quot;/user&quot;</span>, <span class="attr">params</span>: &#123; username &#125; &#125;);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 横跨历史</span></span><br><span class="line"><span class="comment">// 向前移动一条记录，与 router.forward() 相同</span></span><br><span class="line">router.<span class="title function_">go</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回一条记录，与 router.back() 相同</span></span><br><span class="line">router.<span class="title function_">go</span>(-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 前进 3 条记录</span></span><br><span class="line">router.<span class="title function_">go</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果没有那么多记录，静默失败</span></span><br><span class="line">router.<span class="title function_">go</span>(-<span class="number">100</span>);</span><br><span class="line">router.<span class="title function_">go</span>(<span class="number">100</span>);</span><br></pre></td></tr></table></figure><pre><code>router.push、router.replace 和 router.go 是 window.history.pushState、window.history.replaceState 和 window.history.go 的翻版命名路由</code></pre><blockquote><p>除了 path 之外，你还可以为任何路由提供 name。这有以下优点：</p><ul><li>没有硬编码的 URL</li><li>params 的自动编码&#x2F;解码</li><li>防止你在 url 中出现打字错误</li><li>绕过路径排序（如显示一个）</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/user/:username&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;user&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">User</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 要链接到一个命名的路由，可以向 router-link 组件的 to 属性传递一个对象：</span></span><br><span class="line">&lt;router-link :to=<span class="string">&quot;&#123; name: &#x27;user&#x27;, params: &#123; username: &#x27;erina&#x27; &#125;&#125;&quot;</span>&gt;</span><br><span class="line">  <span class="title class_">User</span></span><br><span class="line">&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这跟代码调用 router.push() 是一回事：</span></span><br><span class="line">router.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;user&#x27;</span>, <span class="attr">params</span>: &#123; <span class="attr">username</span>: <span class="string">&#x27;erina&#x27;</span> &#125; &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这两种情况下，路由将导航到路径 /user/erina</span></span><br></pre></td></tr></table></figure><blockquote><ul><li>重定向：<code>const routes = [&#123; path: &#39;/home&#39;, redirect: &#39;/&#39; &#125;]</code></li><li>重定向的目标也可以是一个命名的路由：const routes &#x3D; [{ path: ‘&#x2F;home’, redirect: { name: ‘homepage’ } }]</li><li>甚至是一个方法，动态返回重定向目标：</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// /search/screens -&gt; /search?q=screens</span></span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/search/:searchText&quot;</span>,</span><br><span class="line">    <span class="attr">redirect</span>: <span class="function">(<span class="params">to</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 方法接收目标路由作为参数</span></span><br><span class="line">      <span class="comment">// return 重定向的字符串路径/路径对象</span></span><br><span class="line">      <span class="keyword">return</span> &#123; <span class="attr">path</span>: <span class="string">&quot;/search&quot;</span>, <span class="attr">query</span>: &#123; <span class="attr">q</span>: to.<span class="property">params</span>.<span class="property">searchText</span> &#125; &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/search&quot;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><pre><code>相对重定向</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// 将总是把/users/123/posts重定向到/users/123/profile。</span></span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/users/:id/posts&quot;</span>,</span><br><span class="line">    <span class="attr">redirect</span>: <span class="function">(<span class="params">to</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 该函数接收目标路由作为参数</span></span><br><span class="line">      <span class="comment">// 相对位置不以`/`开头</span></span><br><span class="line">      <span class="comment">// 或 &#123; path: &#x27;profile&#x27;&#125;</span></span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;profile&quot;</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>别名</p><blockquote><ul><li>通过别名，你可以自由地将 UI 结构映射到一个任意的 URL，而不受配置的嵌套结构的限制。使别名以 &#x2F; 开头，以使嵌套路径中的路径成为绝对路径。你甚至可以将两者结合起来，用一个数组提供多个别名：</li><li>如果你的路由有参数，请确保在任何绝对别名中包含它们</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [&#123; <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>, <span class="attr">component</span>: <span class="title class_">Homepage</span>, <span class="attr">alias</span>: <span class="string">&quot;/home&quot;</span> &#125;];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/users&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">UsersLayout</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      <span class="comment">// 为这 3 个 URL 呈现 UserList</span></span><br><span class="line">      <span class="comment">// - /users</span></span><br><span class="line">      <span class="comment">// - /users/list</span></span><br><span class="line">      <span class="comment">// - /people</span></span><br><span class="line">      &#123; <span class="attr">path</span>: <span class="string">&quot;&quot;</span>, <span class="attr">component</span>: <span class="title class_">UserList</span>, <span class="attr">alias</span>: [<span class="string">&quot;/people&quot;</span>, <span class="string">&quot;list&quot;</span>] &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/users/:id&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">UsersByIdLayout</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      <span class="comment">// 为这 3 个 URL 呈现 UserDetails</span></span><br><span class="line">      <span class="comment">// - /users/24</span></span><br><span class="line">      <span class="comment">// - /users/24/profile</span></span><br><span class="line">      <span class="comment">// - /24</span></span><br><span class="line">      &#123; <span class="attr">path</span>: <span class="string">&quot;profile&quot;</span>, <span class="attr">component</span>: <span class="title class_">UserDetails</span>, <span class="attr">alias</span>: [<span class="string">&quot;/:id&quot;</span>, <span class="string">&quot;&quot;</span>] &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><h3 id="路由组件传参"><a href="#路由组件传参" class="headerlink" title="路由组件传参"></a>路由组件传参</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="attr">template</span>: <span class="string">&quot;&lt;div&gt;User &#123;&#123; $route.params.id &#125;&#125;&lt;/div&gt;&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> routes = [&#123; <span class="attr">path</span>: <span class="string">&quot;/user/:id&quot;</span>, <span class="attr">component</span>: <span class="title class_">User</span> &#125;];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上述可以替换为</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">User</span> = &#123;</span><br><span class="line">  <span class="comment">// 请确保添加一个与路由参数完全相同的 prop 名</span></span><br><span class="line">  <span class="attr">props</span>: [<span class="string">&quot;id&quot;</span>],</span><br><span class="line">  <span class="attr">template</span>: <span class="string">&quot;&lt;div&gt;User &#123;&#123; id &#125;&#125;&lt;/div&gt;&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> routes = [&#123; <span class="attr">path</span>: <span class="string">&quot;/user/:id&quot;</span>, <span class="attr">component</span>: <span class="title class_">User</span>, <span class="attr">props</span>: <span class="literal">true</span> &#125;];</span><br></pre></td></tr></table></figure><pre><code>布尔模式：当 props 设置为 true 时，route.params 将被设置为组件的 props。命名视图：对于有命名视图的路由，你必须为每个命名视图定义 props 配置</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/user/:id&quot;</span>,</span><br><span class="line">    <span class="attr">components</span>: &#123; <span class="attr">default</span>: <span class="title class_">User</span>, <span class="attr">sidebar</span>: <span class="title class_">Sidebar</span> &#125;,</span><br><span class="line">    <span class="attr">props</span>: &#123; <span class="attr">default</span>: <span class="literal">true</span>, <span class="attr">sidebar</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure><pre><code>对象模式</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/search&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">SearchUser</span>,</span><br><span class="line">    <span class="attr">props</span>: <span class="function">(<span class="params">route</span>) =&gt;</span> (&#123; <span class="attr">query</span>: route.<span class="property">query</span>.<span class="property">q</span> &#125;),</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">//  /search?q=vue 将传递 &#123;query: &#x27;vue&#x27;&#125; 作为 props 传给 SearchUser 组件</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（5-1）</title>
      <link href="/post/5e7c8290.html"/>
      <url>/post/5e7c8290.html</url>
      
        <content type="html"><![CDATA[<h2 id="面试过程"><a href="#面试过程" class="headerlink" title="面试过程"></a>面试过程</h2><p>今天下午进行了又一个面试，今天的这个面试主要针对的是 vue，vue 部分我觉得回答的还可以，但是后面又被问到 vue-router（路由），这个还没有复习到，就是凭感觉回答了一点，很不好，然后就结束了，可能又凉了</p><h3 id="vue-的生命周期，父子生命周期的执行顺序"><a href="#vue-的生命周期，父子生命周期的执行顺序" class="headerlink" title="vue 的生命周期，父子生命周期的执行顺序"></a>vue 的生命周期，父子生命周期的执行顺序</h3><blockquote><p>挂载阶段记住，其他的比较容易记：父 beforeCreate -&gt; 父 created -&gt; 父 beforeMount -&gt; 子 beforeCreate -&gt; 子 created -&gt; 子 beforeMount -&gt; 子 mounted -&gt; 父 mounted</p></blockquote><h3 id="ES6-的一些新增方法，列举四五个"><a href="#ES6-的一些新增方法，列举四五个" class="headerlink" title="ES6 的一些新增方法，列举四五个"></a>ES6 的一些新增方法，列举四五个</h3><blockquote><p>let、const、解构赋值、filter、箭头函数</p></blockquote><h3 id="const-定义的对象中的属性值能否修改"><a href="#const-定义的对象中的属性值能否修改" class="headerlink" title="const 定义的对象中的属性值能否修改"></a>const 定义的对象中的属性值能否修改</h3><p>const 定义的基础变量是不能修改的，对象可以，因为 const 的变量指向的是对象的内存地址</p><h3 id="vue-的双向数据绑定原理"><a href="#vue-的双向数据绑定原理" class="headerlink" title="vue 的双向数据绑定原理"></a>vue 的双向数据绑定原理</h3><p>这个问题上午刚被问过，然后中午我总结了以下，回答的还可以，这个问题可以在面试的 4-2 去看，解释的很详细</p><h3 id="vue-访问服务端，在哪个生命周期"><a href="#vue-访问服务端，在哪个生命周期" class="headerlink" title="vue 访问服务端，在哪个生命周期"></a>vue 访问服务端，在哪个生命周期</h3><p>这个问题问的挺多的，mounted</p><h3 id="promise-的-all-和-race，以及在哪些场景使用"><a href="#promise-的-all-和-race，以及在哪些场景使用" class="headerlink" title="promise 的 all 和 race，以及在哪些场景使用"></a>promise 的 all 和 race，以及在哪些场景使用</h3><blockquote><p>promise.all 可以将多个 Promise 实例包装成一个新的 Promise 实例。用于将多个 Promise 实例，包装成一个新的 Promise 实例</p><ul><li>它接受一个数组作为参数</li><li>数组可以是 Promise 对象，也可以是其它值，只有 Promise 会等待状态改变</li><li>当所有的子 Promise 都完成，该 Promise 完成，返回值是全部值的数组</li><li>如果有任何一个失败，该 Promise 失败，返回值是第一个失败的子 Promise 的结果</li><li><strong>使用场景：需要从不同的接口获取数据，并且两部分数据需要同时获得展示</strong></li></ul><p>类似于 Promise.all() ,区别在于 它有任意一个返回成功后，就算完成，但是 进程不会立即停止。常见使用场景：把异步操作和定时器放到一起，如果定时器先触发，认为超时，告知用户</p><ul><li><strong>使用场景：点击按钮发请求，当后端的接口超过一定时间，假设超过三秒，没有返回结果，我们就提示用户请求超时</strong></li></ul></blockquote><h3 id="vue-中父子通信的方式"><a href="#vue-中父子通信的方式" class="headerlink" title="vue 中父子通信的方式"></a>vue 中父子通信的方式</h3><pre><code>props 和 $emit、.async 修饰符、$refs（父组件访问子组件的数据和方法）、$parent（子组件访问父组件的数据和方法）、provide + inject、$attrs + $listeners</code></pre><blockquote><ul><li>props 和 $emit：父组件向子组件传递数据 :toods&#x3D;”todos” 传递函数 :deleteTodo&#x3D;”deleteTodo” 子组件接收：props: [‘todos’, ‘deleteTodo’]，也可以在接收的时候声明类型 props: { deleteTodo: { type: Function, required: true }}</li></ul></blockquote><p>props 的写法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符串数组形式：</span></span><br><span class="line"><span class="attr">props</span>: [<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;likes&#x27;</span>, <span class="string">&#x27;isPublished&#x27;</span>, <span class="string">&#x27;commentIds&#x27;</span>, <span class="string">&#x27;author&#x27;</span>]</span><br><span class="line"><span class="comment">// 指定 props 值类型：</span></span><br><span class="line"><span class="attr">props</span>: &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="title class_">String</span>,</span><br><span class="line">  <span class="attr">likes</span>: <span class="title class_">Number</span>,</span><br><span class="line">  <span class="attr">isPublished</span>: <span class="title class_">Boolean</span>,</span><br><span class="line">  <span class="attr">commentIds</span>: <span class="title class_">Array</span>,</span><br><span class="line">  <span class="attr">author</span>: <span class="title class_">Object</span>,</span><br><span class="line">  <span class="attr">callback</span>: <span class="title class_">Function</span>,</span><br><span class="line">  <span class="attr">contactsPromise</span>: <span class="title class_">Promise</span>,</span><br><span class="line">  <span class="attr">propE</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="title class_">Object</span>,</span><br><span class="line">    <span class="comment">// 对象或数组默认值必须从一个工厂函数获取</span></span><br><span class="line">    <span class="attr">default</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">message</span>: <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 自定义验证函数</span></span><br><span class="line">  <span class="attr">propF</span>: &#123;</span><br><span class="line">    <span class="attr">validator</span>: <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">      <span class="comment">// 这个值必须匹配下列字符串中的一个</span></span><br><span class="line">      <span class="keyword">return</span> [<span class="string">&#x27;success&#x27;</span>, <span class="string">&#x27;warning&#x27;</span>, <span class="string">&#x27;danger&#x27;</span>].<span class="title function_">indexOf</span>(value) !== -<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="父子组件通信方式：props-和-emit-使用"><a href="#父子组件通信方式：props-和-emit-使用" class="headerlink" title="父子组件通信方式：props 和 $emit 使用"></a>父子组件通信方式：props 和 $emit 使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 子组件</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;ChildrenDemo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>子组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeParentTitle&quot;</span>&gt;</span>点击更改父组件title<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">changeParentTitle</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 第一个参数是提交的事件名，后面的参数可以是多个需要传递给父组件的参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&quot;childEvent&quot;</span>, <span class="string">&quot;子组件传给父组件的title&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// 父组件</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;home&quot;</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>父组件title值：&#123;&#123; title &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml">    <span class="tag">&lt;<span class="name">ChildrenDemo</span> <span class="attr">:title</span>=<span class="string">&quot;title&quot;</span> @<span class="attr">childEvent</span>=<span class="string">&quot;changeTitle&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ChildrenDemo</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&lt;script&gt;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">ChildrenDemo</span> <span class="keyword">from</span> <span class="string">&quot;@/views/components/ChildrenDemo&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">ChildrenDemo</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">title</span>: <span class="string">&quot;My Journey with Vue&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">changeTitle</span>: <span class="keyword">function</span> (<span class="params">str</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">title</span> = str</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="父子组件通信方式：-async-修饰符使用"><a href="#父子组件通信方式：-async-修饰符使用" class="headerlink" title="父子组件通信方式：.async 修饰符使用"></a>父子组件通信方式：.async 修饰符使用</h3><blockquote><ul><li>一般情况下，子组件不能直接修改从父组件接收的属性值，否则会报错，如果子组件需要接收值后处理再使用，可以将接收的值赋值给子组件本身的属性，如 data 中的属性或计算属性。如果希望子组件 prop 父组件中的值改变时，将变化同步到父组件中，可使用事件监听或**.async 修饰符**</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件</span></span><br><span class="line">&lt;h1&gt;父组件title值：&#123;&#123; title &#125;&#125;&lt;/h1&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">ChildrenDemo</span> <span class="attr">:title.async</span>=<span class="string">&quot;title&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ChildrenDemo</span>&gt;</span></span></span><br><span class="line"><span class="comment">// 子组件</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;ChildrenDemo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>子组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;childTitle&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">// 接收的父组件的值</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: [<span class="string">&quot;title&quot;</span>],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">computed</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 在computed中处理</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">childTitle</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">get</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">title</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">set</span>(<span class="params">val</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 更新父组件中的title</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.$emit(<span class="string">&quot;update:title&quot;</span>, val);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><blockquote><ul><li>如果要将一个对象的所有 property 都作为 prop 传入，你可以使用不带参数的 v-bind 比如 post: {id: 1,title: ‘My Journey with Vue’} 传递给子组件 <blog-post v-bind="post"></blog-post></li></ul></blockquote><h3 id="父子组件通信方式：-refs（父组件访问子组件的数据和方法）使用"><a href="#父子组件通信方式：-refs（父组件访问子组件的数据和方法）使用" class="headerlink" title="父子组件通信方式：$refs（父组件访问子组件的数据和方法）使用"></a>父子组件通信方式：$refs（父组件访问子组件的数据和方法）使用</h3><blockquote><ul><li>父组件使用 $refs 可以访问子组件的数据和方法，使用时需在调用子组件时给子组件定义一个 ref 名</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件</span></span><br><span class="line">&lt;<span class="title class_">ChildrenDemo</span> ref=<span class="string">&quot;childrenDemo&quot;</span>&gt;&lt;/<span class="title class_">ChildrenDemo</span>&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;getChildData&quot;</span>&gt;</span>点击获取子组件数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="attr">getChildData</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 获取子组件实例</span></span><br><span class="line">  <span class="keyword">let</span> child = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">childrenDemo</span></span><br><span class="line">  <span class="comment">// 访问子组件属性</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(child.<span class="property">value</span>);</span><br><span class="line">  <span class="comment">// 调用子组件的childFn()方法</span></span><br><span class="line">  child.<span class="title function_">childFn</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>注意：</p><ul><li>$refs 只会在组件渲染完成之后生效，并且它们不是响应式的。这仅作为一个用于直接操作子组件的“逃生舱”——你应该避免在模板或计算属性中访问 $refs。</li><li>由于 ref 需要在 dom 渲染完成后才会有，在使用的时候确保 dom 已经渲染完成。比如在生命周期 mounted(){} 钩子中调用，或者在 this.$nextTick(()&#x3D;&gt;{}) 中调用。</li></ul></blockquote><h3 id="父子组件通信方式：-parent（子组件访问父组件的数据和方法）使用"><a href="#父子组件通信方式：-parent（子组件访问父组件的数据和方法）使用" class="headerlink" title="父子组件通信方式：$parent（子组件访问父组件的数据和方法）使用"></a>父子组件通信方式：$parent（子组件访问父组件的数据和方法）使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 子组件</span></span><br><span class="line">&lt;button @click=<span class="string">&quot;getParentData&quot;</span>&gt;点击获取父组件数据&lt;/button&gt;</span><br><span class="line"><span class="title function_">getParentData</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="comment">// 获取父组件实例</span></span><br><span class="line">  <span class="keyword">let</span> parent = <span class="variable language_">this</span>.<span class="property">$parent</span></span><br><span class="line">  <span class="comment">// 访问父组件属性</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(parent.<span class="property">parentValue</span>)</span><br><span class="line">  <span class="comment">// 调用父组件的方法parentFn()</span></span><br><span class="line">  parent.<span class="title function_">parentFn</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="父子组件通信方式：provide-inject-使用"><a href="#父子组件通信方式：provide-inject-使用" class="headerlink" title="父子组件通信方式：provide + inject 使用"></a>父子组件通信方式：provide + inject 使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>父组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Child</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">import</span> <span class="title class_">Child</span> <span class="keyword">from</span> <span class="string">&#x27;./Child.vue&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title class_">Child</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">provide</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">name</span>: <span class="string">&#x27;周帅帅&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 子组件</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>子组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    &#123;&#123; name &#125;&#125;</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">inject</span>: [<span class="string">&#x27;name&#x27;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="父子组件通信方式：-attrs-listeners-使用"><a href="#父子组件通信方式：-attrs-listeners-使用" class="headerlink" title="父子组件通信方式：$attrs + $listeners 使用"></a>父子组件通信方式：$attrs + $listeners 使用</h3><blockquote><ul><li>我们在父组件(Parent.vue)中向子组件(Child.vue)传递 name 和 age，我们在父组件(Parent.vue)中定义了一个 parentName 事件监听器</li><li>我们在子组件(Child.vue)中可以通过 $listeners 获取到父组件(Parent.vue)中的 parentName，这样我们就能执行父组件(Parent.vue)中绑定的事件处理函数(changeName)。然后我们在子组件(Child.vue)里面引入孙子组件(GrandChild.vue)，将父组件(Parent.vue)传递给子组件(Child.vue)的 name 和 age 通过 v-bind&#x3D;”$attrs” 传递给孙子组件(GrandChild.vue)。</li><li>这样我们在孙子组件(GrandChild.vue)中就可以接收子组件(Child.vue)传递过来的 name 和 age 了。然后通过 $attrs.name 和 $attrs.age 来使用。</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>父组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>姓名：&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>年龄：&#123;&#123; age &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Child</span> <span class="attr">:name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">:age</span>=<span class="string">&quot;age&quot;</span> @<span class="attr">parentName</span>=<span class="string">&quot;changeName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">import</span> <span class="title class_">Child</span> <span class="keyword">from</span> <span class="string">&#x27;./Child.vue&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title class_">Child</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">name</span>: <span class="string">&#x27;周帅帅&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">age</span>: <span class="number">24</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">changeName</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;小夏&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 子组件</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>子组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$listeners.parentName&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    // $attrs相当于子组件向孙子组件传递:name=&quot;name&quot; :age=&quot;age&quot;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">GrandChild</span> <span class="attr">v-bind</span>=<span class="string">&quot;$attrs&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">import</span> <span class="title class_">GrandChild</span> <span class="keyword">from</span> <span class="string">&#x27;./GrandChild.vue&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title class_">GrandChild</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 孙子组件</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>孙子组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>姓名：&#123;&#123; $attrs.name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>年龄：&#123;&#123; $attrs.age &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 如果不加这个属性，我们发现div中会携带name和age这两个属性</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">inheritAttrs</span>: <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（4-2）</title>
      <link href="/post/8795fedb.html"/>
      <url>/post/8795fedb.html</url>
      
        <content type="html"><![CDATA[<h2 id="理解-vue-的双向绑定原理"><a href="#理解-vue-的双向绑定原理" class="headerlink" title="理解 vue 的双向绑定原理"></a>理解 vue 的双向绑定原理</h2><pre><code>使用以下代码，理解 vue 双向绑定原理</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  &#123;&#123; text &#125;&#125;</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">text</span>: <span class="string">&quot;hello world&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>首先将该任务分成几个子任务：</p><ul><li>输入框以及文本节点与 data 中的数据绑定</li><li>输入框内容变化时，data 中的数据同步变化。即 view &#x3D;&gt; model 的变化</li><li>data 中的数据变化时，文本节点的内容同步变化。即 model &#x3D;&gt; view 的变化</li></ul></blockquote><blockquote><ul><li>要实现任务一，需要对 DOM 进行编译，这里有一个知识点：DocumentFragment</li><li>DocumentFragment（文档片段）可以看作节点容器，它可以包含多个子节点，当我们将它插入到 DOM 中时，只有它的子节点会插入目标节点，所以把它看作一组节点的容器。使用 DocumentFragment 处理节点，速度和性能远远优于直接操作 DOM。Vue 进行编译时，就是将挂载目标的所有子节点劫持（真的是劫持，通过 append 方法，DOM 中的节点会被自动删除）到 DocumentFragment 中，经过一番处理后，再将 DocumentFragment 整体返回插入挂载目标。</li></ul></blockquote><pre><code>具体过程如下代码所示：</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;a&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;b&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">var</span> dom = <span class="title function_">nodeToFragment</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;app&quot;</span>));</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">function</span> <span class="title function_">nodeToFragment</span>(<span class="params">node</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> flag = <span class="variable language_">document</span>.<span class="title function_">createDocumentFragment</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> child;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">while</span>(child = node.<span class="property">firstChild</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      flag.<span class="title function_">appendChild</span>(child);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> flag;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;app&quot;</span>).<span class="title function_">appendChild</span>(dom);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><pre><code>接下来是进行数据的初始化绑定:</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">compile</span>(<span class="params">node, vm</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> reg = <span class="regexp">/\&#123;\&#123;(.*)\&#125;\&#125;/</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 节点类型为元素</span></span><br><span class="line">  <span class="keyword">if</span> (node.<span class="property">nodeType</span> === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> attr = ndoe.<span class="property">attributes</span>;</span><br><span class="line">    <span class="comment">// 解析属性</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; attr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (attr[i].<span class="property">nodeName</span> == <span class="string">&quot;v-model&quot;</span>) &#123;</span><br><span class="line">        <span class="comment">// 获取v-model绑定的属性名</span></span><br><span class="line">        <span class="keyword">var</span> name = attr[i].<span class="property">nodeValue</span>;</span><br><span class="line">        <span class="comment">// 将data中的值赋值给该node</span></span><br><span class="line">        node.<span class="property">value</span> = vm.<span class="property">data</span>[name];</span><br><span class="line"></span><br><span class="line">        node.<span class="title function_">removeAttribute</span>(<span class="string">&quot;v-model&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 节点类型为text</span></span><br><span class="line">  <span class="keyword">if</span> (node.<span class="property">nodeType</span> === <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (reg.<span class="title function_">test</span>(node.<span class="property">nodeValue</span>)) &#123;</span><br><span class="line">      <span class="comment">// 获取匹配到的字符串</span></span><br><span class="line">      <span class="keyword">var</span> name = <span class="title class_">RegExp</span>.<span class="property">$1</span>;</span><br><span class="line">      name = name.<span class="title function_">trim</span>();</span><br><span class="line">      <span class="comment">// 将data中的值赋值给该node</span></span><br><span class="line">      node.<span class="property">nodeValue</span> = vm.<span class="property">data</span>[name];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">nodeToFragment</span>(<span class="params">node, vm</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> flag = <span class="variable language_">document</span>.<span class="title function_">createDocumentFragment</span>();</span><br><span class="line">    <span class="keyword">var</span> child;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> ((child = node.<span class="property">firstChild</span>)) &#123;</span><br><span class="line">      <span class="comment">// 针对每一个节点，判断节点类型，根据包含的属性，进行赋值</span></span><br><span class="line">      <span class="title function_">compile</span>(child, vm);</span><br><span class="line"></span><br><span class="line">      flag.<span class="title function_">appendChild</span>(child);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 赋值完毕，再将节点返回</span></span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">Vue</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">data</span> = options.<span class="property">data</span>;</span><br><span class="line">    <span class="keyword">var</span> id = options.<span class="property">el</span>;</span><br><span class="line">    <span class="keyword">var</span> dom = <span class="title function_">nodeToFragment</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id), <span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 编译完成后，将dom返回到app中</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id).<span class="title function_">appendChild</span>(dom);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&quot;hello world&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>上述工作可以完成任务一：输入框以及文本节点与 data 中的数据绑定接下来是进行 响应式的数据绑定：</code></pre><blockquote><p>再来看任务二的实现思路：当我们在输入框输入数据的时候，首先触发 input 事件（或者 keyup、change 事件），在相应的事件处理程序中，我们获取输入框的 value 并赋值给 vm 实例的 text 属性。我们会利用 defineProperty 将 data 中的 text 设置为 vm 的访问器属性，因此给 vm.text 赋值，就会触发 set 方法。在 set 方法中主要做两件事，第一是更新属性的值，第二留到任务三再说。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">defineReactive</span>(<span class="params">obj, key, val</span>) &#123;</span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, key, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> val;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="title function_">fcuntion</span>(<span class="params">newVal</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(newVal === val) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      val = newVal;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">observe</span>(<span class="params">obj, vm</span>) &#123;</span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">keys</span>(obj).<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="title function_">defineReactive</span>(vm, key, obj[key]);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Vue</span>(<span class="params">options</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">data</span> = options.<span class="property">data</span>;</span><br><span class="line">  <span class="keyword">var</span> data = <span class="variable language_">this</span>.<span class="property">data</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">observe</span>(data, <span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> id = options.<span class="property">el</span>;</span><br><span class="line">  <span class="keyword">var</span> dom = <span class="title function_">nodeToFragment</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id), <span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 编译完成后，将dom返回到app中</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id).<span class="title function_">appendChild</span>(dom);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">compile</span>(<span class="params">node, vm</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> reg = <span class="regexp">/\&#123;\&#123;(.*)\&#125;\&#125;/</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 节点类型为元素</span></span><br><span class="line">  <span class="keyword">if</span> (node.<span class="property">nodeType</span> === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> attr = ndoe.<span class="property">attributes</span>;</span><br><span class="line">    <span class="comment">// 解析属性</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; attr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (attr[i].<span class="property">nodeName</span> == <span class="string">&quot;v-model&quot;</span>) &#123;</span><br><span class="line">        <span class="comment">// 获取v-model绑定的属性名</span></span><br><span class="line">        <span class="keyword">var</span> name = attr[i].<span class="property">nodeValue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 监听input事件</span></span><br><span class="line">        node.<span class="title function_">addEventListener</span>(<span class="string">&quot;input&quot;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">          vm.<span class="property">data</span>[name] = e.<span class="property">target</span>.<span class="property">value</span>;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 将data中的值赋值给该node</span></span><br><span class="line">        node.<span class="property">value</span> = vm.<span class="property">data</span>[name];</span><br><span class="line"></span><br><span class="line">        node.<span class="title function_">removeAttribute</span>(<span class="string">&quot;v-model&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 节点类型为text</span></span><br><span class="line">  <span class="keyword">if</span> (node.<span class="property">nodeType</span> === <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (reg.<span class="title function_">test</span>(node.<span class="property">nodeValue</span>)) &#123;</span><br><span class="line">      <span class="comment">// 获取匹配到的字符串</span></span><br><span class="line">      <span class="keyword">var</span> name = <span class="title class_">RegExp</span>.<span class="property">$1</span>;</span><br><span class="line">      name = name.<span class="title function_">trim</span>();</span><br><span class="line">      <span class="comment">// 将data中的值赋值给该node</span></span><br><span class="line">      node.<span class="property">nodeValue</span> = vm.<span class="property">data</span>[name];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>之后进行 订阅/发布模式（subscribe &amp; publish）</code></pre><blockquote><p>text 属性变化了，set 方法触发了，但是文本节点的内容没有变化。如何让同样绑定到 text 的文本节点也同步变化呢？这里又有一个知识点：订阅发布模式。订阅发布模式（又称观察者模式）定义了一种一对多的关系，让多个观察者同时监听某一个主题对象，这个主题对象的状态发生改变时就会通知所有观察者对象。发布者发出通知 &#x3D;&gt; 主题对象收到通知并推送给订阅者 &#x3D;&gt; 订阅者执行相应操作</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pub = &#123;</span><br><span class="line">  <span class="attr">publish</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    dep.<span class="title function_">notify</span>();</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 三个订阅者</span></span><br><span class="line"><span class="keyword">var</span> sub1 = &#123;</span><br><span class="line">  <span class="attr">update</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> sub2 = &#123;</span><br><span class="line">  <span class="attr">update</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> sub3 = &#123;</span><br><span class="line">  <span class="attr">update</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 一个主题对象</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Dep</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">subs</span> = [sub1, sub2, sub3];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Dep</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">notify</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">subs</span>.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">sub</span>) &#123;</span><br><span class="line">    sub.<span class="title function_">update</span>();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发布订阅者消息，主题对象执行notify方法，进而触发订阅者执行update方法</span></span><br><span class="line"><span class="keyword">var</span> dep = <span class="keyword">new</span> <span class="title class_">Dep</span>();</span><br><span class="line">pub.<span class="title function_">publish</span>();</span><br></pre></td></tr></table></figure><blockquote><p>之前提到的，当 set 方法触发后做的第二件事就是作为发布者发出通知：“我是属性 text，我变了”。文本节点则是作为订阅者，在收到消息后执行相应的更新操作。</p></blockquote><pre><code>双向绑定的实现：</code></pre><blockquote><p>回顾一下，每当 new 一个 Vue，主要做了两件事：第一个是监听数据：observe(data)，第二个是编译 HTML：nodeToFragement(id)。在监听数据的过程中，会为 data 中的每一个属性生成一个主题对象 dep。在编译 HTML 的过程中，会为每个与数据绑定相关的节点生成一个订阅者 watcher，watcher 会将自己添加到相应属性的 dep 中。我们已经实现：修改输入框内容 &#x3D;&gt; 在事件回调函数中修改属性值 &#x3D;&gt; 触发属性的 set 方法。接下来我们要实现的是：发出通知 dep.notify() &#x3D;&gt; 触发订阅者的 update 方法 &#x3D;&gt; 更新视图。这里的关键逻辑是：如何将 watcher 添加到关联属性的 dep 中。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">compile</span>(<span class="params">node, vm</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> reg = <span class="regexp">/\&#123;\&#123;(.*)\&#125;\&#125;/</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 节点类型为元素</span></span><br><span class="line">  <span class="keyword">if</span> (node.<span class="property">nodeType</span> === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> attr = ndoe.<span class="property">attributes</span>;</span><br><span class="line">    <span class="comment">// 解析属性</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; attr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (attr[i].<span class="property">nodeName</span> == <span class="string">&quot;v-model&quot;</span>) &#123;</span><br><span class="line">        <span class="comment">// 获取v-model绑定的属性名</span></span><br><span class="line">        <span class="keyword">var</span> name = attr[i].<span class="property">nodeValue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 监听input事件</span></span><br><span class="line">        node.<span class="title function_">addEventListener</span>(<span class="string">&quot;input&quot;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">          vm.<span class="property">data</span>[name] = e.<span class="property">target</span>.<span class="property">value</span>;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 将data中的值赋值给该node</span></span><br><span class="line">        node.<span class="property">value</span> = vm.<span class="property">data</span>[name];</span><br><span class="line"></span><br><span class="line">        node.<span class="title function_">removeAttribute</span>(<span class="string">&quot;v-model&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 节点类型为text</span></span><br><span class="line">  <span class="keyword">if</span> (node.<span class="property">nodeType</span> === <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (reg.<span class="title function_">test</span>(node.<span class="property">nodeValue</span>)) &#123;</span><br><span class="line">      <span class="comment">// 获取匹配到的字符串</span></span><br><span class="line">      <span class="keyword">var</span> name = <span class="title class_">RegExp</span>.<span class="property">$1</span>;</span><br><span class="line">      name = name.<span class="title function_">trim</span>();</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 将data中的值赋值给该node</span></span><br><span class="line">      <span class="comment">// node.nodeValue = vm.data[name];</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 在编译 HTML 过程中，为每个与 data 关联的节点生成一个 Watcher。</span></span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">Watcher</span>(vm, node, name);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Watcher</span>(<span class="params">vm, node, name</span>) &#123;</span><br><span class="line">  <span class="title class_">Dep</span>.<span class="property">target</span> = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">node</span> = node;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">vm</span> = vm;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">update</span>();</span><br><span class="line">  <span class="title class_">Dep</span>.<span class="property">target</span> = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Watcher</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123;</span><br><span class="line">  <span class="attr">update</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">get</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">node</span>.<span class="property">nodeValue</span> = <span class="variable language_">this</span>.<span class="property">value</span>;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span> = <span class="variable language_">this</span>.<span class="property">vm</span>.<span class="property">data</span>[<span class="variable language_">this</span>.<span class="property">name</span>];</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>首先，将自己赋给了一个全局变量 Dep.target；其次，执行了 update 方法，进而执行了 get 方法，get 的方法读取了 vm 的访问器属性，从而触发了访问器属性的 get 方法，get 方法中将该 watcher 添加到了对应访问器属性的 dep 中；再次，获取属性的值，然后更新视图。最后，将 Dep.target 设为空。因为它是全局变量，也是 watcher 与 dep 关联的唯一桥梁，任何时刻都必须保证 Dep.target 只有一个值</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">defineReactive</span>(<span class="params">obj, key, val</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> dep = <span class="keyword">new</span> <span class="title class_">Dep</span>();</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, key, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// 添加订阅者watcher到主题对象Dep</span></span><br><span class="line">      <span class="keyword">if</span>(<span class="title class_">Dep</span>.<span class="property">target</span>) dep.<span class="title function_">addSub</span>(<span class="title class_">Dep</span>.<span class="property">target</span>);</span><br><span class="line">      <span class="keyword">return</span> val;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="title function_">fcuntion</span>(<span class="params">newVal</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(newVal === val) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      val = newVal;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 作为发布者发出通知</span></span><br><span class="line">      dep.<span class="title function_">notify</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Dep</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">subs</span> = []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Dep</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123;</span><br><span class="line">  <span class="attr">addSub</span>: <span class="keyword">function</span>(<span class="params">sub</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">subs</span>.<span class="title function_">push</span>(sub);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">notify</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">subs</span>.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">sub</span>) &#123;</span><br><span class="line">      sub.<span class="title function_">update</span>();</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>至此，hello world 双向绑定就基本实现了。文本内容会随输入框内容同步变化，在控制器中修改 vm.text 的值，会同步反映到文本内容中</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（4-1）</title>
      <link href="/post/95205135.html"/>
      <url>/post/95205135.html</url>
      
        <content type="html"><![CDATA[<h2 id="面试过程"><a href="#面试过程" class="headerlink" title="面试过程"></a>面试过程</h2><pre><code>今天上午进行了一个面试（这次的面试官是个小哥），今天问的问题是和 vue 相关的，回答的过程相比之前可能又好了一点，成功与否，这个我还真不知道</code></pre><h3 id="vue-的双向绑定"><a href="#vue-的双向绑定" class="headerlink" title="vue 的双向绑定"></a>vue 的双向绑定</h3><blockquote><p>这个问题我可能回答的不太好，我说的是具体如何操作的，比如通过 data 去和页面绑定，data 来控制页面的展示，页面上的事件修改 data，形成一种双向。但是这个问题应该回答 defineProperty，双向绑定其原理是通过数据劫持+发布订阅模式相结合的方式来是实现的，简单来说就是数据层发生变化的时候，可同布更新视图层，当视图层发生变化的时候，同步更新数据层。通过 Object.defineProperty 对 data 的所有属性进行重新定义，给数据的获取和设置进行一个拦截功能（就是数据劫持），当 getter 获取数据的时候，就会给当前数据一个依赖收集（就是订阅者 Watcher），当数据 setter 更新时，就会通知对应的订阅者，进行视图更新如何视图更新呢？这我们需要一个，compile 解析模板指令，将模板中的变量替换成数据，绑定更新函数，添加监听数据的订阅者，一旦数据有变动，收到通知，更新视图。</p></blockquote><h3 id="如何实现一个轮播图"><a href="#如何实现一个轮播图" class="headerlink" title="如何实现一个轮播图"></a>如何实现一个轮播图</h3><blockquote><p>首先，在一个 div 盒子中定义你需要轮播的图片，使用 css 控制图片在 div 中一行显示（overflow: hidden），设置一个定时器，一秒执行一次，主要控制的是图片的 margin-left 值（负值，这样才能让图片左移），到达最后一张以后，在回到第一张（margin-left 为 0）</p></blockquote><h3 id="less、sass-相对于-css-是什么"><a href="#less、sass-相对于-css-是什么" class="headerlink" title="less、sass 相对于 css 是什么"></a>less、sass 相对于 css 是什么</h3><pre><code>是一种预处理器</code></pre><h3 id="computed-和-watch-的区别以及什么时候用"><a href="#computed-和-watch-的区别以及什么时候用" class="headerlink" title="computed 和 watch 的区别以及什么时候用"></a>computed 和 watch 的区别以及什么时候用</h3><blockquote><p>computed 是对现有属性进行处理，返回一个新的属性值，有缓存。computed 是需要对数据进行处理的时候使用（比如展现格式）<br>watch 是对现有属性的一种监听。是在属性变化时，需要执行异步或者开销大的时候使用</p></blockquote><h3 id="vue-的生命周期以及调用后端在哪个生命周期"><a href="#vue-的生命周期以及调用后端在哪个生命周期" class="headerlink" title="vue 的生命周期以及调用后端在哪个生命周期"></a>vue 的生命周期以及调用后端在哪个生命周期</h3><blockquote><p>beforeCreate created beforeMount mounted beforeUpdate updated beforeDestroy destroyed<br>如果调用的是 data 中的数据，或者 methods 中的方法可以在 created 中，发请求如果需要操作 dom 就需要在 mounted 中</p></blockquote><h3 id="如果想在-jquery-上实现自己的方法，怎么做"><a href="#如果想在-jquery-上实现自己的方法，怎么做" class="headerlink" title="如果想在 jquery 上实现自己的方法，怎么做"></a>如果想在 jquery 上实现自己的方法，怎么做</h3><blockquote><p>如果是一个方法可以直接：$.fn.myFunc &#x3D; function() { … }<br>如果有多个方法，可以：$.fn.extend({<br>“myfunc1”: function() { … },<br>“myFunc2”: function() { … }<br>})</p></blockquote><h3 id="数据的深拷贝"><a href="#数据的深拷贝" class="headerlink" title="数据的深拷贝"></a>数据的深拷贝</h3><blockquote><ul><li>如果是简单的对象，也就是对象中只有一些简单的值变量，没有嵌套的对象的话，可以使用解构赋值，或者 Json.parse(Json.stringify(obj))</li><li>如果是复杂的对象，对象中包含对象的，那就需要写一个方法，对其进行遍历，直到都是值变量</li></ul></blockquote><h3 id="闭包是什么，是为了解决什么问题的，什么时候使用"><a href="#闭包是什么，是为了解决什么问题的，什么时候使用" class="headerlink" title="闭包是什么，是为了解决什么问题的，什么时候使用"></a>闭包是什么，是为了解决什么问题的，什么时候使用</h3><blockquote><p>「函数」和「函数内部能访问到的变量」的总和，就是一个闭包。可以把闭包简单理解成”定义在一个函数内部的函数”。所以，在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁</p><ul><li>闭包为什么需要嵌套函数呢？是因为需要局部变量，所以才把 local 放在一个函数里，如果不把 local 放在一个函数里，local 就是一个全局变量了，达不到使用闭包的目的——隐藏变量（如果没有局部变量，那就是全局变量，但全局变量可能会把值修改成范围外的值）</li><li>闭包为什么最后需要 return 一个函数呢？因为如果不 return，你就无法使用这个闭包。把 return bar 改成 window.bar &#x3D; bar 也是一样的，只要让外面可以访问到这个 bar 函数就行了</li><li>闭包常常用来「间接访问一个变量」。换句话说，「隐藏一个变量」</li><li><strong>变量的作用域是在函数定义声明的时候就是确定的，而非在函数运行时</strong></li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;The Window&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> object = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;My Object&quot;</span>,</span><br><span class="line">  <span class="attr">getNameFunc</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The Window</span></span><br><span class="line"><span class="title function_">alert</span>(object.<span class="title function_">getNameFunc</span>()());</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;The Window&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> object = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;My Object&quot;</span>,</span><br><span class="line">  <span class="attr">getNameFunc</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> that.<span class="property">name</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// My Object</span></span><br><span class="line"><span class="title function_">alert</span>(object.<span class="title function_">getNameFunc</span>()());</span><br></pre></td></tr></table></figure><p>应用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">    <span class="keyword">return</span> ++a;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 每次执行都会初始化 a = 1  结果：2、 2</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="title function_">fn</span>()());</span><br><span class="line"><span class="title function_">alert</span>(<span class="title function_">fn</span>()());</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">outerFn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">innerFn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    i++;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> innerFn;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//每次外部函数执行的时候,都会开辟一块内存空间,外部函数的地址不同,都会重新创建一个新的地址，结果为：1 2 3 1 2 3</span></span><br><span class="line"><span class="keyword">var</span> inner = <span class="title function_">outerFn</span>();</span><br><span class="line"><span class="title function_">inner</span>();</span><br><span class="line"><span class="title function_">inner</span>();</span><br><span class="line"><span class="title function_">inner</span>();</span><br><span class="line"><span class="keyword">var</span> inner2 = <span class="title function_">outerFn</span>();</span><br><span class="line"><span class="title function_">inner2</span>();</span><br><span class="line"><span class="title function_">inner2</span>();</span><br><span class="line"><span class="title function_">inner2</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 100  闭包找到的是同一地址中父级函数中对应变量最终的值</span></span><br><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> m = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">getM</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> m;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">seta</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    m = val;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">g</span> = getM;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">f</span> = seta;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="title function_">f</span>(<span class="number">100</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">g</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数柯里化</span></span><br><span class="line"><span class="keyword">var</span> add = <span class="keyword">function</span> (<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> sum = x;</span><br><span class="line">  <span class="keyword">var</span> tmp = <span class="keyword">function</span> (<span class="params">x</span>) &#123;</span><br><span class="line">    sum = sum + x;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">  &#125;;</span><br><span class="line">  tmp.<span class="property">toString</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 执行add(1)的时候，会将sum赋值为1，然后返回tmp函数，剩下tmp(2)(3)，执行tmp(2)的时候，因为需要用到add中的sum，所以sum不会被清除，这时就会将sum = sum + 2，也就是1 + 2，这时就剩下tmp(3)，再次执行，sum结果就变成了6，返回tmp函数，之后使用alert或者console.log的时候，会将内容自动转为字符串，所以alert(tmp)就是alert(tmp.toString())，而tmp.toString将输出改为return sum，所以返回是6</span></span><br><span class="line"><span class="comment">// 6</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="title function_">add</span>(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>));</span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="title function_">add</span>(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)(<span class="number">4</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun</span>(<span class="params">n, o</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(o);</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">fun</span>: <span class="keyword">function</span> (<span class="params">m</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">fun</span>(m, n);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// undefined，因为只传入了一个参数，会赋值给n，所以o就是undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="title function_">fun</span>(<span class="number">0</span>);</span><br><span class="line"><span class="comment">// 0，因为a的返回值是fun: function(m) &#123; return fun(m, n) &#125;，这时候传参1，会赋值给m，因为里面用到n，所以上一步的n会被保留，这时候也就是return f(1, 0) 即赋值给了n，o，所以o是0，下面的a.fun(2) a.fun(3)是一样的</span></span><br><span class="line">a.<span class="title function_">fun</span>(<span class="number">1</span>);</span><br><span class="line">a.<span class="title function_">fun</span>(<span class="number">2</span>);</span><br><span class="line">a.<span class="title function_">fun</span>(<span class="number">3</span>);</span><br><span class="line"><span class="comment">// 首先使用fun(0)n赋值为0，返回的是fun: function(m) &#123; return fun(m, n) &#125;，在继续调用fun(1)，m是1，n是0，又回到fun外层，即fun(n, o)，所以n是1，o是0，再调用fun(2)，m是2，n是1、又回到外层fun(n, o)，所以n是2，o是1，再调用fun(3)，m是3，n是2、又回到外层fun(n, o)，所以n是3，o是2，所以最后的结果就是：undefined  0  1  2</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="title function_">fun</span>(<span class="number">0</span>).<span class="title function_">fun</span>(<span class="number">1</span>).<span class="title function_">fun</span>(<span class="number">2</span>).<span class="title function_">fun</span>(<span class="number">3</span>);</span><br><span class="line"><span class="comment">// undefined  0  1  1</span></span><br><span class="line"><span class="keyword">var</span> c = <span class="title function_">fun</span>(<span class="number">0</span>).<span class="title function_">fun</span>(<span class="number">1</span>);</span><br><span class="line">c.<span class="title function_">fun</span>(<span class="number">2</span>);</span><br><span class="line">c.<span class="title function_">fun</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 事件处理函数中闭包的写法</span></span><br><span class="line"><span class="keyword">var</span> lis = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;li&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  (<span class="keyword">function</span> (<span class="params">i</span>) &#123;</span><br><span class="line">    lis[i].<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// i是var声明的全局变量，如果不使用闭包，每次打印的i都是最后的值，除了使用闭包，还可以使用let声明i</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（3-1）</title>
      <link href="/post/8825618d.html"/>
      <url>/post/8825618d.html</url>
      
        <content type="html"><![CDATA[<h2 id="面试过程"><a href="#面试过程" class="headerlink" title="面试过程"></a>面试过程</h2><p>2023 年 6 月 21 号下午开启了又一次的面试，面试官是个小姐姐（发现面试前端的都是小姐姐），前面的一些概念性或者口头回答的问题回答的自己感觉比上次好了一点（promise 那个又给记错了…），主要是最后一个共享屏幕写代码，没有写出来，就凉了</p><h3 id="flex-的相关问题"><a href="#flex-的相关问题" class="headerlink" title="flex 的相关问题"></a>flex 的相关问题</h3><blockquote><ul><li><p>align-content<br>设置侧轴上(纵轴)的所有子元素排列方式</p></li><li><p>align-items<br>设置侧轴上子元素自己的排列方式</p></li></ul></blockquote><h3 id="css3-的相关问题"><a href="#css3-的相关问题" class="headerlink" title="css3 的相关问题"></a>css3 的相关问题</h3><blockquote><ul><li>css3 画三角形<br>使用 border 代替 width、height、，然后选定一个方向，将其他方向的颜色指定为透明色即可</li><li>css3 画空心三角形<br>这个我当时没有回答出来，一个简单的方法是使用伪元素或者其他元素通过定位，画一个小一点的三角形，然后背景色改为透明色即可；由这种想法还可以通过画同样大小的三角形，然后一个靠上，一个靠下，这样就能画出一个箭头的形状</li></ul></blockquote><h3 id="各种居中问题"><a href="#各种居中问题" class="headerlink" title="各种居中问题"></a>各种居中问题</h3><blockquote><p>水平居中</p><ul><li>行内元素通过：text-align: center; 即可</li><li>块状元素通过：margin: auto; 或者定位元素的话，可以通过 left: 50%; transform: translateX(-50%); 如果知道宽高的话，还可以通过 left: 50%; margin-left: -一半的宽即可</li></ul><p>垂直居中</p><ul><li>行内元素通过设定和 height 一样大小的 line-height 即可</li><li>块状元素有几种方式都可以：针对定位元素：1、在知道宽高的情况下，通过 top：50%; margin-top: -一半的高度即可；2、不知道宽高的情况下可以通过 top: 50%; transform: translateY(-50%); 即可；或者通过 left、top、bottom、right 设定为 0，然后 margin: auto 即可</li></ul></blockquote><h3 id="promise-的相关问题"><a href="#promise-的相关问题" class="headerlink" title="promise 的相关问题"></a>promise 的相关问题</h3><pre><code>以下代码输出什么</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">promiseConsole</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="title function_">reject</span>(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">  promise</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">promiseConsole</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出为：1、2、4、5，promise在构建的时候，就会执行 executor 函数，resolve 和 reject 两个函数作为参数传递给 executor，所以先输出 1，然后reject和resolve属于微任务（异步），所以接下来输出 2，然后再输出 4，最后先执行 reject 所以输出5、因为执行了 reject，所以后续就不执行了</span></span><br></pre></td></tr></table></figure><h3 id="共享屏幕的编码"><a href="#共享屏幕的编码" class="headerlink" title="共享屏幕的编码"></a>共享屏幕的编码</h3><p>将 data 数据转换为 data1（即是将 js 的数据转换为树状结构，或者说目录型的）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">101</span>, <span class="attr">name</span>: <span class="string">&quot;1&quot;</span>, <span class="attr">pid</span>: -<span class="number">1</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">102</span>, <span class="attr">name</span>: <span class="string">&quot;1-1&quot;</span>, <span class="attr">pid</span>: <span class="number">101</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">103</span>, <span class="attr">name</span>: <span class="string">&quot;1-1-1&quot;</span>, <span class="attr">pid</span>: <span class="number">102</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">104</span>, <span class="attr">name</span>: <span class="string">&quot;1-2 &quot;</span>, <span class="attr">pid</span>: <span class="number">101</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">202</span>, <span class="attr">name</span>: <span class="string">&quot;2-3&quot;</span>, <span class="attr">pid</span>: <span class="number">201</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">201</span>, <span class="attr">name</span>: <span class="string">&quot;2&quot;</span>, <span class="attr">pid</span>: -<span class="number">1</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">203</span>, <span class="attr">name</span>: <span class="string">&quot;2-1&quot;</span>, <span class="attr">pid</span>: <span class="number">201</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">204</span>, <span class="attr">name</span>: <span class="string">&quot;2-2&quot;</span>, <span class="attr">pid</span>: <span class="number">201</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">301</span>, <span class="attr">name</span>: <span class="string">&quot;3&quot;</span>, <span class="attr">pid</span>: -<span class="number">1</span> &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data1 = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="number">101</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">    <span class="attr">pid</span>: -<span class="number">1</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">102</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;1-1&quot;</span>,</span><br><span class="line">        <span class="attr">pid</span>: <span class="number">101</span>,</span><br><span class="line">        <span class="attr">children</span>: [&#123; <span class="attr">id</span>: <span class="number">103</span>, <span class="attr">name</span>: <span class="string">&quot;1-1-1&quot;</span>, <span class="attr">pid</span>: <span class="number">102</span> &#125;],</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">104</span>, <span class="attr">name</span>: <span class="string">&quot;1-2 &quot;</span>, <span class="attr">pid</span>: <span class="number">101</span> &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="number">201</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;2&quot;</span>,</span><br><span class="line">    <span class="attr">pid</span>: -<span class="number">1</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">202</span>, <span class="attr">name</span>: <span class="string">&quot;2-3&quot;</span>, <span class="attr">pid</span>: <span class="number">201</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">203</span>, <span class="attr">name</span>: <span class="string">&quot;2-1&quot;</span>, <span class="attr">pid</span>: <span class="number">201</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">204</span>, <span class="attr">name</span>: <span class="string">&quot;2-2&quot;</span>, <span class="attr">pid</span>: <span class="number">201</span> &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">301</span>, <span class="attr">name</span>: <span class="string">&quot;3&quot;</span>, <span class="attr">pid</span>: -<span class="number">1</span> &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1、非递归，使用 map 不改变原有数组</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toTree</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> map = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    map[item.<span class="property">id</span>] = item;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line"></span><br><span class="line">  arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> parent = map[item.<span class="property">pid</span>];</span><br><span class="line">    <span class="keyword">if</span> (parent) &#123;</span><br><span class="line">      parent.<span class="property">children</span> = parent.<span class="property">children</span> || [];</span><br><span class="line">      parent.<span class="property">children</span>.<span class="title function_">push</span>(item);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res.<span class="title function_">push</span>(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">toTree</span>(data));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、递归，不改变原有数组</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toTree2</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> map = &#123;&#125;;</span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line"></span><br><span class="line">  arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    map[item.<span class="property">id</span>] = item;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  res = <span class="title function_">recur</span>(arr, map, -<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">recur</span>(<span class="params">arr, mapArr, rootVal</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line">  arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.<span class="property">pid</span> == rootVal) &#123;</span><br><span class="line">      <span class="keyword">const</span> children = <span class="title function_">recur</span>(arr, mapArr, item.<span class="property">id</span>);</span><br><span class="line">      <span class="keyword">if</span> (children.<span class="property">length</span> != <span class="number">0</span>) &#123;</span><br><span class="line">        item.<span class="property">children</span> = children;</span><br><span class="line">      &#125;</span><br><span class="line">      res.<span class="title function_">push</span>(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">toTree2</span>(data));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3、递归，改变原有数组</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toTree3</span>(<span class="params">list, rootValue</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> arr = [];</span><br><span class="line">  list.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.<span class="property">pid</span> === rootValue) &#123;</span><br><span class="line">      <span class="keyword">const</span> children = <span class="title function_">toTree3</span>(list, item.<span class="property">id</span>);</span><br><span class="line">      <span class="keyword">if</span> (children.<span class="property">length</span>) &#123;</span><br><span class="line">        item.<span class="property">children</span> = children;</span><br><span class="line">      &#125;</span><br><span class="line">      arr.<span class="title function_">push</span>(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">toTree3</span>(data, -<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4、使用 reduce</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">toTree4</span> = (<span class="params">arr</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 最终树形数组</span></span><br><span class="line">  <span class="keyword">const</span> treeData = [];</span><br><span class="line">  <span class="comment">// 深拷贝</span></span><br><span class="line">  <span class="keyword">const</span> arrClone = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(arr));</span><br><span class="line">  <span class="comment">// 映射表 =&gt; 快速找到上级</span></span><br><span class="line">  <span class="keyword">const</span> mapInfo = arrClone.<span class="title function_">reduce</span>(<span class="function">(<span class="params">obj, item</span>) =&gt;</span> &#123;</span><br><span class="line">    item.<span class="property">children</span> = [];</span><br><span class="line">    obj[item.<span class="property">id</span>] = item;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">  &#125;, &#123;&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 转树</span></span><br><span class="line">  arrClone.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> parent = mapInfo[item.<span class="property">pid</span>];</span><br><span class="line">    <span class="comment">// 如果父节点存在, 直接push到父级的children数组里面</span></span><br><span class="line">    <span class="comment">// 如果父级不存在, 说明本身就是一级, 直接push到treeData数组</span></span><br><span class="line">    parent ? parent.<span class="property">children</span>.<span class="title function_">push</span>(item) : treeData.<span class="title function_">push</span>(item);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// 打印结果</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(treeData);</span><br><span class="line">  <span class="comment">// 查看原数组是否有变化</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">  <span class="keyword">return</span> treeData;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">toTree4</span>(data);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5、使用filter</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toTree5</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="comment">// 深拷贝避免影响源数据</span></span><br><span class="line">  <span class="keyword">const</span> cloneData = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(arr));</span><br><span class="line">  <span class="keyword">return</span> cloneData.<span class="title function_">filter</span>(<span class="function">(<span class="params">father</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 循环所有项，并添加children属性</span></span><br><span class="line">    <span class="comment">// 筛选出此项的所有子元素</span></span><br><span class="line">    <span class="keyword">const</span> branchArr = cloneData.<span class="title function_">filter</span>(<span class="function">(<span class="params">child</span>) =&gt;</span> father.<span class="property">id</span> === child.<span class="property">pid</span>);</span><br><span class="line">    <span class="comment">// 给父级添加一个children属性，并赋值</span></span><br><span class="line">    branchArr.<span class="property">length</span> &gt; <span class="number">0</span> ? (father.<span class="property">children</span> = branchArr) : <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">// father.children = branchArr 如果希望每个元素无论有没有children都添加children属性  可以直接赋值</span></span><br><span class="line">    <span class="comment">// 返回pid为&#x27;-1&#x27;的顶级节点</span></span><br><span class="line">    <span class="keyword">return</span> father.<span class="property">pid</span> === -<span class="number">1</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">toTree5</span>(data);</span><br></pre></td></tr></table></figure><pre><code>希望通过大量的面试还有自己的总结以及相关知识的进一步学习，能够在秋招时找到一份还不错的工作！</code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（2-5）</title>
      <link href="/post/cc1b257f.html"/>
      <url>/post/cc1b257f.html</url>
      
        <content type="html"><![CDATA[<h2 id="ES6-相关"><a href="#ES6-相关" class="headerlink" title="ES6 相关"></a>ES6 相关</h2><h3 id="ES6-新增的功能"><a href="#ES6-新增的功能" class="headerlink" title="ES6 新增的功能"></a>ES6 新增的功能</h3><h3 id="var、let、const"><a href="#var、let、const" class="headerlink" title="var、let、const"></a>var、let、const</h3><p>var 声明变量存在变量提升，let 和 const 不存在变量提升</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// undefined  ===&gt;  a已声明还没赋值，默认得到undefined值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="comment">// 报错：b is not defined  ===&gt; 找不到b这个变量</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br><span class="line"><span class="comment">// 报错：c is not defined  ===&gt; 找不到c这个变量</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> c = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// a=100</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br></pre></td></tr></table></figure><p>let 和 const 只能在块作用域里访问</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="number">1</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line">  <span class="keyword">let</span> b = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">const</span> c = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 100</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="comment">// 报错：b is not defined  ===&gt; 找不到b这个变量</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br><span class="line"><span class="comment">// 报错：c is not defined  ===&gt; 找不到c这个变量</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c);</span><br></pre></td></tr></table></figure><p>同一作用域下 let 和 const 不能声明同名变量，而 var 可以</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="comment">// 控制台输出 100</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// 控制台输出 10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 控制台报错：Identifier &#x27;a&#x27; has already been declared  ===&gt; 标识符a已经被声明了。</span></span><br></pre></td></tr></table></figure><p>const 定义常量，而且不能修改，但是在定义的对象时对象属性值可以改变。因为常量指的是内存中的地址，只要地址不变，地址里面的值如果是基础值，可以修改</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">2</span>;</span><br><span class="line">a = <span class="number">3</span>;</span><br><span class="line"><span class="comment">// 控制台报错</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;make&quot;</span>,</span><br><span class="line">  <span class="attr">sex</span>: <span class="string">&quot;男&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">person.<span class="property">name</span> = <span class="string">&quot;test&quot;</span>;</span><br><span class="line"><span class="comment">// 运行发现控制台没有报错，且 person.name 被成功修改</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>);</span><br></pre></td></tr></table></figure><h3 id="symbol"><a href="#symbol" class="headerlink" title="symbol"></a>symbol</h3><p>Symbol 是 ES6 中引入的一种新的基本数据类型，用于表示一个独一无二的值，不能与其他数据类型进行运算</p><p>使用 Symbol()创建一个 Symbol 类型的值并赋值给 a 变量后，你就得到了一个在内存中独一无二的值。现在除了通过变量 a，任何人在任何作用域内都无法重新创建出这个值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="title class_">Symbol</span>();</span><br><span class="line"><span class="keyword">const</span> b = <span class="title class_">Symbol</span>();</span><br></pre></td></tr></table></figure><h3 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h3><blockquote><ul><li>在 ES6 之前，处理模板字符串：通过“\”和“+”来构建模板</li><li>对 ES6 来说：用${}来界定；反引号(&#96;&#96;)直接搞定</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">&quot;xxxxxx&quot;</span>;</span><br><span class="line"><span class="comment">// es6之前</span></span><br><span class="line"><span class="keyword">let</span> html = <span class="string">&quot;&lt;div&gt; + &lt;a&gt; &quot;</span> + url + <span class="string">&quot; &lt;/a&gt;&lt;/div&gt;&quot;</span>;</span><br><span class="line"><span class="comment">// es6</span></span><br><span class="line"><span class="keyword">let</span> eshtml = <span class="string">`&lt;div&gt;&lt;a&gt;<span class="subst">$&#123;url&#125;</span>&lt;/a&gt;&lt;/div&gt;`</span>;</span><br></pre></td></tr></table></figure><h3 id="字符串新方法"><a href="#字符串新方法" class="headerlink" title="字符串新方法"></a>字符串新方法</h3><blockquote><ul><li>includes()判断字符串是否包含参数字符串，返回 boolean 值</li><li>startsWith() | endsWith()，判断字符串是否以参数字符串开头或结尾。返回 boolean 值。这两个方法可以有第二个参数，一个数字，表示开始查找的位置</li><li>repeat()方法按指定次数返回一个新的字符串</li><li>padStart()&#x2F;padEnd()，用参数字符串按给定长度从前面或后面补全字符串，返回新字符串</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;blue,red,orange,white&quot;</span>;</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line">str.<span class="title function_">includes</span>(<span class="string">&quot;blue&quot;</span>);</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line">str.<span class="title function_">startsWith</span>(<span class="string">&quot;blue&quot;</span>);</span><br><span class="line"><span class="comment">// false</span></span><br><span class="line">str.<span class="title function_">endsWith</span>(<span class="string">&quot;blue&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x27;hellohello&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello&quot;</span>.<span class="title function_">repeat</span>(<span class="number">2</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = <span class="string">&quot;hell&quot;</span>;</span><br><span class="line"><span class="comment">// &#x27;hello&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">padEnd</span>(<span class="number">5</span>, <span class="string">&quot;o&quot;</span>));</span><br><span class="line"><span class="comment">// &#x27;helloo&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">padEnd</span>(<span class="number">6</span>, <span class="string">&quot;o&quot;</span>));</span><br><span class="line"><span class="comment">// &#x27;hell  &#x27;,如果没有指定将用空格代替</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">padEnd</span>(<span class="number">6</span>));</span><br><span class="line"><span class="comment">// &#x27;ohell&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">padStart</span>(<span class="number">5</span>, <span class="string">&quot;o&quot;</span>));</span><br></pre></td></tr></table></figure><h3 id="解构表达式"><a href="#解构表达式" class="headerlink" title="解构表达式"></a>解构表达式</h3><p>字符串、以及 ES6 新增的 Map 和 Set 都可以使用解构表达式</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数组解构</span></span><br><span class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="comment">// 1, 2, 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">1</span>, , <span class="number">3</span>];</span><br><span class="line"><span class="comment">// 1, undefined, 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [a,,b] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="comment">// 1, 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b);</span><br><span class="line"><span class="keyword">let</span> [a,..<span class="property">b</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="comment">// ...是剩余运算符，表示赋值运算符右边除第一个值外剩余的都赋值给b</span></span><br><span class="line"><span class="comment">// 1, [2, 3]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象解构</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&quot;ren&quot;</span>,</span><br><span class="line"><span class="attr">age</span>: <span class="number">12</span>,</span><br><span class="line"><span class="attr">sex</span>: <span class="string">&quot;male&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; name, age, sex &#125; = obj;</span><br><span class="line"><span class="comment">// &#x27;ren&#x27; 12 &#x27;male&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name, age, sex);</span><br><span class="line"><span class="comment">// 自定义变量名</span></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">name</span>: myName, <span class="attr">age</span>: myAge, <span class="attr">sex</span>: mySex &#125; = obj;</span><br><span class="line"><span class="comment">// &#x27;ren&#x27; 12 &#x27;male&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myName, myAge, mySex);</span><br></pre></td></tr></table></figure><h3 id="map-和-set"><a href="#map-和-set" class="headerlink" title="map 和 set"></a>map 和 set</h3><blockquote><ul><li>object 的键只能是字符串或 ES6 的 symbol 值，而 Map 可以是任何值</li><li>Map 对象有一个 size 属性，存储了键值对的个数，而 object 对象没有类似属性</li><li>Set 对象和 Map 对象类似，但它存储不是键值对。类似数组，但它的每个元素都是唯一的</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myMap = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">  [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;ren&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;age&quot;</span>, <span class="number">12</span>],</span><br><span class="line">]);</span><br><span class="line"><span class="comment">// &#123;&#x27;name&#x27;=&gt;&#x27;ren&#x27;,&#x27;age&#x27;=&gt;12&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myMap);</span><br><span class="line"></span><br><span class="line">myMap.<span class="title function_">set</span>(<span class="string">&quot;sex&quot;</span>, <span class="string">&quot;male&quot;</span>);</span><br><span class="line"><span class="comment">// &#123;&#x27;name&#x27;=&gt;&#x27;ren&#x27;,&#x27;age&#x27;=&gt;12,&#x27;sex&#x27;=&gt;&#x27;male&#x27;&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myMap);</span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myMap.<span class="property">size</span>);</span><br><span class="line"><span class="comment">// &#x27;ren&#x27;</span></span><br><span class="line">myMap.<span class="title function_">get</span>(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line">myMap.<span class="title function_">has</span>(<span class="string">&quot;age&quot;</span>);</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line">myMap.<span class="title function_">delete</span>(<span class="string">&quot;age&quot;</span>);</span><br><span class="line"><span class="comment">// false</span></span><br><span class="line">myMap.<span class="title function_">has</span>(<span class="string">&quot;age&quot;</span>);</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line">myMap.<span class="title function_">get</span>(<span class="string">&quot;age&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 里面要传一个数组，否则会报错</span></span><br><span class="line"><span class="keyword">let</span> mySet = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line"><span class="comment">// &#123;1, 2, 3&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mySet);</span><br><span class="line"></span><br><span class="line">mySet.<span class="title function_">add</span>(<span class="number">4</span>);</span><br><span class="line"><span class="comment">// &#123;1, 2, 3, 4&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mySet);</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line">mySet.<span class="title function_">delete</span>(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// false</span></span><br><span class="line">mySet.<span class="title function_">has</span>(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// &#123;2, 3, 4&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mySet);</span><br></pre></td></tr></table></figure><p>利用 Set 对象唯一性的特点，可以轻松实现数组的去重</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mySet = <span class="keyword">new</span> <span class="title class_">Set</span>(arr);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> newArr = <span class="title class_">Array</span>.<span class="title function_">from</span>(mySet);</span><br><span class="line"><span class="comment">// [1, 2, 3, 4]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newArr);</span><br></pre></td></tr></table></figure><h3 id="数组的新方法"><a href="#数组的新方法" class="headerlink" title="数组的新方法"></a>数组的新方法</h3><blockquote><ul><li>Array.from() 是内置对象 Array 的方法，实例数组不能调用</li><li>includes()、map()、filter()、forEach()、find()、some()、every()</li><li>Array.from() 三个参数：第一个表示将被转换的可迭代对象(如果只有一个参数就是把形参转变成数组)；第二个是回调函数，将对每个数组元素应用该回调函数，然后返回新的值到新数组；第三个是回调函数内 this 的指向</li><li>map() 要利用原数组经过运算后的数组，或者从对象数组中拿某个属性</li><li>filter() 是将符合挑选的筛选出来成为一个新数组，新数组不会影响旧数组</li><li>forEach() 是循环遍历数组中的每一项，没有返回值</li><li>find() 是查找数组中符合条件的第一个元素，直接将这个元素返回出来</li><li>some() 找到一个符合条件的就返回 true,所有都不符合返回 false</li><li>every() 数组所有值都符合条件才会返回 true,有一个不符合返回 false</li></ul></blockquote><h3 id="object-的新方法"><a href="#object-的新方法" class="headerlink" title="object 的新方法"></a>object 的新方法</h3><pre><code>在 ES6 中，添加了Object.is()、Object.assign()、Object.keys()、Object.values()、Object.entries()等方法</code></pre><blockquote><ul><li>Object.is()方法用来判断两个值是否为同一个值，返回一个布尔类型的值</li><li>Object.assign()方法用于将所有可枚举属性的值从一个或多个源对象分配到目标对象，并返回目标对象</li><li>Object.keys() 返回对象所有属性；Object.values() 返回对象所有属性值；Object.entries() 返回多个数组，每个数组是 key–value</li></ul></blockquote><h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><blockquote><ul><li>箭头函数实现了一种更加简洁的书写方式。箭头函数内部没有 arguments，也没有 prototype 属性，所以不能用 new 关键字调用箭头函数</li><li>箭头函数和普通函数最大的区别在于其内部 this 永远指向其父级对象的 this</li><li><strong>作为方法的箭头函数 this 指向全局 window 对象，而普通函数则指向调用它的对象</strong></li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="number">456</span>,</span><br><span class="line">  <span class="attr">say</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// this指向window</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">age</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 123</span></span><br><span class="line">obj.<span class="title function_">say</span>();</span><br></pre></td></tr></table></figure><h3 id="类"><a href="#类" class="headerlink" title="类"></a>类</h3><blockquote><ul><li>class 作为对象的模板被引入 ES6，你可以通过 class 关键字定义类。class 的本质依然是一个函数</li><li>类的继承通过 extends 关键字实现</li><li>子类必须在 constructor 中调用 super()</li></ul></blockquote><h3 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h3><blockquote><ul><li>ES6 使用关键字 import 导入模块（文件），有两种常用的方式</li><li>ES6 通过 export 和 export default 导出模块</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入</span></span><br><span class="line"><span class="keyword">import</span> ‘模块名称’  <span class="keyword">from</span>  ‘路径’；</span><br><span class="line"><span class="keyword">import</span>  ‘路径’；</span><br><span class="line"><span class="comment">// 导出</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;ren&#x27;</span>,age = <span class="number">12</span>;</span><br><span class="line"><span class="comment">// 注意：变量需要用大括号包裹，然后才能向外输出</span></span><br><span class="line"><span class="keyword">export</span> &#123;name, age&#125;;</span><br></pre></td></tr></table></figure><h3 id="模块化优点"><a href="#模块化优点" class="headerlink" title="模块化优点"></a>模块化优点</h3><blockquote><ul><li>防止命名冲突</li><li>复用性强</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（2-4）</title>
      <link href="/post/74a7421a.html"/>
      <url>/post/74a7421a.html</url>
      
        <content type="html"><![CDATA[<h2 id="promise-相关"><a href="#promise-相关" class="headerlink" title="promise 相关"></a>promise 相关</h2><pre><code>promise的then是异步还是同步？all是异步还是同步？async、await呢？</code></pre><p>首先，promise 的构造函数是同步的，但是它的 then 是异步的，all 也是异步的</p><p>语法：<code>new Promise(function(resolve,reject)&#123;&#125;)</code></p><blockquote><p>构建 Promise 对象时，需要传入一个 executor 函数，主要业务流程都在 executor 函数中执行<br><strong>Promise 构造函数执行时立即调用 executor 函数</strong>，resolve 和 reject 两个函数作为参数传递给 executor，resolve 和 reject 函数被调用时，分别将 promise 的状态改为 fulfilled(完成)或者 rejected(失败)。一旦状态改变，就不会再变，任何时候都可以得到这个结果<br>在 executor 函数中调用 resolve 函数后，会触发 promise.then 设置的回调函数，而调用 reject 函数后，会触发 promise.catch 设置的回调函数</p></blockquote><p>例子：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 输出依次是1、2、3</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="title function_">resolve</span>(<span class="number">3</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 结果为2、3、1</span></span><br><span class="line"><span class="keyword">let</span> a1=<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span> 采用了回调函数延迟绑定技术，在执行 resolve 函数的时候，回调函数还没有绑定，那么只能推迟回调函数的执行</span><br></pre></td></tr></table></figure><p>再比如：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a=<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&quot;张三丰&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">&#125;)</span><br><span class="line">a.<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;成功&quot;</span> + res);</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;失败&quot;</span> + reason);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出为：1、2、3、成功 张三丰</span></span><br><span class="line"></span><br><span class="line">解释：<span class="keyword">new</span> <span class="title class_">Promise</span> 的时候先执行 executor 函数，打印出 <span class="number">1</span>、<span class="number">2</span>,<span class="title class_">Promise</span> 在执行 resolve 时，触发微任务，还是继续往下执行同步任务，执行 a.<span class="property">then</span> 时，存储起来两个函数（此时这两个函数还没有执行）然后打印出 <span class="number">3</span>，此时同步任务执行完成，最后执行刚刚那个微任务，从而执行.<span class="property">then</span> 中成功的方法</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;a&quot;</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve,reject</span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">  <span class="title function_">resolve</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">a</span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;d&quot;</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;e&quot;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;f&quot;</span>);</span><br><span class="line"><span class="comment">// abcfde</span></span><br><span class="line"></span><br><span class="line">在promise对象方法中then和<span class="keyword">catch</span>方法本身都是异步的</span><br><span class="line">在promise对象中出来then和<span class="keyword">catch</span>是异步之外，其他的都是同步的</span><br></pre></td></tr></table></figure><h2 id="promise-的进一步学习"><a href="#promise-的进一步学习" class="headerlink" title="promise 的进一步学习"></a>promise 的进一步学习</h2><h3 id="函数对象与实例对象"><a href="#函数对象与实例对象" class="headerlink" title="函数对象与实例对象"></a>函数对象与实例对象</h3><blockquote><ul><li>函数对象：将函数作为对象使用时，简称为函数对象</li><li>实例对象：new 函数产生的对象，简称为对象</li></ul></blockquote><h3 id="回调函数的类别"><a href="#回调函数的类别" class="headerlink" title="回调函数的类别"></a>回调函数的类别</h3><blockquote><p>同步回调:</p><ul><li>概念：立即执行，完全执行完了才结束，不会放入回调队列中</li><li>比如：数组遍历相关的回调函数 | Promise 的 excutor 函数<br>异步回调:</li><li>概念：不会立即执行，会放入回调队列中将来执行</li><li>比如：定时器回调 | ajax 回调 | Promise 的成功（resolve）| 失败（reject）的回调</li></ul></blockquote><h3 id="promise-的优势"><a href="#promise-的优势" class="headerlink" title="promise 的优势"></a>promise 的优势</h3><blockquote><p>指定回调函数的方式更加灵活：可以在请求发出甚至结束后指定回调函数<br>支持链式调用，可以解决回调地狱问题</p></blockquote><h3 id="async-与-await"><a href="#async-与-await" class="headerlink" title="async 与 await"></a>async 与 await</h3><blockquote><p>async 函数</p><ul><li>函数的返回值为 promise 对象</li><li>promise 对象的结果由 async 函数执行的返回值决定</li><li>async 函数中使用 return 返回的内容可以通过 then 来获取</li></ul><p>await 表达式</p><ul><li>await 右侧的表达式一般为 promise 对象, 但也可以是其它的值</li><li>如果表达式是 promise 对象, await 返回的是 promise 成功的值</li><li>如果表达式是其它值, 直接将此值作为 await 的返回值</li><li><strong>await 那一句会同步执行，但是它下面的语句就变成了异步的了，类似 callback 的功能（微任务）。即，只要遇到了 <code>await</code> ，后面的代码都相当于放在 callback 里</strong></li></ul><p>注意</p><ul><li>await 必须写在 async 函数中, 但 async 函数中可以没有 await</li><li>如果 await 的 promise 失败了, 就会抛出异常, 需要通过 try…catch 来捕获处理</li></ul></blockquote><p>例子：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;async1 start&quot;</span>);</span><br><span class="line">  <span class="comment">// 这一句会同步执行，返回 Promise ，其中的 `console.log(&#x27;async2&#x27;)` 也会同步执行</span></span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">async2</span>();</span><br><span class="line">  <span class="comment">// 上面有 await ，下面就变成了“异步”，类似 callback 的功能（微任务）</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;async1 end&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;async2&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;script start&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 异步，宏任务</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;setTimeout&quot;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">async1</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回 Promise 之后，即同步执行完成，then 是异步代码</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve</span>) &#123;</span><br><span class="line">  <span class="comment">// Promise 的函数体会立刻执行</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;promise1&quot;</span>);</span><br><span class="line">  <span class="title function_">resolve</span>();</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// then 异步，微任务</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;promise2&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;script end&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出为：script start、async1 start、async2、promise1、script end、async1 end、promise2、setTimeout</span></span><br></pre></td></tr></table></figure><h3 id="宏任务和微任务"><a href="#宏任务和微任务" class="headerlink" title="宏任务和微任务"></a>宏任务和微任务</h3><blockquote><p>宏任务：setTimeout、setInterval、DOM 事件等<br>微任务：promise、async&#x2F;await</p></blockquote><h3 id="事件循环的执行顺序"><a href="#事件循环的执行顺序" class="headerlink" title="事件循环的执行顺序"></a>事件循环的执行顺序</h3><p>先执行同步代码 -&gt; 微任务 -&gt; DOM 渲染 -&gt; 宏任务</p><p>例子：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hi&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  $(<span class="string">&quot;#btn1&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;clicked&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Bye&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">输出为：Hi、Bye、点击时执行clicked</span><br></pre></td></tr></table></figure><h3 id="for…of"><a href="#for…of" class="headerlink" title="for…of"></a>for…of</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定时算乘法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">multi</span>(<span class="params">num</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(num * num);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 forEach ，是 1s 之后打印出所有结果，即 3 个值是一起被计算出来的</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">  nums.<span class="title function_">forEach</span>(<span class="keyword">async</span> (x) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">multi</span>(x);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test1</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 for...of ，可以让计算挨个串行执行</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> nums) &#123;</span><br><span class="line">    <span class="comment">// 在 for...of 循环体的内部，遇到 await 会挨个串行计算</span></span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">multi</span>(x);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test2</span>();</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（2-3）</title>
      <link href="/post/e9707aa3.html"/>
      <url>/post/e9707aa3.html</url>
      
        <content type="html"><![CDATA[<h2 id="grid-布局"><a href="#grid-布局" class="headerlink" title="grid 布局"></a>grid 布局</h2><p>grid 布局与 flex 布局相同之处在于：都有分别针对于父元素与子元素的一些属性。<br>grid 布局与 flex 布局不同之处在于：flex 布局是轴线布局，只能指定“子元素”针对轴线的位置，可以看作是一维布局，grid 布局则是将容器划分成“行”和“列”，产生单元格，然后指定“子元素所在”的单元格，可以看作是二维布局。</p><h3 id="常见父元素属性"><a href="#常见父元素属性" class="headerlink" title="常见父元素属性"></a>常见父元素属性</h3><blockquote><p>常见的父元素属性主要有 7 种：</p><ul><li>grid-template-系列：包含 grid-template-columns（设置列数）以及 grid-template-rows（设置行数）</li><li>gap： 设置行或列之间间距</li><li>grid-template-areas： 设置单元格区域，区域由单元格组成</li><li>grid-auto-flow：设置子元素的排放顺序，默认是“先行后列”</li><li>justify-items 与 align-items：设置单元格内容的对齐方向</li><li>justify-content 与 align-content：设置整个内容区域的对齐方向</li><li>grid-auto-columns 与 grid-auto-rows 系列：用于设置多出来的子元素的宽或高</li></ul></blockquote><p>创建两个 50px 高的行和两个 200px 宽的列<br><code>grid-template: 50px 50px / 200px 200px</code></p><ul><li>如果设置的每行（每列）的高度（宽度）相同的话，如上述 <code>grid-template-columns：100px 100px 100px</code>，就可以使用 repeat 函数，用法为：<code>grid-template-columns：repeat(3, 100px)</code></li></ul><p><code>repeat(number, px)</code>: 其中第一个参数表示重复次数，第二个参数表示所要重复的数值；</p><ul><li><p>若单元格的大小是固定的，但是父元素的大小不确定，此时可用 auto-fill 自动填充父元素</p></li><li><p>repeat(auto-fill, 100px) 表示 100px 自动填充，直至父元素填满；</p></li><li><p>如未指定父元素的宽度，则不断拖动浏览器宽度时，每行排列的列数是不断变化的，排不满就挤到下一行；</p></li><li><p>若设置每一部分占父元素的比例为多少，可通过单位 fr 实现。fr 是 fraction（片段）的意思</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 分成<span class="number">3</span>份，每个占一份</span><br><span class="line"><span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">3</span>, <span class="number">1</span>fr);</span><br><span class="line">// 也可写成</span><br><span class="line"><span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">// 分成<span class="number">3</span>份 第一部分占一份 第二部分占<span class="number">2</span>份 第三部分占三份</span><br><span class="line"><span class="attribute">grid-template</span>-column: <span class="number">1</span>fr <span class="number">2</span>fr <span class="number">3</span>fr;</span><br></pre></td></tr></table></figure><ul><li>若限制子元素最大值与最小值，可使用 minmax 设置<br><code>minmax: &lt;最小值&gt; &lt;最大值&gt;</code><br><code>grid-template-column: 100px minmax(100px, 200px) 100px</code></li><li>设置了 minmax 值后，在拖动浏览器放大时，最大不能超过 200px，缩小时，最小不能少于 100px，即不能再放大缩小；</li></ul><h3 id="网格线"><a href="#网格线" class="headerlink" title="网格线"></a>网格线</h3><pre><code>网格线在页面上看不出来，但是在设置完行和列之后，自动会有网格线生成；若有3行，则会有4个网格线，有4列，则有5条网格线</code></pre><p>网格线也可以命名，用方括号表示，如下 ：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 行方向定义了两行，有三条网格线，分别命名r1 r2 r3</span><br><span class="line"><span class="attribute">grid-template-rows</span>: [r1] <span class="number">100px</span> [r2] <span class="number">100px</span> [r3];</span><br><span class="line">// 列方向定义了三列，有四条网格线，分别命名为c1 c2 c3 c4</span><br><span class="line"><span class="attribute">grid-template-columns</span>: [c1] <span class="number">100px</span> [c2] <span class="number">100px</span> [c3] <span class="number">200px</span> [c4];</span><br></pre></td></tr></table></figure><h3 id="gap-系列"><a href="#gap-系列" class="headerlink" title="gap 系列"></a>gap 系列</h3><p>gap 是指行之间或列之间的间距；gap 是 column-gap（列间距）和 row-gap（行间距）的合并形式。若行距和列距相同，可将 gap 简写为 gap： 10px<br><code>gap : &lt;row-gap&gt; &lt;column-gap&gt;</code></p><p><strong>注意</strong>：以前标准是 grid-column-gap 和 grid-row-gap 和 grid-gap，现在都将 grid 前缀给去掉了～</p><h3 id="grid-template-areas"><a href="#grid-template-areas" class="headerlink" title="grid-template-areas"></a>grid-template-areas</h3><p>areas 指区域，是由单个或多个单元格组成（数量由子元素属性自定义）<br><code>grid-template-areas: &#39;a b c&#39; &#39;d e f&#39; &#39;g h i&#39;;</code><br>上述代码表示第一行为三个区域 区域名分别为 a b c 第二行和第三行也分别划分了各自的三个区域；行之间用空格表示；</p><p>当然，单元格也可以是同一个区域，如：<br><code>grid-template-areas: &#39;a a a&#39; &#39;d e f&#39; &#39;b b b&#39;;</code><br>第一行全部为 a 区域，第三行全部为 b 区域；（相同命名的单元格属于一个区域）</p><p>若不想给某个单元格命名，可用点.表示<br><code>grid-template-areas: &#39;a . a&#39; &#39;d . f&#39; &#39;b b b&#39;;</code></p><p>如第一行和第二行的第二列单元格并不想命名，就可以用.表示。为书写美观，可写成如下：<br><code>grid-template-areas: &#39;a a a&#39;                       &#39;d e f&#39;                       &#39;b b b&#39;;</code></p><p><em>区域的命名和网格线的命名会影响到网格线，每个区域的起始网格线会自动命名为区域名-start，终止网格线自动命名为区域名-end ～</em></p><h3 id="grid-auto-flow"><a href="#grid-auto-flow" class="headerlink" title="grid-auto-flow"></a>grid-auto-flow</h3><p>父元素设为 grid 布局之后，对应的子元素会按照顺序，自动放置在每一个网格，默认的放置位置是“先行后列”，即先填满第一行，再开始放入第二行；参数有两个： row 和 column</p><h3 id="justify-items-与-align-items"><a href="#justify-items-与-align-items" class="headerlink" title="justify-items 与 align-items"></a>justify-items 与 align-items</h3><p>用于设置单元格内容的水平和垂直的对齐方式；其中 justify-items 用于设置水平对齐方式，align-items 用于表示垂直对齐方式；</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">justify-items： start ｜ end ｜ center ｜ stretch（默认start）</span><br><span class="line"><span class="attribute">align-items</span>： start ｜ end ｜ center ｜ stretch（默认start）</span><br></pre></td></tr></table></figure><p><em>place-items 属性是 align-items 属性和 justify-items 属性的合并形式：</em><br><code>place-items: &lt;align-items&gt; &lt;justify-items&gt;;</code></p><h3 id="justify-content-与-align-content"><a href="#justify-content-与-align-content" class="headerlink" title="justify-content 与 align-content"></a>justify-content 与 align-content</h3><p>用于设置<em>整个内容区域</em>的对齐方式，其中 justify-content 用于设置整个内容区域的水平方向，align-content 用于设置整个内容区域的垂直方向；各参数含义与 flex 布局一样；</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">justify-content</span>： start ｜ end ｜ center ｜ stretch ｜ space-around ｜ space-between ｜ space-evenly（默认是start）</span><br><span class="line">`<span class="attribute">align-content</span>： start ｜ end ｜ center ｜ stretch ｜ space-around ｜ space-between ｜ space-evenly（默认是start）</span><br></pre></td></tr></table></figure><h3 id="grid-auto-rows-与-grid-auto-columns"><a href="#grid-auto-rows-与-grid-auto-columns" class="headerlink" title="grid-auto-rows 与 grid-auto-columns"></a>grid-auto-rows 与 grid-auto-columns</h3><p>用于设置多出来的宽或高，包含 grid-auto-rows（用于设置高）和 grid-auto-columns（用于设置宽）；在排列方式为先行后列时，可以用 grid-auto-rows 限制多出来子元素的高，在排列方式为先列后行时，可以用 grid-auto-columns 限制多出来子元素的宽；</p><h3 id="常见子元素属性"><a href="#常见子元素属性" class="headerlink" title="常见子元素属性"></a>常见子元素属性</h3><blockquote><p>常见子元素属性有如下 3 种：</p><ul><li>grid-column-系列与 grid-row-系列</li><li>grid-area</li><li>justify-self 与 align-self</li></ul></blockquote><h3 id="grid-column-系列与-grid-row-系列"><a href="#grid-column-系列与-grid-row-系列" class="headerlink" title="grid-column-系列与 grid-row-系列"></a>grid-column-系列与 grid-row-系列</h3><p>grid-column-start 和 grid-column-end 用于指定子元素的开始&#x2F;结束于哪条列网格线，确定子元素的具体位置；</p><blockquote><p>也可以用 span 表示跨越几行或几列：</p><ul><li>grid-row-start：span 2 表示从子元素起始行网格线跨越两条网格线距离；</li><li>grid-row-end：span 2 也表示从子元素起始行网格线跨越两条网格线距离；</li><li>grid-column-start:：span 2 表示从子元素起始列网格线跨越两条网格线距离；</li><li>grid-column-end：span 2 也表示从子元素起始列网格线跨越两条网格线距离；</li></ul></blockquote><blockquote><p>上述亦可简写为：</p><ul><li>grid-column: 1 &#x2F; 3 表示从第一条列网格线开始到第三条列网格线</li></ul></blockquote><blockquote><ul><li>grid-row: 2 &#x2F; 3 表示从第二条行网格线开始到第三条行网格线</li></ul></blockquote><h3 id="grid-area"><a href="#grid-area" class="headerlink" title="grid-area"></a>grid-area</h3><p>用于指定子元素放置在哪个区域内（还记得区域是什么嘛，不记得往上翻翻哦，区域是在父元素中定义好的～）</p><p>如我们定义父元素区域划分为：<br><code>grid-template-areas: &#39;a a a&#39;                      &#39;b c d&#39;;</code></p><p>将某个子元素定义为 a 区域：<br><code>grid-area: a</code></p><p>grid-area 还可以用作 grid-row-start&#x2F;grid-column-start&#x2F;grid-row-end&#x2F;grid-column-end 的合并形式，用于直接指定子元素的具体位置：<br><code>grid-area: &lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt; / &lt;column-end&gt;</code></p><h3 id="justify-self-与-column-self-系列"><a href="#justify-self-与-column-self-系列" class="headerlink" title="justify-self 与 column-self 系列"></a>justify-self 与 column-self 系列</h3><p>用于设置单个子元素的单元格内容的位置， justify-self 用于设置单元格内容的水平方向，align-self 用于设置单元格内容的垂直方向；与上面所述 justify-items 和 align-items 属性用法完全一致，参数也一样；</p><p>place-self 属性是 justify-self 和 align-self 的合并形式：<br><code>place-self: &lt;align-self&gt; &lt;justify-self&gt; </code></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（2-2）</title>
      <link href="/post/51cc1dc6.html"/>
      <url>/post/51cc1dc6.html</url>
      
        <content type="html"><![CDATA[<h2 id="flex-布局"><a href="#flex-布局" class="headerlink" title="flex 布局"></a>flex 布局</h2><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><p>flex 布局是一种布局模型，经常被称之为 flexbox，使用 flex 布局之后，他会给子元素提供强大空间分配和对齐能力。flex 的优点就是避免不灵活的布局形式，创建更多种布局模式供你选择，解决了子元素的对齐和分布与 响应式等问题。缺点是只能依靠自身的布局模式，稍有变化则无法改变。</p><p>CSS 中提供了以下属性来实现 Flex 布局：</p><table><thead><tr><th align="center">选择器</th><th align="center">例子</th></tr></thead><tbody><tr><td align="center">display</td><td align="center">指定 HTML 元素的盒子类型</td></tr><tr><td align="center">flex-direction</td><td align="center">指定弹性盒子中子元素的排列方式</td></tr><tr><td align="center">flex-wrap</td><td align="center">设置当弹性盒子的子元素超出父容器时是否换行</td></tr><tr><td align="center">flex-flow</td><td align="center">flex-direction 和 flex-wrap 两个属性的简写</td></tr><tr><td align="center">justify-content</td><td align="center">设置弹性盒子中元素在主轴（横轴）方向上的对齐方式</td></tr><tr><td align="center">align-items</td><td align="center">设置弹性盒子中元素在侧轴（纵轴）方向上的对齐方式</td></tr><tr><td align="center">align-content</td><td align="center">修改 flex-wrap 属性的行为，类似 align-items，但不是设置子元素对齐，而是设置行对齐</td></tr><tr><td align="center">order</td><td align="center">设置弹性盒子中子元素的排列顺序</td></tr><tr><td align="center">align-self</td><td align="center">在弹性盒子的子元素上使用，用来覆盖容器的 align-items 属性</td></tr><tr><td align="center">flex</td><td align="center">设置弹性盒子中子元素如何分配空间</td></tr><tr><td align="center">flex-grow</td><td align="center">设置弹性盒子的扩展比率</td></tr><tr><td align="center">flex-shrink</td><td align="center">设置弹性盒子的收缩比率</td></tr><tr><td align="center">flex-basis</td><td align="center">设置弹性盒子伸缩基准值</td></tr></tbody></table><h3 id="容器属性"><a href="#容器属性" class="headerlink" title="容器属性"></a>容器属性</h3><blockquote><p>flex-direction<br>flex-direction 属性用来决定主轴的方向（即项目的排列方向），属性的可选值如下：</p></blockquote><table><thead><tr><th align="center">值</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">row</td><td align="center">默认值，主轴沿水平方向从左到右</td></tr><tr><td align="center">row-reverse</td><td align="center">主轴沿水平方向从右到左</td></tr><tr><td align="center">column</td><td align="center">主轴沿垂直方向从上到下</td></tr><tr><td align="center">column-reverse</td><td align="center">主轴沿垂直方向从下到上</td></tr><tr><td align="center">initial</td><td align="center">将此属性设置为属性的默认值</td></tr><tr><td align="center">inherit</td><td align="center">从父元素继承此属性的值</td></tr></tbody></table><blockquote><p>flex-wrap<br>flex-wrap 属性用来设置当弹性盒子的子元素（项目）超出父容器时是否换行，属性的可选值如下：</p></blockquote><table><thead><tr><th align="center">值</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">nowrap</td><td align="center">默认值，表示项目不会换行</td></tr><tr><td align="center">wrap</td><td align="center">表示项目会在需要时换行</td></tr><tr><td align="center">wrap-reverse</td><td align="center">表示项目会在需要时换行，但会以相反的顺序</td></tr><tr><td align="center">initial</td><td align="center">将此属性设置为属性的默认值</td></tr><tr><td align="center">inherit</td><td align="center">从父元素继承属性的值</td></tr></tbody></table><blockquote><p>flex-flow<br>flex-flow 属性是 flex-direction 和 flex-wrap 两个属性的简写，语法格式如下：<br><code>flex-flow: flex-direction flex-wrap;</code></p></blockquote><blockquote><p>justify-content<br>justify-content 属性用于设置弹性盒子中元素在主轴（横轴）方向上的对齐方式，属性的可选值如下：</p></blockquote><table><thead><tr><th align="center">值</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">flex-start</td><td align="center">默认值，左对齐</td></tr><tr><td align="center">flex-end</td><td align="center">右对齐</td></tr><tr><td align="center">center</td><td align="center">居中</td></tr><tr><td align="center">space-between</td><td align="center">两端对齐，项目之间的间隔是相等的</td></tr><tr><td align="center">space-around</td><td align="center">每个项目两侧的间隔相等</td></tr><tr><td align="center">initial</td><td align="center">将此属性设置为属性的默认值</td></tr><tr><td align="center">inherit</td><td align="center">从父元素继承属性的值</td></tr></tbody></table><blockquote><p>align-items<br>align-items 属性用来设置弹性盒子中元素在侧轴（纵轴）方向上的对齐方式，属性的可选值如下：</p></blockquote><table><thead><tr><th align="center">值</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">stretch</td><td align="center">默认值，项目将被拉伸以适合容器</td></tr><tr><td align="center">center</td><td align="center">项目位于容器的中央</td></tr><tr><td align="center">flex-start</td><td align="center">项目位于容器的顶部</td></tr><tr><td align="center">flex-end</td><td align="center">项目位于容器的底部</td></tr><tr><td align="center">baseline</td><td align="center">项目与容器的基线对齐</td></tr><tr><td align="center">initial</td><td align="center">将此属性设置为属性的默认值</td></tr><tr><td align="center">inherit</td><td align="center">从父元素继承属性的值</td></tr></tbody></table><blockquote><p>align-content<br>align-content 属性与 justify-content 属性类似，可以在弹性盒子的侧轴还有多余空间时调整容器内项目的对齐方式，属性的可选值如下：</p></blockquote><table><thead><tr><th align="center">值</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">stretch</td><td align="center">默认值，将项目拉伸以占据剩余空间</td></tr><tr><td align="center">center</td><td align="center">项目在容器内居中排布</td></tr><tr><td align="center">flex-start</td><td align="center">项目在容器的顶部排列</td></tr><tr><td align="center">flex-end</td><td align="center">项目在容器的底部排列</td></tr><tr><td align="center">space-between</td><td align="center">多行项目均匀分布在容器中，其中第一行分布在容器的顶部，最后一行分布在容器的底部</td></tr><tr><td align="center">space-around</td><td align="center">多行项目均匀分布在容器中，并且每行的间距（包括离容器边缘的间距）都相等</td></tr><tr><td align="center">initial</td><td align="center">将此属性设置为属性的默认值</td></tr><tr><td align="center">inherit</td><td align="center">从父元素继承属性的值</td></tr></tbody></table><blockquote><p>order<br>order 属性用来设置项目在容器中出现的顺序，您可以通过具体的数值来定义项目在容器中的位置，属性的语法格式如下：<br><code>order: number;</code><br>其中 number 就是项目在容器中的位置，默认值为 0。</p></blockquote><blockquote><p>align-self<br>align-self 属性允许您为某个项目设置不同于其它项目的对齐方式，该属性可以覆盖 align-items 属性的值。align-self 属性的可选值如下：</p></blockquote><table><thead><tr><th align="center">值</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">auto</td><td align="center">默认值，表示元素将继承其父容器的 align-items 属性值，如果没有父容器，则为“stretch”</td></tr><tr><td align="center">stretch</td><td align="center">项目将被拉伸以适合容器</td></tr><tr><td align="center">center</td><td align="center">项目位于容器的中央</td></tr><tr><td align="center">flex-start</td><td align="center">项目位于容器的顶部</td></tr><tr><td align="center">flex-end</td><td align="center">项目位于容器的底部</td></tr><tr><td align="center">baseline</td><td align="center">项目与容器的基线对齐</td></tr><tr><td align="center">initial</td><td align="center">将此属性设置为属性的默认值</td></tr><tr><td align="center">inherit</td><td align="center">从父元素继承属性的值</td></tr></tbody></table><blockquote><p>flex<br>flex 属性是 flex-grow、flex-shrink 和 flex-basis 三个属性的简写，语法格式如下：<br><code>flex: flex-grow flex-shrink flex-basis;</code></p><p>参数说明如下：</p><ul><li>flex-grow：（必填参数）一个数字，用来设置项目相对于其他项目的增长量，默认值为 0；</li><li>flex-shrink：（选填参数）一个数字，用来设置项目相对于其他项目的收缩量，默认值为 1；</li><li>flex-basis：（选填参数）项目的长度，合法值为 auto（默认值，表示自动）、inherit（表示从父元素继承该属性的值） 或者以具体的值加 “%”、”px”、”em” 等单位的形式。</li></ul><p>另外，flex 属性还有两个快捷值，分别为 auto（1 1 auto）和 none（0 0 auto）。</p></blockquote><p>另外，除了可以使用 flex 属性外，您也可以使用 flex-grow、flex-shrink、flex-basis 几个属性来分别设置项目的增长量、收缩量以及项目长度，例如：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.flex</span> <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>) &#123;</span><br><span class="line">  <span class="attribute">flex-grow</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">flex-shrink</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">flex-basis</span>: auto;</span><br><span class="line">  <span class="comment">/* 等同于 flex:1 1 auto; */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（2-1）</title>
      <link href="/post/5c0cb90c.html"/>
      <url>/post/5c0cb90c.html</url>
      
        <content type="html"><![CDATA[<h2 id="面试过程"><a href="#面试过程" class="headerlink" title="面试过程"></a>面试过程</h2><p>今天下午经历了第二次面试，面试官是一个小姐姐，看着挺和蔼的，具体问的问题其实也不算难，<br>都是前端开发中常用的东西，但是她可能更想了解原理，而我处于只会用的境界，整体感觉我觉<br>得很不好，不出意外，应该是挂了…</p><h2 id="CSS3-中的动画以及常用的-css3-属性"><a href="#CSS3-中的动画以及常用的-css3-属性" class="headerlink" title="CSS3 中的动画以及常用的 css3 属性"></a>CSS3 中的动画以及常用的 css3 属性</h2><p>我回答的是 scale、transform、rotate 等，然后她又问我动画相关的，我说自己常用的可能就是 animation，然后自定义一些动画，进行引用啥的…</p><h2 id="promise-相关"><a href="#promise-相关" class="headerlink" title="promise 相关"></a>promise 相关</h2><p>刚开始小姐姐问 promise 了解吗，我说了解，主要是用来解决 ajax 回调地狱的问题的，然后她问我 promise 可以实现同步吗，问到这里，我已经不行了，这种概念题可真是让我头疼，之后又问我.then 方法是同步还是异步？.all 可以实现同步吗？为什么？直接想死</p><h2 id="ES6-相关"><a href="#ES6-相关" class="headerlink" title="ES6 相关"></a>ES6 相关</h2><p>先问了我会用 ES6 吗，都用了哪些，我说常用的可能就是解构赋值和箭头函数，然后又问我解构赋值具体咋用，最后问了我结构赋值是深拷贝还是浅拷贝，为什么？我的妈，又是为什么，哎….没了</p><h2 id="关于面试的回顾，知识点总结"><a href="#关于面试的回顾，知识点总结" class="headerlink" title="关于面试的回顾，知识点总结"></a>关于面试的回顾，知识点总结</h2><h2 id="css3-新增有哪些"><a href="#css3-新增有哪些" class="headerlink" title="css3 新增有哪些"></a>css3 新增有哪些</h2><h3 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h3><table><thead><tr><th>选择器</th><th align="center">例子</th><th>例子描述</th></tr></thead><tbody><tr><td>elem1~elem2</td><td align="center">p~ul</td><td>选择前面有&lt;p&gt;元素的每个&lt;ul&gt;元素</td></tr><tr><td>[attribute^&#x3D;value]</td><td align="center">a[src^&#x3D;”https”]</td><td>选择其 src 属性值以“HTTP 是”开头的每个&lt;a&gt;元素</td></tr><tr><td>[attribute$&#x3D;value]</td><td align="center">a[src$&#x3D;”.pdf”]</td><td>选择其 src 属性以“.pdf”结尾的所有&lt;a&gt;元素</td></tr><tr><td>[attribute*&#x3D;value]</td><td align="center">a[src*&#x3D;”abd”]</td><td>选择其 src 属性中包含“abc”子串的每个&lt;a&gt;元素</td></tr><tr><td>:first-of-type</td><td align="center">p:first-of-type</td><td>选择属于其父元素的首个&lt;p&gt;元素的每个&lt;p&gt;元素</td></tr><tr><td>:last-of-type</td><td align="center">p:last-of-type</td><td>选择属于其父元素的最后&lt;p&gt;元素的每个&lt;p&gt;元素</td></tr><tr><td>:only-of-type</td><td align="center">p:only-of-type</td><td>选择属于其父元素的唯一的&lt;p&gt;元素的每个&lt;p&gt;元素</td></tr><tr><td>:noly-child</td><td align="center">p:only-child</td><td>选择属于其父元素的唯一子元素的每个&lt;p&gt;元素</td></tr><tr><td>:nth-child(n)</td><td align="center">p:nth-child(2)</td><td>选择属于其父元素的第二个子元素的每个&lt;p&gt;元素</td></tr><tr><td>:nth-last-child(n)</td><td align="center">p:nth-last-child(2)</td><td>同上，从最后一个子元素开始计数</td></tr><tr><td>:nth-of-type(n)</td><td align="center">p:nth-of-type(2)</td><td>选择属于其父元素第二个&lt;p&gt;元素的每个&lt;p&gt;元素</td></tr><tr><td>:nth-last-of-type(n)</td><td align="center">p:nth-last-of-type(2)</td><td>同上，但是从最后一个子元素开始计数</td></tr><tr><td>:last-child</td><td align="center">p:last-child</td><td>选择属于其父元素最后一个子元素每个&lt;p&gt;元素</td></tr></tbody></table><h3 id="新样式"><a href="#新样式" class="headerlink" title="新样式"></a>新样式</h3><ul><li><p>边框</p><blockquote><ul><li>border-radius: 创建圆角边框</li><li>box-shadow: 为元素添加阴影</li><li>border-image: 使用图片来绘制边框</li></ul></blockquote></li><li><p>box-shadow</p><blockquote><p>设置元素阴影，设置属性如下：</p><ul><li>水平阴影</li><li>垂直阴影</li><li>模糊距离</li><li>阴影尺寸（影子大小）</li><li>阴影颜色</li><li>内&#x2F;外阴影</li></ul><p>其中水平阴影和垂直阴影是必须设置的</p></blockquote></li></ul><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>新增了几个关于背景的属性，分别是<code>background-clip</code>、<code>background-origin</code>、<code>background-size</code> 和 <code>background-break</code></p><ul><li><p>background-clip</p><blockquote><p>用于确定背景画区，有以下几种可能的属性：</p><ul><li>background-clip: border-box; 背景从 <code>border</code> 开始显示</li><li>background-clip: padding-box; 背景从 <code>padding</code> 开始显示</li><li>background-clip: content-box; 背景从 <code>content</code> 区域开始显示</li><li>background-clip: no-clip; 默认属性，等同于 <code>border-box</code></li></ul></blockquote></li><li><p>background-origin</p><blockquote><p>我们设置背景图片时，图片是会以左上角对齐，但是是以 <code>border</code> 的左上角对齐还是以 <code>padding</code> 的左上角或者 <code>content</code> 的左上角对齐？<code>border-origin</code> 正是用来设置这个的</p><ul><li>background-origin: border-box; 从 <code>border</code> 开始计算 <code>background-position</code></li><li>background-origin: padding-box; 从 <code>padding</code> 开始计算 <code>background-position</code></li><li>background-origin: content-box; 从 <code>content</code> 开始计算 <code>background-position</code></li></ul><p>默认情况是 <code>padding-box</code>，即以 <code>padding</code> 的左上角为原定</p></blockquote></li><li><p>background-size</p><blockquote><p><code>background-size</code> 属性常用来调整背景图片的大小，主要用于设定图片本身。有以下可能的属性：</p><ul><li>background-size: contain; 缩小图片以适合元素（维持像素长宽比）</li><li>background-size: cover; 扩展元素以填补元素（维持像素长宽比）</li><li>background-size: 100px 100px; 缩小图片至指定的大小</li><li>background-size: 50% 100%; 缩小图片至指定的大小，百分比是相对包含元素的尺寸</li></ul></blockquote></li><li><p>background-break</p><blockquote><p>元素可以被分成几个独立的盒子（如使内联元素 span 跨越多行），background-break 属性用来控制背景怎样在这些不同的盒子中显示</p><ul><li>background-break: continous; 默认值。忽略盒之间的距离（也就是像元素没有分成多个盒子，依然是一个整体一样）</li><li>background-break: bounding-box; 把盒之间的距离计算在内</li><li>background-break: each-box; 为每个盒子单独重绘背景</li></ul></blockquote></li></ul><h3 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h3><ul><li><p>word-wrap</p><blockquote><p>语法：word-wrap: normal | break-wrod</p><ul><li>normal: 使用浏览器默认的换行</li><li>break-all: 允许在单词内换行</li></ul></blockquote></li><li><p>text-overflow</p><blockquote><p><code>text-overflow</code> 设置或检索当当前行超过指定容器的边界时如何显示，属性有两个值选择：</p><ul><li>clip: 修剪文本</li><li>ellipsis: 显示省略符号来代表被修剪的文本</li></ul></blockquote></li><li><p>text-shadow</p><blockquote><p><code>text-shadow</code>可向文本应用阴影。能够规定水平阴影、垂直阴影、模糊距离，以及阴影的颜色</p></blockquote></li><li><p>text-decoration</p><blockquote><p><code>CSS3</code> 里面开始支持对文字的更深层次的渲染，具体有三个属性可供设置：</p><ul><li>text-fill-color: 设置文字内部填充颜色</li><li>text-stroke-color: 设置文字边界填充颜色</li><li>text-stroke-width: 设置文字边界宽度</li></ul></blockquote></li></ul><h3 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h3><blockquote><p>css3 新增了新的颜色表示方式 rgba 与 hsla</p><ul><li>rgba 分为两部分，rgb 为颜色值，a 为透明度</li><li>hala 分为四部分，h 为色相，s 为饱和度，l 为亮度，a 为透明度</li></ul></blockquote><h2 id="transition-过渡"><a href="#transition-过渡" class="headerlink" title="transition 过渡"></a>transition 过渡</h2><blockquote><p><code>transition</code> 属性可以被指定为一个或多个 <code>CSS</code> 属性的过渡效果，多个属性之间用逗号进行分隔，必须规定两项内容：</p><ul><li>过渡效果</li><li>持续时间</li></ul></blockquote><p>语法如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transition</span>： CSS属性，花费时间，效果曲线(默认ease)，延迟时间(默认<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>上面为简写模式，也可以分开写各个属性</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transition-property</span>: width;</span><br><span class="line"><span class="attribute">transition-duration</span>: <span class="number">1s</span>;</span><br><span class="line"><span class="attribute">transition-timing-function</span>: linear;</span><br><span class="line"><span class="attribute">transition-delay</span>: <span class="number">2s</span>;</span><br></pre></td></tr></table></figure><h2 id="transform-转换"><a href="#transform-转换" class="headerlink" title="transform 转换"></a>transform 转换</h2><blockquote><p><code>transform</code> 属性允许你旋转，缩放，倾斜或平移给定元素</p><p><code>transform-origin</code>：转换元素的位置（围绕那个点进行转换），默认值为(x,y,z):(50%,50%,0)</p><p>使用方式：</p><ul><li>transform: translate(120px, 50%)：位移</li><li>transform: scale(2, 0.5)：缩放</li><li>transform: rotate(0.5turn)：旋转</li><li>transform: skew(30deg, 20deg)：倾斜</li></ul></blockquote><h2 id="animation-动画"><a href="#animation-动画" class="headerlink" title="animation 动画"></a>animation 动画</h2><blockquote><p>动画这个平常用的也很多，主要是做一个预设的动画。和一些页面交互的动画效果，结果和过渡应该一样，让页面不会那么生硬</p><p><code>animation</code> 也有很多的属性</p><ul><li>animation-name：动画名称</li><li>animation-duration：动画持续时间</li><li>animation-timing-function：动画时间函数</li><li>animation-delay：动画延迟时间</li><li>animation-iteration-count：动画执行次数，可以设置为一个整数，也可以设置为 infinite，意思是无限循环</li><li>animation-direction：动画执行方向</li><li>animation-paly-state：动画播放状态</li><li>animation-fill-mode：动画填充模式</li></ul></blockquote><h2 id="渐变"><a href="#渐变" class="headerlink" title="渐变"></a>渐变</h2><blockquote><p>颜色渐变是指在两个颜色之间平稳的过渡，<code>css3</code> 渐变包括</p></blockquote><ul><li><p>linear-gradient：线性渐变</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(direction, color-stop1, color-stop2, …);</span><br></pre></td></tr></table></figure></li><li><p>radial-gradient：径向渐变</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-image</span>: <span class="built_in">radial-gradient</span>(<span class="number">0deg</span>, red, green);</span><br></pre></td></tr></table></figure></li></ul><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><blockquote><ul><li><a href="https://blog.csdn.net/u012138854/article/details/127740658">https://blog.csdn.net/u012138854/article/details/127740658</a></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开启研究生面试的记录（1）</title>
      <link href="/post/4eb916e2.html"/>
      <url>/post/4eb916e2.html</url>
      
        <content type="html"><![CDATA[<h2 id="面试过程"><a href="#面试过程" class="headerlink" title="面试过程"></a>面试过程</h2><p>由于个人觉得找工作的时候有和没有实习经历是不一样的，所以就特别想在找正式工作之前，经历一个实习，<br>然后就投递了一些简历（我投的时候，是挑着投的，后来有经验的人说，实习嘛，不应该追求工资，所以不要挑，<br>别人要你就行）。然后今天下午收到了一个笔试链接，因为之前投递后，也会有一些链接，让你填写一些类似公<br>务员考试的那种场景题、逻辑题、还有一些工作场景中会有的问题，问你如何解决，结果这一次不是，我点进去<br>一看，只有三个题，30 分钟，我瞬间觉得是正儿八经的笔试题，但是回不去了，开着摄像头呢，没办法，做吧，<br>由于太紧张，第一个提看了七分钟还没有头绪，就想着先做后面的，然后平静下来后，回来在做，结果…，人<br>家规定提交上一个，才来做下一个，但是因为时间关系，没办法，我只能放弃第一个了，后面俩个做的挺顺利的，<br>一共 23 分钟，这时候，我想其实第一个也不难，但是没机会了，哎第一个题就是让你从给定的数组中选出出现<br>次数最多的元素，可能不止一个。看到这个题，我就想如何存储每一个数字的次数，思路对，但是数据结构…，<br>由于平时用的 java，一下就想到了 map，但是 js 有 map 吗？忘了，尴尬，没办法，用数组吧，本来用数组<br>也挺简单，紧张的不行竟然想着用两个存储，对应位置一个记录数字，一个记录次数，线上的 ide，没有提示，<br>好像有的方法也没法用，比如 indexOf，最终无疾而终</p><h2 id="正确的答案"><a href="#正确的答案" class="headerlink" title="正确的答案"></a>正确的答案</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getReaptNums</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    res[arr[i]]++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> max = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; res.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (max &lt; res[i]) max = res[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> ans = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; res.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (res[i] == max) ans.<span class="title function_">push</span>(i);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>html相关知识（2）</title>
      <link href="/post/c4d42ff.html"/>
      <url>/post/c4d42ff.html</url>
      
        <content type="html"><![CDATA[<p>HTML 为标题的文章主要记录了自己在 HTML 学习的过程中遇到的知识点</p><h2 id="如何理解-HTML-的语义化"><a href="#如何理解-HTML-的语义化" class="headerlink" title="如何理解 HTML 的语义化"></a>如何理解 HTML 的语义化</h2><blockquote><ul><li>让人更容易读懂代码（增加代码可读性）</li><li>让搜索引擎更容易读懂（SEO-搜索引擎优化）</li></ul></blockquote><p>在此基础上列举一个简单的例子，比如说标题使用 div 和 h1，列表使用 div 和 ul、li 等的对比。</p><h2 id="默认情况下，哪些是块状元素，哪些是内联元素"><a href="#默认情况下，哪些是块状元素，哪些是内联元素" class="headerlink" title="默认情况下，哪些是块状元素，哪些是内联元素"></a>默认情况下，哪些是块状元素，哪些是内联元素</h2><blockquote><p>display：block&#x2F;table div、table、h1、h2、…、ul、ol、p<br>display：inline&#x2F;inline-block span、img、input、button</p></blockquote><h2 id="float-布局：如何实现圣杯布局和双飞翼布局、手写-clearfix"><a href="#float-布局：如何实现圣杯布局和双飞翼布局、手写-clearfix" class="headerlink" title="float 布局：如何实现圣杯布局和双飞翼布局、手写 clearfix"></a>float 布局：如何实现圣杯布局和双飞翼布局、手写 clearfix</h2><blockquote><ul><li>圣杯布局和双飞翼布局的目的：1）、三栏布局，中间一栏最先加载和渲染（内容最重要） 2）、两侧内容固定，中间内容随着宽度自适应 3）、一般用于 PC 网页</li><li>圣杯布局和双飞翼布局的技术总结：1）、使用 float 布局 2）、两侧使用 margin 负值，以便和中间内容横向重叠 3）、防止中间内容被两侧覆盖，一个用 padding、一个用 margin</li></ul></blockquote><h3 id="圣杯布局"><a href="#圣杯布局" class="headerlink" title="圣杯布局"></a>圣杯布局</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>圣杯布局<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">min-width</span>: <span class="number">550px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#header</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: <span class="number">#f1f1f1</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#container</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding-left</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding-right</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#container</span> <span class="selector-class">.column</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#center</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#left</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">right</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#right</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-right</span>: -<span class="number">150px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#footer</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: <span class="number">#f1f1f1</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="comment">/* 手写 clearfix */</span></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: table;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">clear</span>: both;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.clearfix</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* 兼容IE低版本 */</span></span></span><br><span class="line"><span class="language-css">        *zoom: <span class="number">1</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;header&quot;</span>&gt;</span>this is header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span> <span class="attr">class</span>=<span class="string">&quot;clearfix&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;center&quot;</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span>this is center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;left&quot;</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span>this is left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;right&quot;</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span>this is right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;footer&quot;</span>&gt;</span>this is footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="双飞翼布局"><a href="#双飞翼布局" class="headerlink" title="双飞翼布局"></a>双飞翼布局</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>双飞翼布局<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">min-width</span>: <span class="number">550px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.col</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#main</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#main-wrap</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">190px</span> <span class="number">0</span> <span class="number">190px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#left</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">190px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: <span class="number">#0000ff</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#right</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">190px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: <span class="number">#ff0000</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-left</span>: -<span class="number">190px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main-wrap&quot;</span>&gt;</span>this is main<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;left&quot;</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span>this is left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;right&quot;</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span>this is right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="flex-实现三点骰子"><a href="#flex-实现三点骰子" class="headerlink" title="flex 实现三点骰子"></a>flex 实现三点骰子</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    * &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#container</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.item</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.item</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">align-self</span>: center;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.item</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>) &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">align-self</span>: self-end;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./a.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于Hexo搭建博客的第一篇文章</title>
      <link href="/post/bbb939dd.html"/>
      <url>/post/bbb939dd.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
